<!DOCTYPE html>
<!-- saved from url=(0061)https://www.odoo.com/documentation/master/howtos/backend.html -->
<html xmlns="http://www.w3.org/1999/xhtml" class="translated-ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="./构建模块 - odoo 12.0文档_files/css" rel="stylesheet">
  
    <title>构建模块 -  odoo 12.0文档</title>
    <link rel="stylesheet" href="./构建模块 - odoo 12.0文档_files/style.css" type="text/css">
    <link rel="stylesheet" href="./构建模块 - odoo 12.0文档_files/pygments.css" type="text/css">
    <link rel="stylesheet" href="./构建模块 - odoo 12.0文档_files/patchqueue.css" type="text/css">
    <script async="" src="./构建模块 - odoo 12.0文档_files/analytics.js.下载"></script><script type="text/javascript" src="./构建模块 - odoo 12.0文档_files/documentation_options.js.下载"></script>
    <script type="text/javascript" src="./构建模块 - odoo 12.0文档_files/jquery.js.下载"></script>
    <script type="text/javascript" src="./构建模块 - odoo 12.0文档_files/underscore.js.下载"></script>
    <script type="text/javascript" src="./构建模块 - odoo 12.0文档_files/doctools.js.下载"></script>
    <script type="text/javascript" src="./构建模块 - odoo 12.0文档_files/patchqueue.js.下载"></script>
    <script type="text/javascript" src="./构建模块 - odoo 12.0文档_files/jquery.min.js.下载"></script>
    <script type="text/javascript" src="./构建模块 - odoo 12.0文档_files/bootstrap.js.下载"></script>
    <script type="text/javascript" src="./构建模块 - odoo 12.0文档_files/doc.js.下载"></script>
    <script type="text/javascript" src="./构建模块 - odoo 12.0文档_files/jquery.noconflict.js.下载"></script>
    <link rel="index" title="指数" href="https://www.odoo.com/documentation/master/genindex.html">
    <link rel="search" title="搜索" href="https://www.odoo.com/documentation/master/search.html">
    <link rel="next" title="自定义Web客户端" href="https://www.odoo.com/documentation/master/howtos/web.html">
    <link rel="prev" title="Building a Website" href="https://www.odoo.com/documentation/master/howtos/website.html"> 
  <link type="text/css" rel="stylesheet" charset="UTF-8" href="./构建模块 - odoo 12.0文档_files/translateelement.css"></head><body style="padding-bottom: 445px;"><header class="o_main_header o_has_sub_nav o_inverted  o_scrolled">
    <div class="o_main_header_main">
      <a class="pull-left o_logo" href="https://www.odoo.com/"></a>
      <a href="https://www.odoo.com/documentation/master/howtos/backend.html#" class="o_mobile_menu_toggle visible-xs-block pull-right">
        <span class="sr-only">Toggle navigation</span>
        <span class="mdi-navigation-menu"></span>
      </a>
      <div class="o_header_buttons">
        <a href="http://www.odoo.com/trial" class="btn btn-primary"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在开始</font></font></a>
      </div>
      <ul class="o_primary_nav">
        <li class="dropdown">
          <a href="https://www.odoo.com/documentation/master/howtos/backend.html#" class="dropdown-toggle"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用</font></font></a>
          <div class="dropdown-menu o_secondary_nav">
            <div class="container">
              <div class="row">
                <div class="col-sm-3 o_website_apps">
                  <div class="o_nav_app_family">
                    <span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 网站
                    </font></font><div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">建立良好的用户体验</font></font></div>
                  </div>
                  <ul>
                    <li><a href="https://www.odoo.com/page/website-builder"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网站建设者</font></font></a></li>
                    <li><a href="https://www.odoo.com/page/e-commerce"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">电子商务</font></font></a></li>
                    <li><a href="https://www.odoo.com/page/blog-engine"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">博客</font></font></a></li>
                    <li><a href="https://www.odoo.com/page/community-builder"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">论坛</font></font></a></li>
                    <li><a href="https://www.odoo.com/page/slides"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">幻灯片</font></font></a></li>
                    <li><a href="https://adspike.odoo.com/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">海</font></font></a></li>
                  </ul>
                </div>
                <div class="col-sm-3 o_sale_apps">
                  <div class="o_nav_app_family">
                    <span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 销售
                    </font></font><div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提高你的成功率</font></font></div>
                  </div>
                  <ul>
                    <li><a href="https://www.odoo.com/page/sales"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">销售</font></font></a></li>
                    <li><a href="https://www.odoo.com/page/crm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CRM</font></font></a></li>
                    <li><a href="https://www.odoo.com/page/billing"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进销存</font></font></a></li>
                    <li class="dropdown">
                      <a href="https://www.odoo.com/documentation/master/howtos/backend.html#0" class="dropdown-toggle"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">销售点</font></font></a>
                      <ul>
                        <li><a href="https://www.odoo.com/page/point-of-sale"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">商店</font></font></a></li>
                        <li><a href="https://www.odoo.com/page/pos-restaurant"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">餐馆</font></font></a></li>
                      </ul>
                    </li>
                    <li><a href="https://www.odoo.com/page/subscriptions"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">订阅</font></font></a></li>
                    <li><a href="https://www.odoo.com/page/sign"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标志</font></font></a></li>
                  </ul>
                </div>
                <div class="col-sm-3 o_operation_apps">
                  <div class="o_nav_app_family">
                    <span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 操作
                    </font></font><div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这完全取决于效率</font></font></div>
                  </div>
                  <ul>
                    <li><a href="https://www.odoo.com/page/accounting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会计</font></font></a></li>
                    <li><a href="https://www.odoo.com/page/project-management"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">项目</font></font></a></li>
                    <li class="dropdown">
                      <a href="https://www.odoo.com/documentation/master/howtos/backend.html#0" class="dropdown-toggle"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">人力资源</font></font></a>
                      <ul>
                        <li><a href="https://www.odoo.com/page/recruitment"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">招聘</font></font></a></li>
                        <li><a href="https://www.odoo.com/page/employees"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">雇员</font></font></a></li>
                        <li><a href="https://www.odoo.com/page/expenses"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">花费</font></font></a></li>
                        <li><a href="https://www.odoo.com/page/appraisal"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">评价</font></font></a></li>
                        <li><a href="https://www.odoo.com/page/fleet"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">舰队</font></font></a></li>
                        <li><a href="https://www.odoo.com/page/leaves"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">树叶</font></font></a></li>
                      </ul>
                    </li>
                    <li><a href="https://www.odoo.com/page/warehouse"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库存</font></font></a></li>
                    <li><a href="https://www.odoo.com/page/purchase"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">采购</font></font></a></li>
                    <li class="dropdown">
                      <a href="https://www.odoo.com/documentation/master/howtos/backend.html#0" class="dropdown-toggle"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">制造业</font></font></a>
                      <ul>
                        <li><a href="https://www.odoo.com/page/manufacturing"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MRP</font></font></a></li>
                        <li><a href="https://www.odoo.com/page/plm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PLM</font></font></a></li>
                        <li><a href="https://www.odoo.com/page/maintenance"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保养</font></font></a></li>
                        <li><a href="https://www.odoo.com/page/quality"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">质量</font></font></a></li>
                      </ul>
                    </li>
                  </ul>
                </div>
                <div class="col-sm-3 o_productivity_apps">
                  <div class="o_nav_app_family">
                    <span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 生产力工具
                    </font></font><div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">伟大的工具=快乐的人</font></font></div>
                  </div>
                  <ul>
                    <li class="dropdown">
                      <a href="https://www.odoo.com/documentation/master/howtos/backend.html#0" class="dropdown-toggle"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通讯</font></font></a>
                      <ul>
                        <li><a href="https://www.odoo.com/page/discuss"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">讨论</font></font></a></li>
                        <li><a href="https://www.odoo.com/page/discuss-groups"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">邮件列表</font></font></a></li>
                        <li><a href="https://www.odoo.com/page/notes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">笔记</font></font></a></li>
                        <li><a href="https://www.odoo.com/documentation/master/howtos/backend.html#"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务台</font></font></a></li>
                        <li><a href="https://www.odoo.com/documentation/master/howtos/backend.html#"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">约定</font></font></a></li>
                      </ul>
                    </li>
                    <li><a href="https://www.odoo.com/page/timesheet"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间表</font></font></a></li>
                    <li><a href="https://www.odoo.com/page/email-marketing"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">电子邮件营销</font></font></a></li>
                    <li><a href="https://www.odoo.com/page/events"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">活动</font></font></a></li>
                    <li><a href="https://www.odoo.com/page/survey"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调查</font></font></a></li>
                    <li><a href="https://www.odoo.com/page/live-chat"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在线聊天</font></font></a></li>
                  </ul>
                </div>
              </div>
            </div>
            <a href="http://www.odoo.com/apps/modules" class="o_store_link"><i class="fa fa-cube fa-fw"></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 第三方应用</font></font></a>
          </div>
        </li>
        <li><a href="https://www.odoo.com/page/tour"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">游览</font></font></a></li>
        <li><a href="https://www.odoo.com/pricing"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">价钱</font></font></a></li>
        <li><a href="https://www.odoo.com/page/docs"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件</font></font></a></li>
      </ul>
    </div>
    <nav class="navbar o_sub_nav">
      <div class="container">
        <div class="navbar-header visible-xs">
            <button type="button" class="navbar-toggle collapsed text-left btn-block" data-toggle="collapse" data-target="#o_sub-menu" aria-expanded="false">
              Navigate
              <span class="mdi-hardware-keyboard-arrow-down pull-right"></span>
            </button>
        </div>

        <div class="collapse navbar-collapse" id="o_sub-menu">
          <ol class="o_breadcrumb breadcrumb nav navbar-left">
              
              





    
        
            <li><a href="https://www.odoo.com/documentation/master/index.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开发人员文件</font></font></a></li>
        
    
    <li class="active"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">构建模块</font></font></a></li>

              
          </ol>

          <div class="call-to-action navbar-right hidden-xs">
            <a href="http://www.odoo.com/trial" class="btn btn-primary"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在开始</font></font></a>
          </div>

          <ul class="navbar-nav navbar-right nav o_sub_nav_actions">
            
              <li class="divider"></li>
            

            
            


<li class="versions dropdown">
    <a class="dropdown-toggle" href="https://www.odoo.com/documentation/master/howtos/backend.html#" data-toggle="dropdown"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        12.0
    </font></font></a>
    <ul class="dropdown-menu" role="menu">
        
            <li><a href="https://www.odoo.com/documentation/8.0/howtos/backend.html">8.0</a></li>
        
            <li><a href="https://www.odoo.com/documentation/9.0/howtos/backend.html">9.0</a></li>
        
            <li><a href="https://www.odoo.com/documentation/10.0/howtos/backend.html">10.0</a></li>
        
            <li><a href="https://www.odoo.com/documentation/11.0/howtos/backend.html">11.0</a></li>
        
            <li><a href="https://www.odoo.com/documentation/master/howtos/backend.html">master</a></li>
        
    </ul>
</li>

            
          </ul>

          <ul class="nav navbar-nav navbar-right">
            
              <li class="divider"></li>
            

            
            

<li><a href="https://www.odoo.com/documentation/user/12.0/index.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户</font></font></a></li>
<li><a href="https://www.odoo.com/documentation/12.0/index.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开发人员</font></font></a></li>
<li><a href="https://www.odoo.com/documentation/12.0/setup/install.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装</font></font></a></li>
<li><a href="http://training.odoo.com/courses/odoo-functional"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">培训中心</font></font></a></li>
<li><a href="https://www.odoo.com/page/odoo-white-paper"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">白皮书</font></font></a></li>
<li><a href="https://www.odoo.com/page/legal"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">法律</font></font></a></li>
            

            
              <li class="divider"></li>
            
          </ul>
        </div>
      </div>
    </nav>
  </header><div id="wrap" class="">
    
    
    
    <figure class="card top has_banner">
      <span class="card-img" style="background-image: url(&quot;../_static/banners/build_a_module.jpg&quot;); opacity: -0.35; transform: scale(1.2);"></span>
      <div class="container text-center" style="transform: translateY(57.75px); opacity: 0;">
        <h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 构建模块 </font></font></h1>
      </div>
    </figure>
    
    
    
      <main class="container ">
        
        <div class="o_content row">
          
          <aside style="height: 54393px;">
            <div class="navbar-aside text-center affix" style="width: 239px;">
              <ul class="nav list-group text-left"><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#start-stop-the-odoo-server" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动/停止Odoo服务器</font></font></a></li><li class="list-group-item parent"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#build-an-odoo-module" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">构建一个Odoo模块</font></font></a><ul><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#composition-of-a-module" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块的组成</font></font></a></li><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#module-structure" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块结构</font></font></a></li><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#object-relational-mapping" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象关系映射</font></font></a></li><li class="list-group-item parent"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#model-fields" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模型字段</font></font></a><ul><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#common-attributes" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">共同属性</font></font></a></li><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#simple-fields" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">简单的领域</font></font></a></li><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#reserved-fields" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保留字段</font></font></a></li><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#special-fields" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特殊领域</font></font></a></li></ul></li><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#data-files" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据文件</font></font></a></li><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#actions-and-menus" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行动和菜单</font></font></a></li></ul></li><li class="list-group-item parent"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#basic-views" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本观点</font></font></a><ul><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#generic-view-declaration" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通用视图声明</font></font></a></li><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#tree-views" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">树视图</font></font></a></li><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#form-views" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表格视图</font></font></a></li><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#search-views" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜索视图</font></font></a></li></ul></li><li class="list-group-item parent"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#relations-between-models" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模型之间的关系</font></font></a><ul><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#relational-fields" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关系字段</font></font></a></li></ul></li><li class="list-group-item parent"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#inheritance" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">遗产</font></font></a><ul><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#model-inheritance" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模型继承</font></font></a></li><li class="list-group-item parent"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#view-inheritance" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查看继承</font></font></a><ul><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#domains" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">域</font></font></a></li></ul></li></ul></li><li class="list-group-item parent"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#computed-fields-and-default-values" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">计算字段和默认值</font></font></a><ul><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#dependencies" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">依赖</font></font></a></li><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#default-values" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认值</font></font></a></li></ul></li><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#onchange" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">平变化</font></font></a></li><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#model-constraints" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模型约束</font></font></a></li><li class="list-group-item parent"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#advanced-views" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高级视图</font></font></a><ul><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#id3" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">树视图</font></font></a></li><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#calendars" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日历</font></font></a></li><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#id4" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜索视图</font></font></a></li><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#gantt" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">甘特图</font></font></a></li><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#graph-views" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图表视图</font></font></a></li><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#kanban" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">看板</font></font></a></li></ul></li><li class="list-group-item parent"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#security" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安全</font></font></a><ul><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#group-based-access-control-mechanisms" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基于组的访问控制机制</font></font></a></li><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#access-rights" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">访问权限</font></font></a></li><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#record-rules" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">记录规则</font></font></a></li></ul></li><li class="list-group-item parent"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#wizards" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">奇才</font></font></a><ul><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#launching-wizards" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动向导</font></font></a></li></ul></li><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#internationalization" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国际化</font></font></a></li><li class="list-group-item parent"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#reporting" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">报告</font></font></a><ul><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#printed-reports" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">印刷报告</font></font></a></li><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#dashboards" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仪表板</font></font></a></li></ul></li><li class="list-group-item parent active"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#webservices" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网页服务</font></font></a><ul><li class="list-group-item"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#xml-rpc-library" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XML-RPC库</font></font></a></li><li class="list-group-item active"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#json-rpc-library" class="reference internal ripple" style="position: relative; overflow: hidden;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JSON-RPC库</font></font></a></li></ul></li></ul>
              
              <p class="gith-container"><a href="https://github.com/odoo/odoo/edit/12.0/doc/howtos/backend.rst" class="gith-link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                  在GitHub上编辑
              </font></font></a></p>
              
            </div>
          </aside>
          
          <article class="doc-body ">
            
            
  <section id="building-a-module"><div role="alert" class="alert alert-warning"><h3 class="alert-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警告</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本教程需要</font></font><a href="https://www.odoo.com/documentation/master/setup/install.html#setup-install" class="reference internal alert-link"><span class="std-ref std"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装Odoo</font></font></span></a></p></div></section><section id="start-stop-the-odoo-server"><h2 class="o_has_permalink_marker"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动/停止Odoo服务器</font></font><i class="mdi-content-link"></i></h2><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Odoo使用客户端/服务器架构，其中客户端是通过RPC访问Odoo服务器的Web浏览器。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">业务逻辑和扩展通常在服务器端执行，但是可以将支持客户端功能（例如，诸如交互式地图的新数据表示）添加到客户端。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要启动服务器，只需</font><font style="vertical-align: inherit;">在shell中</font><font style="vertical-align: inherit;">调用命令</font></font><a href="https://www.odoo.com/documentation/master/reference/cmdline.html#reference-cmdline" class="reference internal"><span class="std-ref std"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">odoo-bin</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，如有必要，添加文件的完整路径：</font></font></p><div class="bash code highlight-default"><div class="highlight"><pre><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">odoo </font></font></span><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font></span><span class="nb"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bin</font></font></span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过</font></font><code>Ctrl-C</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从终端</font><font style="vertical-align: inherit;">点击</font><font style="vertical-align: inherit;">两次或通过终止相应的OS进程</font><font style="vertical-align: inherit;">来停止服务器</font><font style="vertical-align: inherit;">。</font></font></p></section><section id="build-an-odoo-module"><h2 class="o_has_permalink_marker"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">构建一个Odoo模块</font></font><i class="mdi-content-link"></i></h2><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器和客户端扩展都打包为</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，可选择加载到</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库中</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Odoo模块可以为Odoo系统添加全新的业务逻辑，也可以改变和扩展现有的业务逻辑：可以创建一个模块，将您所在国家/地区的会计规则添加到Odoo的通用会计支持中，而下一个模块则增加对实时可视化的支持公交车队。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因此，Odoo中的所有内容都以模块开始和结束。</font></font></p></section><section id="composition-of-a-module"><h3 class="o_has_permalink_marker"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块的组成</font></font><i class="mdi-content-link"></i></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Odoo模块可以包含许多元素：</font></font></p><dl><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">业务对象</font></font></dt><dd><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">声称为Python类，这些资源由Odoo根据其配置自动保留</font></font></dd><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据文件</font></font></dt><dd><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XML或CSV文件声明元数据（视图或报告），配置数据（模块参数化），演示数据等</font></font></dd><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网络控制器</font></font></dt><dd><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">处理来自Web浏览器的请求</font></font></dd><dt><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">静态网络数据</font></font></dt><dd><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Web界面或网站使用的图像，CSS或javascript文件</font></font></dd></dl></section><section id="module-structure"><h3 class="o_has_permalink_marker"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块结构</font></font><i class="mdi-content-link"></i></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个模块都是</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块目录中的目录</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">使用该</font></font><a href="https://www.odoo.com/documentation/master/reference/cmdline.html#cmdoption-odoo-bin-addons-path" class="reference internal"><code class="xref std-option std">--addons-path</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
选项</font><font style="vertical-align: inherit;">指定模块目录</font><font style="vertical-align: inherit;">。</font></font></p><div role="alert" class="alert aphorism alert-info"><h3 class="alert-title">Tip</h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大多数命令行选项也可以使用</font><a href="https://www.odoo.com/documentation/master/reference/cmdline.html#reference-cmdline-config" class="reference internal alert-link"><span class="std-ref std"><font style="vertical-align: inherit;">配置文件</font></span></a><font style="vertical-align: inherit;">进行设置</font></font><a href="https://www.odoo.com/documentation/master/reference/cmdline.html#reference-cmdline-config" class="reference internal alert-link"><span class="std-ref std"><font style="vertical-align: inherit;"></font></span></a></p></div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Odoo模块由其</font></font><a href="https://www.odoo.com/documentation/master/reference/module.html#reference-module-manifest" class="reference internal"><span class="std-ref std"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">声明</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">请参阅</font><font style="vertical-align: inherit;">有关它</font><font style="vertical-align: inherit;">的</font></font><a href="https://www.odoo.com/documentation/master/reference/module.html#reference-module-manifest" class="reference internal"><span class="std-ref std"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单文档</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块也是</font><font style="vertical-align: inherit;">
带有</font><font style="vertical-align: inherit;">文件</font><font style="vertical-align: inherit;">的
 </font></font><a href="http://docs.python.org/2/tutorial/modules.html#packages" class="reference external"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python包</font></font></a><font style="vertical-align: inherit;"></font><code>__init__.py</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，包含模块中各种Python文件的导入指令。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，如果模块有一个</font></font><code>mymodule.py</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件</font></font><code>__init__.py</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
可能包含：</font></font></p><div class="highlight-default"><div class="highlight"><pre><span class="kn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来自</font></font></span> <span class="nn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></span> <span class="k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">导入</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mymodule</font></font></span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Odoo提供了一种帮助设置新模块的机制，</font></font><a href="https://www.odoo.com/documentation/master/reference/cmdline.html#reference-cmdline-server" class="reference internal"><span class="std-ref std"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">odoo-bin</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有一个子命令</font></font><a href="https://www.odoo.com/documentation/master/reference/cmdline.html#reference-cmdline-scaffold" class="reference internal"><span class="std-ref std"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">scaffold</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来创建一个空模块：</font></font></p><div class="highlight-console"><div class="highlight"><pre><span class="gp"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> odoo-bin scaffold &lt;模块名称&gt; &lt;放置它的位置&gt;
</font></font></pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该命令为您的模块创建一个子目录，并自动为模块创建一堆标准文件。</font><font style="vertical-align: inherit;">其中大多数只包含注释代码或XML。</font><font style="vertical-align: inherit;">本教程将解释大多数这些文件的用法。</font></font></p><div role="alert" class="alert alert-exercise"><h3 class="alert-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行使</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块创建</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用上面的命令行创建一个空模块Open Academy，并将其安装在Odoo中。</font></font></p><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用该命令</font></font><code>odoo-bin scaffold openacademy addons</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将清单文件调整到您的模块。</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不要打扰其他文件。</font></font></li></ol><div class="pq-patch"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">openacademy / __ manifest__.py</font></font></em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre><span class="hll"><span class="c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＃ -  *  - 编码：utf-8  -  *  - </font></font></span>
</span><span class="hll"><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{ </font></font></span>
</span><font style="vertical-align: inherit;"><span class="hll"><span class="s1"><font style="vertical-align: inherit;">'name' </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">：</font></span></span><span class="hll"><span class="s2"><font style="vertical-align: inherit;">“Open Academy” </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">，</font></span></span><span class="hll"><span class="s1"><font style="vertical-align: inherit;">“summary” </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">：</font></span></span><span class="hll"><span class="s2"><font style="vertical-align: inherit;">“”“管理培训”“” </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">，</font></span></span><span class="hll"><span class="s1"><font style="vertical-align: inherit;">“描述” </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">：</font></span></span><span class="hll"><span class="s2"><font style="vertical-align: inherit;">“”“ </font></span></span><span class="hll"><span class="s2"><font style="vertical-align: inherit;">        Open Academy模块用于管理培训：</font></span></span><span class="hll"><span class="s2"><font style="vertical-align: inherit;">            -培训课程</font></span></span><span class="hll"><span class="s2"><font style="vertical-align: inherit;">            - 培训课程</font></span></span><span class="hll"><span class="s2"><font style="vertical-align: inherit;">            - 与会者注册</font></span></span><span class="hll"><span class="s2"><font style="vertical-align: inherit;">    “”“ </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">，</font></span></span><span class="hll"><span class="s1"><font style="vertical-align: inherit;">”作者“ </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">：</font></span></span><span class="hll"><span class="s2"><font style="vertical-align: inherit;">”我的公司“ </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">，</font></span></span><span class="hll"><span class="s1"><font style="vertical-align: inherit;">”网站“ </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">：</font></span></span><span class="hll"><span class="s2"><font style="vertical-align: inherit;">”http://www.yourcompany.com“ </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">，</font></span></span><span class="hll"><span class="c1"><font style="vertical-align: inherit;">＃Categories可用于过滤模块列表中的模块</font></span></span><span class="hll"><span class="c1"><font style="vertical-align: inherit;">#Check HTTPS：//github.com/odoo/odoo/blob/12.0/odoo/addons/base/data/ir_module_category_data.xml</font></span></span></font><span class="hll">    <span class="s1"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span> <span class="s2"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">
</span><span class="hll">    <span class="s1"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span> <span class="s2"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">
</span><span class="hll">    <span class="s1"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span> <span class="s2"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll"><span class="s2"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll"><span class="s2"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll"><span class="s2"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll"><span class="s2"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll"><span class="s2"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">
</span><span class="hll">    <span class="s1"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span> <span class="s2"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">    <span class="s1"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span> <span class="s2"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">
</span><span class="hll">    <span class="c1"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">    <span class="c1"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">    <span class="c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＃为完整列表</font></font></span>
</span><font style="vertical-align: inherit;"><span class="hll"><span class="s1"><font style="vertical-align: inherit;">'类别' </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">：</font></span></span><span class="hll"><span class="s1"><font style="vertical-align: inherit;">'测试' </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">，</font></span></span><span class="hll"><span class="s1"><font style="vertical-align: inherit;">'版本' </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">：</font></span></span><span class="hll"><span class="s1"><font style="vertical-align: inherit;">'0.1' </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">，</font></span></span><span class="hll"><span class="c1"><font style="vertical-align: inherit;">＃这个正常工作所需的任何模块</font></span></span><span class="hll"><span class="s1"><font style="vertical-align: inherit;">'取决于' </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">：</font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">[ </font></span></span><span class="hll"><span class="s1"><font style="vertical-align: inherit;">'base' </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">]，</font></span></span><span class="hll"><span class="c1"><font style="vertical-align: inherit;">＃always loaded'data </font></span></span><span class="hll"><span class="s1"><font style="vertical-align: inherit;">' </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">：</font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">[ </font></span></span><span class="hll"><span class="c1"><font style="vertical-align: inherit;">＃ 'security / ir.model.access.csv'，</font></span></span><span class="hll"><span class="s1"><font style="vertical-align: inherit;">'templates.xml' </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">，</font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">]，</font></span></span><span class="hll"><span class="c1"><font style="vertical-align: inherit;">＃仅在演示模式</font></span></span><span class="hll"><span class="s1"><font style="vertical-align: inherit;">'demo'中</font></span></span><span class="hll"><span class="c1"><font style="vertical-align: inherit;">加载</font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">：</font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">[ </font></span></span><span class="hll"><span class="s1"><font style="vertical-align: inherit;">'demo.xml' </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">，</font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">]，</font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">}</font></span></span></font><span class="hll">    <span class="s1"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span> <span class="s1"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">    <span class="s1"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span> <span class="s1"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">
</span><span class="hll">    <span class="c1"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">    <span class="s1"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span> <span class="p"><font style="vertical-align: inherit;"></font></span><span class="s1"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">
</span><span class="hll">    <span class="c1"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">    <span class="s1"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span> <span class="p"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c1"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="s1"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">    <span class="p"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">    <span class="c1"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">    <span class="s1"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span> <span class="p"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="s1"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">    <span class="p"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll"><span class="p"><font style="vertical-align: inherit;"></font></span>
</span></pre></div>
</div>
</div><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">openacademy / __ init__.py</font></font></em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre><span class="hll"><span class="c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＃ -  *  - 编码：utf-8  -  *  - </font></font></span>
</span><span class="hll"><span class="kn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来自</font></font></span> <span class="nn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></span> <span class="kn"><font style="vertical-align: inherit;"></font></span> <span class="n"><font style="vertical-align: inherit;"></font></span>
</span><font style="vertical-align: inherit;"><span class="hll"><span class="kn"><font style="vertical-align: inherit;">从中</font></span></span><span class="hll"><span class="kn"><font style="vertical-align: inherit;">导入</font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">控制器</font></span></span><span class="hll"><span class="nn"><font style="vertical-align: inherit;">。</font></span></span><span class="hll"><span class="kn"><font style="vertical-align: inherit;">进口</font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">车型</font></span></span></font><span class="hll"><span class="kn"><font style="vertical-align: inherit;"></font></span> <span class="nn"><font style="vertical-align: inherit;"></font></span> <span class="kn"><font style="vertical-align: inherit;"></font></span> <span class="n"><font style="vertical-align: inherit;"></font></span>
</span></pre></div>
</div>
</div><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">openacademy / controllers.py</font></font></em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre><span class="hll"><span class="c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＃ -  *  - 编码：utf-8  -  *  - </font></font></span>
</span><span class="hll"><span class="kn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来自</font></font></span> <span class="nn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">odoo </font></font></span> <span class="kn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">import </font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http </font></font></span>
</span><font style="vertical-align: inherit;"><span class="hll"><span class="c1"><font style="vertical-align: inherit;">＃class Openacademy（http.Controller）：</font></span></span><span class="hll"><span class="c1"><font style="vertical-align: inherit;">＃@ http.route（'/ openacademy / openacademy /'，auth ='public'）</font></span></span><span class="hll"><span class="c1"><font style="vertical-align: inherit;">＃def index（self ，** kw）：</font></span></span><span class="hll"><span class="c1"><font style="vertical-align: inherit;">＃return“Hello，world” </font></span></span><span class="hll"><span class="c1"><font style="vertical-align: inherit;">＃@ http.route（'/ openacademy / openacademy / objects /'，auth ='public'）</font></span></span><span class="hll"><span class="c1"><font style="vertical-align: inherit;">#def list（self，** kw）：</font></span></span><span class="hll"><span class="c1"><font style="vertical-align: inherit;">＃return http。 request.render（'openacademy.listing'，{ </font></span></span><span class="hll"><span class="c1"><font style="vertical-align: inherit;">＃'root'：'/ openacademy / openacademy'，</font></span></span><span class="hll"><span class="c1"><font style="vertical-align: inherit;">＃'objects'：http.request.env ['openacademy.openacademy']。search（[]），</font></span></span><span class="hll"><span class="c1"><font style="vertical-align: inherit;">＃}）</font></span></span><span class="hll"><span class="c1"><font style="vertical-align: inherit;">＃@ http.route（'/ openacademy / openacademy / objects / &lt;model（“openacademy.openacademy”）：obj&gt; /'，auth ='public'） </font></span></span><span class="hll"><span class="c1"><font style="vertical-align: inherit;">#def object（self，obj，** kw）：</font></span></span></font><span class="hll">
</span><span class="hll"><span class="c1"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll"><span class="c1"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll"><span class="c1"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll"><span class="c1"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">
</span><span class="hll"><span class="c1"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll"><span class="c1"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll"><span class="c1"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll"><span class="c1"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll"><span class="c1"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll"><span class="c1"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">
</span><span class="hll"><span class="c1"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll"><span class="c1"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll"><span class="c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#return http.request.render（'openacademy.object'，{ </font></font></span>
</span><span class="hll"><span class="c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＃'object'：obj </font></font></span>
</span><span class="hll"><span class="c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＃}）</font></font></span>
</span></pre></div>
</div>
</div><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">openacademy / demo.xml</font></font></em><div class="pq-section"><div class="highlight-xml"><div class="highlight"><pre><span class="hll"><span class="nt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;odoo&gt; </font></font></span>
</span><font style="vertical-align: inherit;"><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -   - &gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -  &lt;record id =“object0”model =“openacademy.openacademy”&gt;  - &gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -  &lt;field name =“name”&gt;对象0 &lt;/ field&gt; - &gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -  &lt;/ record&gt;  - &gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -   - &gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -  &lt;record id =“object1”model =“openacademy.openacademy”&gt;  - &gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -  &lt;字段名称=“name”&gt;对象1 &lt;/ field&gt;  - &gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -  &lt;/ record&gt;  - &gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -   - &gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -  &lt;record id =“object2”model =“openacademy.openacademy” &gt;  - &gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -  &lt;field name =“name”&gt;对象2 &lt;/ field&gt;  - &gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -  &lt;/ record&gt;  - &gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -   - &gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！-  &lt;record id =“object3”model =“openacademy.openacademy”&gt;  - &gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -  &lt;field name =“name”&gt;对象3 &lt;/ field&gt;  - &gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -  &lt;/ record&gt;  - - &gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -   - &gt;</font></span></span></font><span class="hll">
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;！ -  &lt;record id =“object4”model =“openacademy.openacademy”&gt;  - &gt; </font></font></span>
</span><font style="vertical-align: inherit;"><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -  &lt;field name =“name”&gt;对象4 &lt;/ field&gt;  - &gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -  &lt;/ record &gt;  - &gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -   - &gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ odoo&gt;</font></span></span></font><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">
</span><span class="hll"><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span></pre></div>
</div>
</div><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">openacademy / models.py</font></font></em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre><span class="hll"><span class="c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＃ -  *  - 编码：utf-8  -  *  - </font></font></span>
</span><font style="vertical-align: inherit;"><span class="hll"><span class="kn"><font style="vertical-align: inherit;">来自</font></span></span><span class="hll"><span class="nn"><font style="vertical-align: inherit;">odoo </font></span></span><span class="hll"><span class="kn"><font style="vertical-align: inherit;">导入</font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">模型</font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">，</font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">字段</font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">，</font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">api </font></span></span><span class="hll"><span class="c1"><font style="vertical-align: inherit;">#class openacademy（models.Model）：</font></span></span><span class="hll"><span class="c1"><font style="vertical-align: inherit;">＃_ </font></span></span><span class="hll"><span class="c1"><font style="vertical-align: inherit;">name = </font></span></span><span class="hll"><span class="c1"><font style="vertical-align: inherit;">'openacademy.openacademy' </font></span></span><span class="hll"><span class="c1"><font style="vertical-align: inherit;">＃name = fields.Char（）</font></span></span></font><span class="hll">
</span><span class="hll"><span class="kn"><font style="vertical-align: inherit;"></font></span> <span class="nn"><font style="vertical-align: inherit;"></font></span> <span class="kn"><font style="vertical-align: inherit;"></font></span> <span class="n"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span> <span class="n"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span> <span class="n"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">
</span><span class="hll"><span class="c1"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll"><span class="c1"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">
</span><span class="hll"><span class="c1"><font style="vertical-align: inherit;"></font></span>
</span></pre></div>
</div>
</div><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">openacademy /安全/ ir.model.access.csv</font></font></em><div class="pq-section"><div class="highlight-guess"><div class="highlight"><pre><span class="hll"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">id，name，model_id / id，group_id / id，perm_read，perm_write，perm_create，perm_unlink
 </font></font></span><span class="hll"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">access_openacademy_openacademy，openacademy.openacademy，model_openacademy_openacademy ,, 1,0,0,0
</font></font></span></pre></div>
</div>
</div><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">openacademy / templates.xml</font></font></em><div class="pq-section"><div class="highlight-xml+django"><div class="highlight"><pre><span class="hll"><span class="nt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;odoo&gt; </font></font></span>
</span><font style="vertical-align: inherit;"><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -  &lt;template id =“listing”&gt;  - &gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -  &lt;ul&gt;  - &gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -  &lt;li t-foreach =“objects”t-as =“object”&gt;  - - &gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -  &lt;t-attf-href =“ </font></span></span><span class="hll"><span class="cp"><font style="vertical-align: inherit;">{{ </font></span></span><span class="hll"><span class="nv"><font style="vertical-align: inherit;">root </font></span></span><span class="hll"><span class="cp"><font style="vertical-align: inherit;">}} </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">/ objects / </font></span></span><span class="hll"><span class="cp"><font style="vertical-align: inherit;">{{ </font></span></span><span class="hll"><span class="nv"><font style="vertical-align: inherit;">object.id </font></span></span><span class="hll"><span class="cp"><font style="vertical-align: inherit;">}} </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">”&gt;  - &gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -  &lt;t t-esc =“object.display_name” /&gt;  - &gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -  &lt;/ a&gt;  - &gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -  &lt;/ li&gt;  - &gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -  &lt;/ ul&gt;  - &gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -  &lt;/ template&gt;  - &gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt; ！ -  &lt;template id =“object”&gt;  - &gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -  &lt;h1&gt; &lt;t t-esc =“object.display_name”/&gt; &lt;/ h1&gt;  - &gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -  &lt;dl&gt;  - &gt;</font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -  &lt;t t-foreach =“object._fields”t-as =“field”&gt;  - &gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -  &lt;dt&gt; &lt;t t-esc =“field”/&gt; &lt;/ dt&gt;  - &gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -  &lt;dd&gt; &lt;t t-esc =“object [field]”/&gt; &lt;/ dd&gt;  - &gt;</font></span></span></font><span class="hll">
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span><span class="cp"><font style="vertical-align: inherit;"></font></span> <span class="nv"><font style="vertical-align: inherit;"></font></span> <span class="cp"><font style="vertical-align: inherit;"></font></span><span class="c"><font style="vertical-align: inherit;"></font></span><span class="cp"><font style="vertical-align: inherit;"></font></span> <span class="nv"><font style="vertical-align: inherit;"></font></span> <span class="cp"><font style="vertical-align: inherit;"></font></span><span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;！ -  &lt;/ t&gt;  - &gt; </font></font></span>
</span><font style="vertical-align: inherit;"><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -  &lt;/ dl&gt;  - &gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -  &lt;/ template&gt;  - &gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ odoo&gt;</font></span></span></font><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">
</span><span class="hll"><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span></pre></div>
</div>
</div></div></div></section><section id="object-relational-mapping"><h3 class="o_has_permalink_marker"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象关系映射</font></font><i class="mdi-content-link"></i></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Odoo的一个关键组件是</font></font><abbr title="对象关系映射"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ORM</font></font></abbr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">层。</font><font style="vertical-align: inherit;">该层避免了必须</font><font style="vertical-align: inherit;">
手动</font><font style="vertical-align: inherit;">编写大多数</font></font><abbr title="结构化查询语言"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQL</font></font></abbr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并提供可扩展性和安全性服务</font></font><a href="https://www.odoo.com/documentation/master/howtos/backend.html#rawsql" id="id1" class="footnote-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">业务对象被声明为Python类扩展</font></font><a href="https://www.odoo.com/documentation/master/reference/orm.html#odoo.models.Model" title="odoo.models.Model" class="reference internal"><code class="py-class xref py">Model</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它们</font><font style="vertical-align: inherit;">将
 </font><font style="vertical-align: inherit;">它们集成到自动持久性系统中。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以通过在其定义中设置多个属性来配置模型。</font><font style="vertical-align: inherit;">最重要的属性是
 </font></font><a href="https://www.odoo.com/documentation/master/reference/orm.html#odoo.models.Model._name" title="odoo.models.Model._name" class="reference internal"><code class="xref py-attr py">_name</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必需的，并定义了Odoo系统中模型的名称。</font><font style="vertical-align: inherit;">以下是模型的最低完整定义：</font></font></p><div class="highlight-default"><div class="highlight"><pre><span class="kn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从</font></font></span> <span class="nn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">odoo </font></font></span> <span class="k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进口</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模型</font></font></span>
<span class="k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类</font></font></span> <span class="nc"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MinimalModel </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">型号</font></font></span><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模型</font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：</font></font></span>
    <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_name </font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'test.model'</font></font></span>
</pre></div>
</div>
</section><section id="model-fields"><h3 class="o_has_permalink_marker"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模型字段</font></font><i class="mdi-content-link"></i></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段用于定义模型可以存储的内容和位置。</font><font style="vertical-align: inherit;">字段定义为模型类的属性：</font></font></p><div class="highlight-default"><div class="highlight"><pre><span class="kn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来自</font></font></span> <span class="nn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">odoo </font></font></span> <span class="k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">导入</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模型</font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段</font></font></span><font></font>
<font></font>
<span class="k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类</font></font></span> <span class="nc"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LessMinimalModel </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">型号</font></font></span><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模型</font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：</font></font></span>
    <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_name </font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'test.model2'</font></font></span><font></font>
<font></font>
    <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name </font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fields </font></font></span><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Char </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（）</font></font></span>
</pre></div>
</div>
</section><section id="common-attributes"><h4 class="o_has_permalink_marker"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">共同属性</font></font><i class="mdi-content-link"></i></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与模型本身非常相似，可以通过将配置属性作为参数传递来配置其字段：</font></font></p><div class="highlight-default"><div class="highlight"><pre><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name </font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">field </font></font></span><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符</font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必填</font></font></span><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><span class="kc"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">真</font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">某些属性可用于所有字段，以下是最常见的属性：</font></font></p><dl><dt><code class="xref py-attr py">string</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><code>unicode</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，默认：字段名称）</font></font></dt><dd><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UI中字段的标签（用户可见）。</font></font></dd><dt><code class="xref py-attr py">required</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><code>bool</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认：</font></font><code>False</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></dt><dd><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font></font><code>True</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该字段不能为空，则它必须具有默认值或在创建记录时始终给定值。</font></font></dd><dt><code class="xref py-attr py">help</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><code>unicode</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认：</font></font><code>''</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></dt><dd><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">长格式，在UI中为用户提供帮助工具提示。</font></font></dd><dt><code class="xref py-attr py">index</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><code>bool</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认：</font></font><code>False</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></dt><dd><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请求Odoo </font><font style="vertical-align: inherit;">在列上</font><font style="vertical-align: inherit;">创建</font></font><a href="http://use-the-index-luke.com/sql/preface" class="reference external"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库索引</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></dd></dl></section><section id="simple-fields"><h4 class="o_has_permalink_marker"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">简单的领域</font></font><i class="mdi-content-link"></i></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有两大类字段：“简单”字段，它们是直接存储在模型表中的原子值，以及链接记录（相同模型或不同模型）的“关系”字段。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">简单字段的例子是</font></font><a href="https://www.odoo.com/documentation/master/reference/orm.html#odoo.fields.Boolean" title="odoo.fields.Boolean" class="reference internal"><code class="py-class xref py">Boolean</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
 </font></font><a href="https://www.odoo.com/documentation/master/reference/orm.html#odoo.fields.Date" title="odoo.fields.Date" class="reference internal"><code class="py-class xref py">Date</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><a href="https://www.odoo.com/documentation/master/reference/orm.html#odoo.fields.Char" title="odoo.fields.Char" class="reference internal"><code class="py-class xref py">Char</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p></section><section id="reserved-fields"><h4 class="o_has_permalink_marker"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保留字段</font></font><i class="mdi-content-link"></i></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Odoo在所有模型中创建了几个字段</font></font><a href="https://www.odoo.com/documentation/master/howtos/backend.html#autofields" id="id2" class="footnote-ref"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这些字段由系统管理，不应写入。</font><font style="vertical-align: inherit;">如果有用或必要，可以阅读它们：</font></font></p><dl><dt><code class="xref py-attr py">id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><code class="py-class xref py">Id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></dt><dd><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模型中记录的唯一标识符。</font></font></dd><dt><code class="xref py-attr py">create_date</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><a href="https://www.odoo.com/documentation/master/reference/orm.html#odoo.fields.Datetime" title="odoo.fields.Datetime" class="reference internal"><code class="py-class xref py">Datetime</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></dt><dd><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">记录的创建日期。</font></font></dd><dt><code class="xref py-attr py">create_uid</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><a href="https://www.odoo.com/documentation/master/reference/orm.html#odoo.fields.Many2one" title="odoo.fields.Many2one" class="reference internal"><code class="py-class xref py">Many2one</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></dt><dd><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建记录的用户。</font></font></dd><dt><code class="xref py-attr py">write_date</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><a href="https://www.odoo.com/documentation/master/reference/orm.html#odoo.fields.Datetime" title="odoo.fields.Datetime" class="reference internal"><code class="py-class xref py">Datetime</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></dt><dd><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">记录的最后修改日期。</font></font></dd><dt><code class="xref py-attr py">write_uid</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><a href="https://www.odoo.com/documentation/master/reference/orm.html#odoo.fields.Many2one" title="odoo.fields.Many2one" class="reference internal"><code class="py-class xref py">Many2one</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></dt><dd><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上次修改记录的用户。</font></font></dd></dl></section><section id="special-fields"><h4 class="o_has_permalink_marker"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特殊领域</font></font><i class="mdi-content-link"></i></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认情况下，Odoo还需要</font></font><code>name</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有模型上</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">字段用于各种显示和搜索行为。</font><font style="vertical-align: inherit;">用于这些目的的字段可以通过设置覆盖</font></font><a href="https://www.odoo.com/documentation/master/reference/orm.html#odoo.models.Model._rec_name" title="odoo.models.Model._rec_name" class="reference internal"><code class="xref py-attr py">_rec_name</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><div role="alert" class="alert alert-exercise"><h3 class="alert-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行使</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">定义模型</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font><em><font style="vertical-align: inherit;">openacademy</font></em><font style="vertical-align: inherit;">模块中</font><font style="vertical-align: inherit;">定义新的数据模型</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">课程</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">课程有标题和描述。</font><font style="vertical-align: inherit;">课程必须有标题。</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编辑文件</font></font><code>openacademy/models/models.py</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以包含</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">课程</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类。</font></font></p><div class="pq-patch"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">openacademy / models.py</font></font></em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre><span class="kn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从</font></font></span> <span class="nn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">odoo </font></font></span> <span class="kn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进口</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">车型</font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">领域</font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API </font></font></span>
<font style="vertical-align: inherit;"><span class="hll"><span class="k"><font style="vertical-align: inherit;">类</font></span></span><span class="hll"><span class="nc"><font style="vertical-align: inherit;">课程</font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">（</font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">机型</font></span></span><span class="hll"><span class="o"><font style="vertical-align: inherit;">。</font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">型号</font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">）：</font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">_name </font></span></span><span class="hll"><span class="o"><font style="vertical-align: inherit;">= </font></span></span><span class="hll"><span class="s1"><font style="vertical-align: inherit;">'openacademy.course'</font></span></span><span class="n"><font style="vertical-align: inherit;"> _description </font></span><span class="o"><font style="vertical-align: inherit;">= </font></span><span class="s2"><font style="vertical-align: inherit;">“OpenAcademy课程” </font></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">名称</font></span></span><span class="hll"><span class="o"><font style="vertical-align: inherit;">= </font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">领域</font></span></span><span class="hll"><span class="o"><font style="vertical-align: inherit;">。</font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">Char </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">（</font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">string </font></span></span><span class="hll"><span class="o"><font style="vertical-align: inherit;">= </font></span></span><span class="hll"><span class="s2"><font style="vertical-align: inherit;">“Title” </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">，</font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">required </font></span></span><span class="hll"><span class="o"><font style="vertical-align: inherit;">= </font></span></span><span class="hll"><span class="bp"><font style="vertical-align: inherit;">True </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">）</font></span></span><span class="n"><font style="vertical-align: inherit;"> description </font></span><span class="o"><font style="vertical-align: inherit;">= </font></span><span class="n"><font style="vertical-align: inherit;">fields </font></span><span class="o"><font style="vertical-align: inherit;">。</font></span><span class="n"><font style="vertical-align: inherit;">文字</font></span><span class="p"><font style="vertical-align: inherit;">（）</font></span></font><span class="hll">
</span><span class="hll"><span class="k"><font style="vertical-align: inherit;"></font></span> <span class="nc"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span><span class="n"><font style="vertical-align: inherit;"></font></span><span class="o"><font style="vertical-align: inherit;"></font></span><span class="n"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">    <span class="n"><font style="vertical-align: inherit;"></font></span> <span class="o"><font style="vertical-align: inherit;"></font></span> <span class="s1"><font style="vertical-align: inherit;"></font></span>
</span>    <span class="n"><font style="vertical-align: inherit;"></font></span> <span class="o"><font style="vertical-align: inherit;"></font></span> <span class="s2"><font style="vertical-align: inherit;"></font></span>
<span class="hll">
</span><span class="hll">    <span class="n"><font style="vertical-align: inherit;"></font></span> <span class="o"><font style="vertical-align: inherit;"></font></span> <span class="n"><font style="vertical-align: inherit;"></font></span><span class="o"><font style="vertical-align: inherit;"></font></span><span class="n"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span><span class="n"><font style="vertical-align: inherit;"></font></span><span class="o"><font style="vertical-align: inherit;"></font></span><span class="s2"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span> <span class="n"><font style="vertical-align: inherit;"></font></span><span class="o"><font style="vertical-align: inherit;"></font></span><span class="bp"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span>
</span>    <span class="n"><font style="vertical-align: inherit;"></font></span> <span class="o"><font style="vertical-align: inherit;"></font></span> <span class="n"><font style="vertical-align: inherit;"></font></span><span class="o"><font style="vertical-align: inherit;"></font></span><span class="n"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span>
</pre></div>
</div>
</div></div></div></section><section id="data-files"><h3 class="o_has_permalink_marker"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据文件</font></font><i class="mdi-content-link"></i></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Odoo是一个高度数据驱动的系统。</font><font style="vertical-align: inherit;">虽然行为是使用</font></font><a href="http://python.org/" class="reference external"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代码</font><font style="vertical-align: inherit;">自定义的
 </font><font style="vertical-align: inherit;">，但模块的一部分值在加载时设置的数据中。</font></font></p><div role="alert" class="alert aphorism alert-info"><h3 class="alert-title">Tip</h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一些模块仅用于将数据添加到Odoo中</font></font></p></div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模块数据通过</font></font><a href="https://www.odoo.com/documentation/master/reference/data.html#reference-data" class="reference internal"><span class="std-ref std"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据文件</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，带有</font></font><code>&lt;record&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元素的</font><font style="vertical-align: inherit;">XML文件
 </font><font style="vertical-align: inherit;">声明</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">每个</font></font><code>&lt;record&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元素都创建或更新数据库记录。</font></font></p><div class="highlight-xml"><div class="highlight"><pre><span class="nt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;odoo&gt;</font></font></span><font></font>
<font></font>
        <span class="nt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;record </font></font></span> <span class="na"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">model = </font></font></span><span class="s"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“{model name}” </font></font></span> <span class="na"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">id = </font></font></span><span class="s"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“{record identifier}” </font></font></span><span class="nt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt; </font></font></span>
            <span class="nt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;field </font></font></span> <span class="na"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name = </font></font></span><span class="s"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“{a field name}” </font></font></span><span class="nt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt;</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> {a value} </font></font><span class="nt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;/ field&gt; </font></font></span>
        <span class="nt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;/ record&gt;</font></font></span><font></font>
<font></font>
<span class="nt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;/ odoo&gt;</font></font></span>
</pre></div>
</div>
<ul><li><code>model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 是记录的Odoo模型的名称。</font></font></li><li><code>id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一个</font></font><a href="https://www.odoo.com/documentation/master/glossary.html#term-external-identifier" class="reference internal"><span class="xref std-term std"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外部标识符</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它允许引用记录（无需知道其数据库内标识符）。</font></font></li><li><code>&lt;field&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元素有一个</font></font><code>name</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是模型中字段的名称（例如</font></font><code>description</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">他们的身体是场地的价值。</font></font></li></ul><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必须在要加载的清单文件中声明数据文件，它们可以在</font></font><code>'data'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列表（始终加载）或</font></font><code>'demo'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列表中声明（仅在演示模式下加载）。</font></font></p><div role="alert" class="alert alert-exercise"><h3 class="alert-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行使</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">定义演示数据</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过一些演示课程</font><font style="vertical-align: inherit;">创建填充</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">课程</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模型的</font><font style="vertical-align: inherit;">演示数据</font><font style="vertical-align: inherit;">。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编辑文件</font></font><code>openacademy/demo/demo.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以包含一些数据。</font></font></p><div class="pq-patch"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">openacademy / demo.xml</font></font></em><div class="pq-section"><div class="highlight-xml"><div class="highlight"><pre><span class="nt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;odoo&gt;</font></font></span><font></font>
<font></font>
<span class="hll">        <span class="nt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;record </font></font></span> <span class="na"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">model = </font></font></span><span class="s"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“openacademy.course” </font></font></span> <span class="na"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">id = </font></font></span><span class="s"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“course0” </font></font></span><span class="nt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt; </font></font></span>
</span><font style="vertical-align: inherit;"><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;field </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">name = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“name” </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&gt;</font></span></span><span class="hll"><font style="vertical-align: inherit;">课程0 </font></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ field&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;field </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">name = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“description” </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&gt;</font></span></span><span class="hll"><font style="vertical-align: inherit;">课程0的描述
 </font></span><span class="hll"><font style="vertical-align: inherit;">可以有多行
 </font></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ field&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/记录&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;记录</font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">模型= </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“openacademy.course” </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">id = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“course1” </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;字段</font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">名称= </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“名称” </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&gt;</font></span></span><span class="hll"><font style="vertical-align: inherit;">课程1 </font></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ field&gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ - 没有这个描述 - &gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ record&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;record </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">model = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“openacademy.course” </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">id = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“course2” </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&gt;</font></span></span></font><span class="hll">            <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">            <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font></span><span class="hll">
</span><span class="hll"><font style="vertical-align: inherit;"></font></span><span class="hll">            <span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">            <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">            <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">            <span class="nt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;field </font></font></span> <span class="na"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name = </font></font></span><span class="s"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“name” </font></font></span><span class="nt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt;</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">课程2 </font></font><span class="nt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;/ field&gt; </font></font></span>
</span><font style="vertical-align: inherit;"><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;field </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">name = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“description” </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&gt;</font></span></span><span class="hll"><font style="vertical-align: inherit;">课程2的描述</font></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ field&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ record&gt;</font></span></span><span class="nt"><font style="vertical-align: inherit;"> &lt;/ odoo&gt;</font></span></font><span class="hll">            <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="nt"><font style="vertical-align: inherit;"></font></span>
</span>
<span class="nt"><font style="vertical-align: inherit;"></font></span>
</pre></div>
</div>
</div></div></div><div role="alert" class="alert alert-info"><h3 class="alert-title">Tip</h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅在安装或更新模块时才加载数据文件的内容。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进行一些更改后，不要忘记使用
 </font></font><a href="https://www.odoo.com/documentation/master/reference/cmdline.html#reference-cmdline" class="reference internal alert-link"><span class="std-ref std"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">odoo-bin -u openacademy</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将更改保存到数据库中。</font></font></p></div></section><section id="actions-and-menus"><h3 class="o_has_permalink_marker"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行动和菜单</font></font><i class="mdi-content-link"></i></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作和菜单是数据库中的常规记录，通常通过数据文件声明。</font><font style="vertical-align: inherit;">可以通过三种方式触发操作：</font></font></p><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过单击菜单项（链接到特定操作）</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过单击视图中的按钮（如果这些按钮连接到操作）</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为对象的上下文行为</font></font></li></ol><p>Because menus are somewhat complex to declare there is a <code>&lt;menuitem&gt;</code>
shortcut to declare an <code>ir.ui.menu</code> and connect it to the corresponding
action more easily.</p><div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;record</span> <span class="na">model=</span><span class="s">"ir.actions.act_window"</span> <span class="na">id=</span><span class="s">"action_list_ideas"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>Ideas<span class="nt">&lt;/field&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"res_model"</span><span class="nt">&gt;</span>idea.idea<span class="nt">&lt;/field&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"view_mode"</span><span class="nt">&gt;</span>tree,form<span class="nt">&lt;/field&gt;</span>
<span class="nt">&lt;/record&gt;</span>
<span class="nt">&lt;menuitem</span> <span class="na">id=</span><span class="s">"menu_ideas"</span> <span class="na">parent=</span><span class="s">"menu_root"</span> <span class="na">name=</span><span class="s">"Ideas"</span> <span class="na">sequence=</span><span class="s">"10"</span>
          <span class="na">action=</span><span class="s">"action_list_ideas"</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<div role="alert" class="alert aphorism alert-danger"><h3 class="alert-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">危险</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必须在XML文件中的相应菜单之前声明操作。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据文件按顺序执行，在</font></font><code>id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建菜单之前</font><font style="vertical-align: inherit;">，操作</font><font style="vertical-align: inherit;">必须存在于数据库中。</font></font></p></div><div role="alert" class="alert alert-exercise"><h3 class="alert-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行使</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">定义新的菜单条目</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">定义新菜单条目以访问OpenAcademy菜单条目下的课程。</font><font style="vertical-align: inherit;">用户应该能够：</font></font></p><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示所有课程的列表</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建/修改课程</font></font></li></ul><ol><li><font style="vertical-align: inherit;"></font><code>openacademy/views/openacademy.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用操作</font><font style="vertical-align: inherit;">创建</font><font style="vertical-align: inherit;">并触发操作的菜单</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将其添加到</font></font><code>data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列表中</font></font><code>openacademy/__manifest__.py</code></li></ol><div class="pq-patch"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">openacademy / __ manifest__.py</font></font></em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre>    <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'data' </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></span> <span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span>
        <span class="c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＃'security / ir.model.access.csv'，</font></font></span>
        <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'templates.xml' </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span>
<font style="vertical-align: inherit;"><span class="hll"><span class="s1"><font style="vertical-align: inherit;">'views / openacademy.xml' </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">，</font></span></span><span class="p"><font style="vertical-align: inherit;"> ]，</font></span><span class="c1"><font style="vertical-align: inherit;">＃仅在演示模式</font></span><span class="s1"><font style="vertical-align: inherit;">'demo'中</font></span><span class="c1"><font style="vertical-align: inherit;">加载</font></span><span class="p"><font style="vertical-align: inherit;">：</font></span><span class="p"><font style="vertical-align: inherit;">[</font></span></font><span class="hll">        <span class="s1"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span>
</span>    <span class="p"><font style="vertical-align: inherit;"></font></span>
    <span class="c1"><font style="vertical-align: inherit;"></font></span>
    <span class="s1"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span> <span class="p"><font style="vertical-align: inherit;"></font></span>
</pre></div>
</div>
</div><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">openacademy /视图/ openacademy.xml</font></font></em><div class="pq-section"><div class="highlight-xml"><div class="highlight"><pre><span class="hll"><span class="cp"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;？xml version =“1.0”encoding =“UTF-8”？&gt; </font></font></span>
</span><span class="hll"><span class="nt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;odoo&gt; </font></font></span>
</span><font style="vertical-align: inherit;"><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -  window action  - &gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ - </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">            以下标记是“窗口操作”的操作定义，</font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">            即操作打开视图或一组视图</font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">        - &gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;record </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">model = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“ir.actions.act_window” </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">id = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“course_list_action” </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;field </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">name = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“name” </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&gt;</font></span></span><span class="hll"><font style="vertical-align: inherit;">课程</font></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ field&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;field </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">name = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“res_model” </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&gt;</font></span></span><span class="hll"><font style="vertical-align: inherit;"> openacademy.course </font></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ field&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;field </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">name = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“view_type” </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&gt;</font></span></span><span class="hll"><font style="vertical-align: inherit;">表格</font></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ field&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;field </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">name = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“view_mode”</font></span></span></font><span class="hll">
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll"><span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll"><span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll"><span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">            <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">            <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">            <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">            <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt;</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tree，form </font></font><span class="nt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;/ field&gt; </font></font></span>
</span><font style="vertical-align: inherit;"><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;field </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">name = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“help” </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">type = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“html” </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;p </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">class = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“oe_view_nocontent_smiling_face” </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&gt;</font></span></span><span class="hll"><font style="vertical-align: inherit;">创建第一个课程
 </font></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ p&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ field&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ record&gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ -  top级别菜单：没有父级 - &gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;menuitem </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">id = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“main_openacademy_menu” </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">name = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“Open Academy” </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">/&gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt;！ - </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">             在使用action = attribute  - &gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;menuitem </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">id = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“ </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">之前，</font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">需要左侧菜单中的第一级</font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">openacademy_menu“ </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">name = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">”Open Academy“</font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">parent = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“main_openacademy_menu” </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">/&gt;</font></span></span></font><span class="hll">            <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">                <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font></span><span class="hll">                <span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">            <span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll"><span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">                  <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;！ - 以下menuitem应出现在* </font></font></span>
</span><span class="hll"><span class="c"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">             其父openacademy_menu *之后*之后*其</font></font></span>
</span><span class="hll"><span class="c"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">             行动course_list_action  - &gt; </font></font></span>
</span><font style="vertical-align: inherit;"><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;menuitem </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">id = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“courses_menu” </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">name = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“Courses” </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">parent = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“openacademy_menu” </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">action = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“course_list_action” </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">/&gt; </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">&lt; ！ - 完整的id位置：</font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">             action =“openacademy.course_list_action” </font></span></span><span class="hll"><span class="c"><font style="vertical-align: inherit;">             当它是相同的模块时不需要 - &gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ odoo&gt;</font></span></span></font><span class="hll">        <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">                  <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll"><span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll"><span class="c"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">
</span><span class="hll"><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span></pre></div>
</div>
</div></div></div></section><section id="basic-views"><h2 class="o_has_permalink_marker"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本观点</font></font><i class="mdi-content-link"></i></h2><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">视图定义了模型记录的显示方式。</font><font style="vertical-align: inherit;">每种类型的视图代表一种可视化模式（记录列表，其聚合图，......）。</font><font style="vertical-align: inherit;">可以通过类型（例如</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">合作伙伴列表</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）或特别是通过其ID </font><font style="vertical-align: inherit;">来一般性地请求视图</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">对于通用请求，将使用具有正确类型和最低优先级的视图（因此每种类型的最低优先级视图是该类型的默认视图）。</font></font></p><p><a href="https://www.odoo.com/documentation/master/reference/views.html#reference-views-inheritance" class="reference internal"><span class="std-ref std"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">视图继承</font></font></span></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">允许更改在其他地方声明的视图（添加或删除内容）。</font></font></p></section><section id="generic-view-declaration"><h3 class="o_has_permalink_marker"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通用视图声明</font></font><i class="mdi-content-link"></i></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">视图被声明为模型的记录</font></font><code>ir.ui.view</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">视图类型由</font></font><code>arch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段</font><font style="vertical-align: inherit;">的根元素隐含</font><font style="vertical-align: inherit;">：</font></font></p><div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;record</span> <span class="na">model=</span><span class="s">"ir.ui.view"</span> <span class="na">id=</span><span class="s">"view_id"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>view.name<span class="nt">&lt;/field&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"model"</span><span class="nt">&gt;</span>object_name<span class="nt">&lt;/field&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"priority"</span> <span class="na">eval=</span><span class="s">"16"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"arch"</span> <span class="na">type=</span><span class="s">"xml"</span><span class="nt">&gt;</span>
        <span class="c">&lt;!-- view content: &lt;form&gt;, &lt;tree&gt;, &lt;graph&gt;, ... --&gt;</span>
    <span class="nt">&lt;/field&gt;</span>
<span class="nt">&lt;/record&gt;</span>
</pre></div>
</div>
<div role="alert" class="alert aphorism alert-danger"><h3 class="alert-title">Danger</h3><p>The view’s content is XML.</p><p>The <code>arch</code> field must thus be declared as <code>type="xml"</code> to be parsed
correctly.</p></div></section><section id="tree-views"><h3 class="o_has_permalink_marker">Tree views<i class="mdi-content-link"></i></h3><p>Tree views, also called list views, display records in a tabular form.</p><p>Their root element is <code>&lt;tree&gt;</code>. The simplest form of the tree view simply
lists all the fields to display in the table (each field as a column):</p><div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;tree</span> <span class="na">string=</span><span class="s">"Idea list"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"inventor_id"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/tree&gt;</span>
</pre></div>
</div>
</section><section id="form-views"><h3 class="o_has_permalink_marker">Form views<i class="mdi-content-link"></i></h3><p>Forms are used to create and edit single records.</p><p>Their root element is <code>&lt;form&gt;</code>. They are composed of high-level structure
elements (groups, notebooks) and interactive elements (buttons and fields):</p><div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;form</span> <span class="na">string=</span><span class="s">"Idea form"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;group</span> <span class="na">colspan=</span><span class="s">"4"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;group</span> <span class="na">colspan=</span><span class="s">"2"</span> <span class="na">col=</span><span class="s">"2"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;separator</span> <span class="na">string=</span><span class="s">"General stuff"</span> <span class="na">colspan=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"inventor_id"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/group&gt;</span><font></font>
<font></font>
        <span class="nt">&lt;group</span> <span class="na">colspan=</span><span class="s">"2"</span> <span class="na">col=</span><span class="s">"2"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;separator</span> <span class="na">string=</span><span class="s">"Dates"</span> <span class="na">colspan=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"active"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"invent_date"</span> <span class="na">readonly=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/group&gt;</span><font></font>
<font></font>
        <span class="nt">&lt;notebook</span> <span class="na">colspan=</span><span class="s">"4"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;page</span> <span class="na">string=</span><span class="s">"Description"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"description"</span> <span class="na">nolabel=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/page&gt;</span>
        <span class="nt">&lt;/notebook&gt;</span><font></font>
<font></font>
        <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"state"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/group&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</pre></div>
</div>
<div role="alert" class="alert alert-exercise"><h3 class="alert-title">Exercise</h3><p>Customise form view using XML</p><p>Create your own form view for the Course object. Data displayed should be:
the name and the description of the course.</p><div class="pq-patch"><em>openacademy/views/openacademy.xml</em><div class="pq-section"><div class="highlight-xml"><div class="highlight"><pre><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;odoo&gt;</span><font></font>
<font></font>
<span class="hll">        <span class="nt">&lt;record</span> <span class="na">model=</span><span class="s">"ir.ui.view"</span> <span class="na">id=</span><span class="s">"course_form_view"</span><span class="nt">&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>course.form<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"model"</span><span class="nt">&gt;</span>openacademy.course<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"arch"</span> <span class="na">type=</span><span class="s">"xml"</span><span class="nt">&gt;</span>
</span><span class="hll">                <span class="nt">&lt;form</span> <span class="na">string=</span><span class="s">"Course Form"</span><span class="nt">&gt;</span>
</span><span class="hll">                    <span class="nt">&lt;sheet&gt;</span>
</span><span class="hll">                        <span class="nt">&lt;group&gt;</span>
</span><span class="hll">                            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">/&gt;</span>
</span><span class="hll">                            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"description"</span><span class="nt">/&gt;</span>
</span><span class="hll">                        <span class="nt">&lt;/group&gt;</span>
</span><span class="hll">                    <span class="nt">&lt;/sheet&gt;</span>
</span><span class="hll">                <span class="nt">&lt;/form&gt;</span>
</span><span class="hll">            <span class="nt">&lt;/field&gt;</span>
</span><span class="hll">        <span class="nt">&lt;/record&gt;</span>
</span><span class="hll">
</span>        <span class="c">&lt;!-- window action --&gt;</span>
        <span class="c">&lt;!--</span>
<span class="c">            The following tag is an action definition for a "window action",</span>
</pre></div>
</div>
</div></div></div><div role="alert" class="alert alert-exercise"><h3 class="alert-title">Exercise</h3><p>Notebooks</p><p>In the Course form view, put the description field under a tab, such that
it will be easier to add other tabs later, containing additional
information.</p><p>Modify the Course form view as follows:</p><div class="pq-patch"><em>openacademy/views/openacademy.xml</em><div class="pq-section"><div class="highlight-xml"><div class="highlight"><pre>                    <span class="nt">&lt;sheet&gt;</span>
                        <span class="nt">&lt;group&gt;</span>
                            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">/&gt;</span>
                        <span class="nt">&lt;/group&gt;</span>
<span class="hll">                        <span class="nt">&lt;notebook&gt;</span>
</span><span class="hll">                            <span class="nt">&lt;page</span> <span class="na">string=</span><span class="s">"Description"</span><span class="nt">&gt;</span>
</span><span class="hll">                                <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"description"</span><span class="nt">/&gt;</span>
</span><span class="hll">                            <span class="nt">&lt;/page&gt;</span>
</span><span class="hll">                            <span class="nt">&lt;page</span> <span class="na">string=</span><span class="s">"About"</span><span class="nt">&gt;</span>
</span><span class="hll">                                This is an example of notebooks
</span><span class="hll">                            <span class="nt">&lt;/page&gt;</span>
</span><span class="hll">                        <span class="nt">&lt;/notebook&gt;</span>
</span>                    <span class="nt">&lt;/sheet&gt;</span>
                <span class="nt">&lt;/form&gt;</span>
            <span class="nt">&lt;/field&gt;</span>
</pre></div>
</div>
</div></div></div><p>Form views can also use plain HTML for more flexible layouts:</p><div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;form</span> <span class="na">string=</span><span class="s">"Idea Form"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;header&gt;</span>
        <span class="nt">&lt;button</span> <span class="na">string=</span><span class="s">"Confirm"</span> <span class="na">type=</span><span class="s">"object"</span> <span class="na">name=</span><span class="s">"action_confirm"</span>
                <span class="na">states=</span><span class="s">"draft"</span> <span class="na">class=</span><span class="s">"oe_highlight"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;button</span> <span class="na">string=</span><span class="s">"Mark as done"</span> <span class="na">type=</span><span class="s">"object"</span> <span class="na">name=</span><span class="s">"action_done"</span>
                <span class="na">states=</span><span class="s">"confirmed"</span> <span class="na">class=</span><span class="s">"oe_highlight"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;button</span> <span class="na">string=</span><span class="s">"Reset to draft"</span> <span class="na">type=</span><span class="s">"object"</span> <span class="na">name=</span><span class="s">"action_draft"</span>
                <span class="na">states=</span><span class="s">"confirmed,done"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"state"</span> <span class="na">widget=</span><span class="s">"statusbar"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/header&gt;</span>
    <span class="nt">&lt;sheet&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"oe_title"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"name"</span> <span class="na">class=</span><span class="s">"oe_edit_only"</span> <span class="na">string=</span><span class="s">"Idea Name"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;h1&gt;&lt;field</span> <span class="na">name=</span><span class="s">"name"</span> <span class="nt">/&gt;&lt;/h1&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;separator</span> <span class="na">string=</span><span class="s">"General"</span> <span class="na">colspan=</span><span class="s">"2"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;group</span> <span class="na">colspan=</span><span class="s">"2"</span> <span class="na">col=</span><span class="s">"2"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"description"</span> <span class="na">placeholder=</span><span class="s">"Idea description..."</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/group&gt;</span>
    <span class="nt">&lt;/sheet&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</pre></div>
</div>
</section><section id="search-views"><h3 class="o_has_permalink_marker">Search views<i class="mdi-content-link"></i></h3><p>Search views customize the search field associated with the list view (and
other aggregated views). Their root element is <code>&lt;search&gt;</code> and they’re
composed of fields defining which fields can be searched on:</p><div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;search&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"inventor_id"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/search&gt;</span>
</pre></div>
</div>
<p>If no search view exists for the model, Odoo generates one which only allows
searching on the <code>name</code> field.</p><div role="alert" class="alert alert-exercise"><h3 class="alert-title">Exercise</h3><p>Search courses</p><p>Allow searching for courses based on their title or their description.</p><div class="pq-patch"><em>openacademy/views/openacademy.xml</em><div class="pq-section"><div class="highlight-xml"><div class="highlight"><pre>            <span class="nt">&lt;/field&gt;</span>
        <span class="nt">&lt;/record&gt;</span><font></font>
<font></font>
<span class="hll">        <span class="nt">&lt;record</span> <span class="na">model=</span><span class="s">"ir.ui.view"</span> <span class="na">id=</span><span class="s">"course_search_view"</span><span class="nt">&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>course.search<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"model"</span><span class="nt">&gt;</span>openacademy.course<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"arch"</span> <span class="na">type=</span><span class="s">"xml"</span><span class="nt">&gt;</span>
</span><span class="hll">                <span class="nt">&lt;search&gt;</span>
</span><span class="hll">                    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">/&gt;</span>
</span><span class="hll">                    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"description"</span><span class="nt">/&gt;</span>
</span><span class="hll">                <span class="nt">&lt;/search&gt;</span>
</span><span class="hll">            <span class="nt">&lt;/field&gt;</span>
</span><span class="hll">        <span class="nt">&lt;/record&gt;</span>
</span><span class="hll">
</span>        <span class="c">&lt;!-- window action --&gt;</span>
        <span class="c">&lt;!--</span>
<span class="c">            The following tag is an action definition for a "window action",</span>
</pre></div>
</div>
</div></div></div></section><section id="relations-between-models"><h2 class="o_has_permalink_marker">Relations between models<i class="mdi-content-link"></i></h2><p>A record from a model may be related to a record from another model. For
instance, a sale order record is related to a client record that contains the
client data; it is also related to its sale order line records.</p><div role="alert" class="alert alert-exercise"><h3 class="alert-title">Exercise</h3><p>Create a session model</p><p>For the module Open Academy, we consider a model for <em>sessions</em>: a session
is an occurrence of a course taught at a given time for a given audience.</p><p>Create a model for <em>sessions</em>. A session has a name, a start date, a
duration and a number of seats. Add an action and a menu item to display
them. Make the new model visible via a menu item.</p><ol><li>Create the class <em>Session</em> in <code>openacademy/models/models.py</code>.</li><li>Add access to the session object in <code>openacademy/view/openacademy.xml</code>.</li></ol><div class="pq-patch"><em>openacademy/models.py</em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre>    <span class="n">name</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Char</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s2">"Title"</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="hll">    <span class="n">description</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Text</span><span class="p">()</span>
</span><span class="hll">
</span><span class="hll">
</span><span class="hll"><span class="k">class</span> <span class="nc">Session</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
</span><span class="hll">    <span class="n">_name</span> <span class="o">=</span> <span class="s1">'openacademy.session'</span>
</span><span class="hll">    <span class="n">_description</span> <span class="o">=</span> <span class="s2">"OpenAcademy Sessions"</span>
</span><span class="hll">
</span><span class="hll">    <span class="n">name</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Char</span><span class="p">(</span><span class="n">required</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</span><span class="hll">    <span class="n">start_date</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Date</span><span class="p">()</span>
</span><span class="hll">    <span class="n">duration</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Float</span><span class="p">(</span><span class="n">digits</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">help</span><span class="o">=</span><span class="s2">"Duration in days"</span><span class="p">)</span>
</span>    <span class="n">seats</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Integer</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s2">"Number of seats"</span><span class="p">)</span>
</pre></div>
</div>
</div><em>openacademy/views/openacademy.xml</em><div class="pq-section"><div class="highlight-xml"><div class="highlight"><pre>             action="openacademy.course_list_action"<font></font>
             It is not required when it is the same module --&gt;<font></font>
<font></font>
<span class="hll">        <span class="c">&lt;!-- session form view --&gt;</span>
</span><span class="hll">        <span class="nt">&lt;record</span> <span class="na">model=</span><span class="s">"ir.ui.view"</span> <span class="na">id=</span><span class="s">"session_form_view"</span><span class="nt">&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>session.form<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"model"</span><span class="nt">&gt;</span>openacademy.session<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"arch"</span> <span class="na">type=</span><span class="s">"xml"</span><span class="nt">&gt;</span>
</span><span class="hll">                <span class="nt">&lt;form</span> <span class="na">string=</span><span class="s">"Session Form"</span><span class="nt">&gt;</span>
</span><span class="hll">                    <span class="nt">&lt;sheet&gt;</span>
</span><span class="hll">                        <span class="nt">&lt;group&gt;</span>
</span><span class="hll">                            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">/&gt;</span>
</span><span class="hll">                            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"start_date"</span><span class="nt">/&gt;</span>
</span><span class="hll">                            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"duration"</span><span class="nt">/&gt;</span>
</span><span class="hll">                            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"seats"</span><span class="nt">/&gt;</span>
</span><span class="hll">                        <span class="nt">&lt;/group&gt;</span>
</span><span class="hll">                    <span class="nt">&lt;/sheet&gt;</span>
</span><span class="hll">                <span class="nt">&lt;/form&gt;</span>
</span><span class="hll">            <span class="nt">&lt;/field&gt;</span>
</span><span class="hll">        <span class="nt">&lt;/record&gt;</span>
</span><span class="hll">
</span><span class="hll">        <span class="nt">&lt;record</span> <span class="na">model=</span><span class="s">"ir.actions.act_window"</span> <span class="na">id=</span><span class="s">"session_list_action"</span><span class="nt">&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>Sessions<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"res_model"</span><span class="nt">&gt;</span>openacademy.session<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"view_type"</span><span class="nt">&gt;</span>form<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"view_mode"</span><span class="nt">&gt;</span>tree,form<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">        <span class="nt">&lt;/record&gt;</span>
</span><span class="hll">
</span><span class="hll">        <span class="nt">&lt;menuitem</span> <span class="na">id=</span><span class="s">"session_menu"</span> <span class="na">name=</span><span class="s">"Sessions"</span>
</span><span class="hll">                  <span class="na">parent=</span><span class="s">"openacademy_menu"</span>
</span><span class="hll">                  <span class="na">action=</span><span class="s">"session_list_action"</span><span class="nt">/&gt;</span>
</span><span class="hll">
</span><span class="nt">&lt;/odoo&gt;</span>
</pre></div>
</div>
</div></div><div role="alert" class="alert alert-info"><h3 class="alert-title">Note</h3><p><code>digits=(6, 2)</code> specifies the precision of a float number:
6 is the total number of digits, while 2 is the number of
digits after the comma. Note that it results in the number
digits before the comma is a maximum 4</p></div></div></section><section id="relational-fields"><h3 class="o_has_permalink_marker">Relational fields<i class="mdi-content-link"></i></h3><p>Relational fields link records, either of the same model (hierarchies) or
between different models.</p><p>Relational field types are:</p><dl><dt><a href="https://www.odoo.com/documentation/master/reference/orm.html#odoo.fields.Many2one" title="odoo.fields.Many2one" class="reference internal"><code class="py-class xref py">Many2one(other_model, ondelete='set null')</code></a></dt><dd><p>A simple link to an other object:</p><div class="highlight-default"><div class="highlight"><pre><span class="nb">print</span> <span class="n">foo</span><span class="o">.</span><span class="n">other_id</span><span class="o">.</span><span class="n">name</span>
</pre></div>
</div>
<div role="alert" class="alert alert-go_to"><h3 class="alert-title">See also</h3><p><a href="http://www.postgresql.org/docs/9.3/static/tutorial-fk.html" class="reference external alert-link">foreign keys</a></p></div></dd><dt><a href="https://www.odoo.com/documentation/master/reference/orm.html#odoo.fields.One2many" title="odoo.fields.One2many" class="reference internal"><code class="py-class xref py">One2many(other_model, related_field)</code></a></dt><dd><p>A virtual relationship, inverse of a <a href="https://www.odoo.com/documentation/master/reference/orm.html#odoo.fields.Many2one" title="odoo.fields.Many2one" class="reference internal"><code class="py-class xref py">Many2one</code></a>.
A <a href="https://www.odoo.com/documentation/master/reference/orm.html#odoo.fields.One2many" title="odoo.fields.One2many" class="reference internal"><code class="py-class xref py">One2many</code></a> behaves as a container of records,
accessing it results in a (possibly empty) set of records:</p><div class="highlight-default"><div class="highlight"><pre><span class="k">for</span> <span class="n">other</span> <span class="ow">in</span> <span class="n">foo</span><span class="o">.</span><span class="n">other_ids</span><span class="p">:</span>
    <span class="nb">print</span> <span class="n">other</span><span class="o">.</span><span class="n">name</span>
</pre></div>
</div>
<div role="alert" class="alert alert-danger"><h3 class="alert-title">Danger</h3><p>Because a <a href="https://www.odoo.com/documentation/master/reference/orm.html#odoo.fields.One2many" title="odoo.fields.One2many" class="reference internal alert-link"><code class="py-class xref py">One2many</code></a> is a virtual relationship,
there <em>must</em> be a <a href="https://www.odoo.com/documentation/master/reference/orm.html#odoo.fields.Many2one" title="odoo.fields.Many2one" class="reference internal alert-link"><code class="py-class xref py">Many2one</code></a> field in the
<code class="samp"><em>other_model</em></code>, and its name <em>must</em> be <code class="samp"><em>related_field</em></code></p></div></dd><dt><a href="https://www.odoo.com/documentation/master/reference/orm.html#odoo.fields.Many2many" title="odoo.fields.Many2many" class="reference internal"><code class="py-class xref py">Many2many(other_model)</code></a></dt><dd><p>Bidirectional multiple relationship, any record on one side can be related
to any number of records on the other side. Behaves as a container of
records, accessing it also results in a possibly empty set of records:</p><div class="highlight-default"><div class="highlight"><pre><span class="k">for</span> <span class="n">other</span> <span class="ow">in</span> <span class="n">foo</span><span class="o">.</span><span class="n">other_ids</span><span class="p">:</span>
    <span class="nb">print</span> <span class="n">other</span><span class="o">.</span><span class="n">name</span>
</pre></div>
</div>
</dd></dl><div role="alert" class="alert alert-exercise"><h3 class="alert-title">Exercise</h3><p>Many2one relations</p><p>Using a many2one, modify the <em>Course</em> and <em>Session</em> models to reflect their
relation with other models:</p><ul><li>A course has a <em>responsible</em> user; the value of that field is a record of
the built-in model <code>res.users</code>.</li><li>A session has an <em>instructor</em>; the value of that field is a record of the
built-in model <code>res.partner</code>.</li><li>A session is related to a <em>course</em>; the value of that field is a record
of the model <code>openacademy.course</code> and is required.</li><li>Adapt the views.</li></ul><ol><li>Add the relevant <code>Many2one</code> fields to the models, and</li><li>add them in the views.</li></ol><div class="pq-patch"><em>openacademy/models.py</em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre>    <span class="n">name</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Char</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s2">"Title"</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Text</span><span class="p">()</span><font></font>
<font></font>
<span class="hll">    <span class="n">responsible_id</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Many2one</span><span class="p">(</span><span class="s1">'res.users'</span><span class="p">,</span>
</span><span class="hll">        <span class="n">ondelete</span><span class="o">=</span><span class="s1">'set null'</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="s2">"Responsible"</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</span><span class="hll">
</span>
<span class="k">class</span> <span class="nc">Session</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">_name</span> <span class="o">=</span> <span class="s1">'openacademy.session'</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>    <span class="n">start_date</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Date</span><span class="p">()</span>
    <span class="n">duration</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Float</span><span class="p">(</span><span class="n">digits</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">help</span><span class="o">=</span><span class="s2">"Duration in days"</span><span class="p">)</span>
    <span class="n">seats</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Integer</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s2">"Number of seats"</span><span class="p">)</span>
<span class="hll">
</span><span class="hll">    <span class="n">instructor_id</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Many2one</span><span class="p">(</span><span class="s1">'res.partner'</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="s2">"Instructor"</span><span class="p">)</span>
</span><span class="hll">    <span class="n">course_id</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Many2one</span><span class="p">(</span><span class="s1">'openacademy.course'</span><span class="p">,</span>
</span><span class="hll">        <span class="n">ondelete</span><span class="o">=</span><span class="s1">'cascade'</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="s2">"Course"</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</span></pre></div>
</div>
</div><em>openacademy/views/openacademy.xml</em><div class="pq-section"><div class="highlight-xml"><div class="highlight"><pre>                    <span class="nt">&lt;sheet&gt;</span>
                        <span class="nt">&lt;group&gt;</span>
                            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">/&gt;</span>
<span class="hll">                            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"responsible_id"</span><span class="nt">/&gt;</span>
</span>                        <span class="nt">&lt;/group&gt;</span>
                        <span class="nt">&lt;notebook&gt;</span>
                            <span class="nt">&lt;page</span> <span class="na">string=</span><span class="s">"Description"</span><span class="nt">&gt;</span>
</pre></div>
</div>
<div class="highlight-xml"><div class="highlight"><pre>            <span class="nt">&lt;/field&gt;</span>
        <span class="nt">&lt;/record&gt;</span><font></font>
<font></font>
<span class="hll">        <span class="c">&lt;!-- override the automatically generated list view for courses --&gt;</span>
</span><span class="hll">        <span class="nt">&lt;record</span> <span class="na">model=</span><span class="s">"ir.ui.view"</span> <span class="na">id=</span><span class="s">"course_tree_view"</span><span class="nt">&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>course.tree<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"model"</span><span class="nt">&gt;</span>openacademy.course<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"arch"</span> <span class="na">type=</span><span class="s">"xml"</span><span class="nt">&gt;</span>
</span><span class="hll">                <span class="nt">&lt;tree</span> <span class="na">string=</span><span class="s">"Course Tree"</span><span class="nt">&gt;</span>
</span><span class="hll">                    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">/&gt;</span>
</span><span class="hll">                    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"responsible_id"</span><span class="nt">/&gt;</span>
</span><span class="hll">                <span class="nt">&lt;/tree&gt;</span>
</span><span class="hll">            <span class="nt">&lt;/field&gt;</span>
</span><span class="hll">        <span class="nt">&lt;/record&gt;</span>
</span><span class="hll">
</span>        <span class="c">&lt;!-- window action --&gt;</span>
        <span class="c">&lt;!--</span>
<span class="c">            The following tag is an action definition for a "window action",</span>
</pre></div>
</div>
<div class="highlight-xml"><div class="highlight"><pre>                <span class="nt">&lt;form</span> <span class="na">string=</span><span class="s">"Session Form"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;sheet&gt;</span>
                        <span class="nt">&lt;group&gt;</span>
<span class="hll">                            <span class="nt">&lt;group</span> <span class="na">string=</span><span class="s">"General"</span><span class="nt">&gt;</span>
</span><span class="hll">                                <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"course_id"</span><span class="nt">/&gt;</span>
</span><span class="hll">                                <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">/&gt;</span>
</span><span class="hll">                                <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"instructor_id"</span><span class="nt">/&gt;</span>
</span><span class="hll">                            <span class="nt">&lt;/group&gt;</span>
</span><span class="hll">                            <span class="nt">&lt;group</span> <span class="na">string=</span><span class="s">"Schedule"</span><span class="nt">&gt;</span>
</span><span class="hll">                                <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"start_date"</span><span class="nt">/&gt;</span>
</span><span class="hll">                                <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"duration"</span><span class="nt">/&gt;</span>
</span><span class="hll">                                <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"seats"</span><span class="nt">/&gt;</span>
</span><span class="hll">                            <span class="nt">&lt;/group&gt;</span>
</span>                        <span class="nt">&lt;/group&gt;</span>
                    <span class="nt">&lt;/sheet&gt;</span>
                <span class="nt">&lt;/form&gt;</span>
            <span class="nt">&lt;/field&gt;</span>
        <span class="nt">&lt;/record&gt;</span><font></font>
<font></font>
<span class="hll">        <span class="c">&lt;!-- session tree/list view --&gt;</span>
</span><span class="hll">        <span class="nt">&lt;record</span> <span class="na">model=</span><span class="s">"ir.ui.view"</span> <span class="na">id=</span><span class="s">"session_tree_view"</span><span class="nt">&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>session.tree<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"model"</span><span class="nt">&gt;</span>openacademy.session<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"arch"</span> <span class="na">type=</span><span class="s">"xml"</span><span class="nt">&gt;</span>
</span><span class="hll">                <span class="nt">&lt;tree</span> <span class="na">string=</span><span class="s">"Session Tree"</span><span class="nt">&gt;</span>
</span><span class="hll">                    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">/&gt;</span>
</span><span class="hll">                    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"course_id"</span><span class="nt">/&gt;</span>
</span><span class="hll">                <span class="nt">&lt;/tree&gt;</span>
</span><span class="hll">            <span class="nt">&lt;/field&gt;</span>
</span><span class="hll">        <span class="nt">&lt;/record&gt;</span>
</span><span class="hll">
</span>        <span class="nt">&lt;record</span> <span class="na">model=</span><span class="s">"ir.actions.act_window"</span> <span class="na">id=</span><span class="s">"session_list_action"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>Sessions<span class="nt">&lt;/field&gt;</span>
            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"res_model"</span><span class="nt">&gt;</span>openacademy.session<span class="nt">&lt;/field&gt;</span>
</pre></div>
</div>
</div></div></div><div role="alert" class="alert alert-exercise"><h3 class="alert-title">Exercise</h3><p>Inverse one2many relations</p><p>Using the inverse relational field one2many, modify the models to reflect
the relation between courses and sessions.</p><ol><li>Modify the <code>Course</code> class, and</li><li>add the field in the course form view.</li></ol><div class="pq-patch"><em>openacademy/models.py</em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre>    <span class="n">responsible_id</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Many2one</span><span class="p">(</span><span class="s1">'res.users'</span><span class="p">,</span>
<span class="hll">        <span class="n">ondelete</span><span class="o">=</span><span class="s1">'set null'</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="s2">"Responsible"</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</span><span class="hll">    <span class="n">session_ids</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">One2many</span><span class="p">(</span>
</span>        <span class="s1">'openacademy.session'</span><span class="p">,</span> <span class="s1">'course_id'</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="s2">"Sessions"</span><span class="p">)</span><font></font>
<font></font>
<font></font>
<span class="k">class</span> <span class="nc">Session</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
</pre></div>
</div>
</div><em>openacademy/views/openacademy.xml</em><div class="pq-section"><div class="highlight-xml"><div class="highlight"><pre>                            <span class="nt">&lt;page</span> <span class="na">string=</span><span class="s">"Description"</span><span class="nt">&gt;</span>
                                <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"description"</span><span class="nt">/&gt;</span>
                            <span class="nt">&lt;/page&gt;</span>
<span class="hll">                            <span class="nt">&lt;page</span> <span class="na">string=</span><span class="s">"Sessions"</span><span class="nt">&gt;</span>
</span><span class="hll">                                <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"session_ids"</span><span class="nt">&gt;</span>
</span><span class="hll">                                    <span class="nt">&lt;tree</span> <span class="na">string=</span><span class="s">"Registered sessions"</span><span class="nt">&gt;</span>
</span><span class="hll">                                        <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">/&gt;</span>
</span><span class="hll">                                        <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"instructor_id"</span><span class="nt">/&gt;</span>
</span><span class="hll">                                    <span class="nt">&lt;/tree&gt;</span>
</span><span class="hll">                                <span class="nt">&lt;/field&gt;</span>
</span>                            <span class="nt">&lt;/page&gt;</span>
                        <span class="nt">&lt;/notebook&gt;</span>
                    <span class="nt">&lt;/sheet&gt;</span>
</pre></div>
</div>
</div></div></div><div role="alert" class="alert alert-exercise"><h3 class="alert-title">Exercise</h3><p>Multiple many2many relations</p><p>Using the relational field many2many, modify the <em>Session</em> model to relate
every session to a set of <em>attendees</em>. Attendees will be represented by
partner records, so we will relate to the built-in model <code>res.partner</code>.
Adapt the views accordingly.</p><ol><li>Modify the <code>Session</code> class, and</li><li>add the field in the form view.</li></ol><div class="pq-patch"><em>openacademy/models.py</em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre>    <span class="n">instructor_id</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Many2one</span><span class="p">(</span><span class="s1">'res.partner'</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="s2">"Instructor"</span><span class="p">)</span>
    <span class="n">course_id</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Many2one</span><span class="p">(</span><span class="s1">'openacademy.course'</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s1">'cascade'</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="s2">"Course"</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="hll">    <span class="n">attendee_ids</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Many2many</span><span class="p">(</span><span class="s1">'res.partner'</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="s2">"Attendees"</span><span class="p">)</span>
</span></pre></div>
</div>
</div><em>openacademy/views/openacademy.xml</em><div class="pq-section"><div class="highlight-xml"><div class="highlight"><pre>                                <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"seats"</span><span class="nt">/&gt;</span>
                            <span class="nt">&lt;/group&gt;</span>
                        <span class="nt">&lt;/group&gt;</span>
<span class="hll">                        <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"attendee_ids"</span><span class="nt">/&gt;</span>
</span><span class="hll">                        <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"attendee_ids"</span><span class="nt">/&gt;</span>
</span>                    <span class="nt">&lt;/sheet&gt;</span>
                <span class="nt">&lt;/form&gt;</span>
            <span class="nt">&lt;/field&gt;</span>
</pre></div>
</div>
</div></div></div></section><section id="inheritance"><h2 class="o_has_permalink_marker">Inheritance<i class="mdi-content-link"></i></h2></section><section id="model-inheritance"><h3 class="o_has_permalink_marker">Model inheritance<i class="mdi-content-link"></i></h3><p>Odoo provides two <em>inheritance</em> mechanisms to extend an existing model in a
modular way.</p><p>The first inheritance mechanism allows a module to modify the behavior of a
model defined in another module:</p><ul><li>add fields to a model,</li><li>override the definition of fields on a model,</li><li>add constraints to a model,</li><li>add methods to a model,</li><li>override existing methods on a model.</li></ul><p>The second inheritance mechanism (delegation) allows to link every record of a
model to a record in a parent model, and provides transparent access to the
fields of the parent record.</p><img src="./构建模块 - odoo 12.0文档_files/inheritance_methods.png" class="img-responsive center-block"><div role="alert" class="alert alert-go_to"><h3 class="alert-title">See also</h3><ul><li><a href="https://www.odoo.com/documentation/master/reference/orm.html#odoo.models.Model._inherit" title="odoo.models.Model._inherit" class="reference internal alert-link"><code class="xref py-attr py">_inherit</code></a></li><li><a href="https://www.odoo.com/documentation/master/reference/orm.html#odoo.models.Model._inherits" title="odoo.models.Model._inherits" class="reference internal alert-link"><code class="xref py-attr py">_inherits</code></a></li></ul></div></section><section id="view-inheritance"><h3 class="o_has_permalink_marker">View inheritance<i class="mdi-content-link"></i></h3><p>Instead of modifying existing views in place (by overwriting them), Odoo
provides view inheritance where children “extension” views are applied on top of
root views, and can add or remove content from their parent.</p><p>An extension view references its parent using the <code>inherit_id</code> field, and
instead of a single view its <code>arch</code> field is composed of any number of
<code>xpath</code> elements selecting and altering the content of their parent view:</p><div class="highlight-xml"><div class="highlight"><pre><span class="c">&lt;!-- improved idea categories list --&gt;</span>
<span class="nt">&lt;record</span> <span class="na">id=</span><span class="s">"idea_category_list2"</span> <span class="na">model=</span><span class="s">"ir.ui.view"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>id.category.list2<span class="nt">&lt;/field&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"model"</span><span class="nt">&gt;</span>idea.category<span class="nt">&lt;/field&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"inherit_id"</span> <span class="na">ref=</span><span class="s">"id_category_list"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"arch"</span> <span class="na">type=</span><span class="s">"xml"</span><span class="nt">&gt;</span>
        <span class="c">&lt;!-- find field description and add the field</span>
<span class="c">             idea_ids after it --&gt;</span>
        <span class="nt">&lt;xpath</span> <span class="na">expr=</span><span class="s">"//field[@name='description']"</span> <span class="na">position=</span><span class="s">"after"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"idea_ids"</span> <span class="na">string=</span><span class="s">"Number of ideas"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/xpath&gt;</span>
    <span class="nt">&lt;/field&gt;</span>
<span class="nt">&lt;/record&gt;</span>
</pre></div>
</div>
<dl><dt><code>expr</code></dt><dd>An <a href="http://w3.org/TR/xpath" class="reference external">XPath</a> expression selecting a single element in the parent view.
Raises an error if it matches no element or more than one</dd><dt><code>position</code></dt><dd><p>Operation to apply to the matched element:</p><dl><dt><code>inside</code></dt><dd>appends <code>xpath</code>’s body at the end of the matched element</dd><dt><code>replace</code></dt><dd>replaces the matched element with the <code>xpath</code>’s body, replacing any <code>$0</code> node occurrence
in the new body with the original element</dd><dt><code>before</code></dt><dd>inserts the <code>xpath</code>’s body as a sibling before the matched element</dd><dt><code>after</code></dt><dd>inserts the <code>xpaths</code>’s body as a sibling after the matched element</dd><dt><code>attributes</code></dt><dd>alters the attributes of the matched element using special
<code>attribute</code> elements in the <code>xpath</code>’s body</dd></dl></dd></dl><div role="alert" class="alert alert-info"><h3 class="alert-title">Tip</h3><p>When matching a single element, the <code>position</code> attribute can be set directly
on the element to be found. Both inheritances below will give the same result.</p><div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;xpath</span> <span class="na">expr=</span><span class="s">"//field[@name='description']"</span> <span class="na">position=</span><span class="s">"after"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"idea_ids"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/xpath&gt;</span><font></font>
<font></font>
<span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"description"</span> <span class="na">position=</span><span class="s">"after"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"idea_ids"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/field&gt;</span>
</pre></div>
</div>
</div><div role="alert" class="alert alert-exercise"><h3 class="alert-title">Exercise</h3><p>Alter existing content</p><ul><li>Using model inheritance, modify the existing <em>Partner</em> model to add an
<code>instructor</code> boolean field, and a many2many field that corresponds to
the session-partner relation</li><li>Using view inheritance, display this fields in the partner form view</li></ul><div role="alert" class="alert alert-info"><h3 class="alert-title">Note</h3><p>This is the opportunity to introduce the developer mode to
inspect the view, find its external ID and the place to put the
new field.</p></div><ol><li>Create a file <code>openacademy/models/partner.py</code> and import it in
<code>__init__.py</code></li><li>Create a file <code>openacademy/views/partner.xml</code> and add it to
<code>__manifest__.py</code></li></ol><div class="pq-patch"><em>openacademy/__init__.py</em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">controllers</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">models</span>
<span class="hll"><span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">partner</span>
</span></pre></div>
</div>
</div><em>openacademy/__manifest__.py</em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre>        <span class="c1"># 'security/ir.model.access.csv',</span>
        <span class="s1">'templates.xml'</span><span class="p">,</span>
        <span class="s1">'views/openacademy.xml'</span><span class="p">,</span>
<span class="hll">        <span class="s1">'views/partner.xml'</span><span class="p">,</span>
</span>    <span class="p">],</span>
    <span class="c1"># only loaded in demonstration mode</span>
    <span class="s1">'demo'</span><span class="p">:</span> <span class="p">[</span>
</pre></div>
</div>
</div><em>openacademy/partner.py</em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre><span class="hll"><span class="c1"># -*- coding: utf-8 -*-</span>
</span><span class="hll"><span class="kn">from</span> <span class="nn">odoo</span> <span class="kn">import</span> <span class="n">fields</span><span class="p">,</span> <span class="n">models</span>
</span><span class="hll">
</span><span class="hll"><span class="k">class</span> <span class="nc">Partner</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
</span><span class="hll">    <span class="n">_inherit</span> <span class="o">=</span> <span class="s1">'res.partner'</span>
</span><span class="hll">
</span><span class="hll">    <span class="c1"># Add a new column to the res.partner model, by default partners are not</span>
</span><span class="hll">    <span class="c1"># instructors</span>
</span><span class="hll">    <span class="n">instructor</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Boolean</span><span class="p">(</span><span class="s2">"Instructor"</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</span><span class="hll">
</span><span class="hll">    <span class="n">session_ids</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Many2many</span><span class="p">(</span><span class="s1">'openacademy.session'</span><span class="p">,</span>
</span><span class="hll">        <span class="n">string</span><span class="o">=</span><span class="s2">"Attended Sessions"</span><span class="p">,</span> <span class="n">readonly</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</span></pre></div>
</div>
</div><em>openacademy/views/partner.xml</em><div class="pq-section"><div class="highlight-xml"><div class="highlight"><pre><span class="hll"><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
</span><span class="hll"> <span class="nt">&lt;odoo&gt;</span>
</span><span class="hll">
</span><span class="hll">        <span class="c">&lt;!-- Add instructor field to existing view --&gt;</span>
</span><span class="hll">        <span class="nt">&lt;record</span> <span class="na">model=</span><span class="s">"ir.ui.view"</span> <span class="na">id=</span><span class="s">"partner_instructor_form_view"</span><span class="nt">&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>partner.instructor<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"model"</span><span class="nt">&gt;</span>res.partner<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"inherit_id"</span> <span class="na">ref=</span><span class="s">"base.view_partner_form"</span><span class="nt">/&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"arch"</span> <span class="na">type=</span><span class="s">"xml"</span><span class="nt">&gt;</span>
</span><span class="hll">                <span class="nt">&lt;notebook</span> <span class="na">position=</span><span class="s">"inside"</span><span class="nt">&gt;</span>
</span><span class="hll">                    <span class="nt">&lt;page</span> <span class="na">string=</span><span class="s">"Sessions"</span><span class="nt">&gt;</span>
</span><span class="hll">                        <span class="nt">&lt;group&gt;</span>
</span><span class="hll">                            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"instructor"</span><span class="nt">/&gt;</span>
</span><span class="hll">                            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"session_ids"</span><span class="nt">/&gt;</span>
</span><span class="hll">                        <span class="nt">&lt;/group&gt;</span>
</span><span class="hll">                    <span class="nt">&lt;/page&gt;</span>
</span><span class="hll">                <span class="nt">&lt;/notebook&gt;</span>
</span><span class="hll">            <span class="nt">&lt;/field&gt;</span>
</span><span class="hll">        <span class="nt">&lt;/record&gt;</span>
</span><span class="hll">
</span><span class="hll">        <span class="nt">&lt;record</span> <span class="na">model=</span><span class="s">"ir.actions.act_window"</span> <span class="na">id=</span><span class="s">"contact_list_action"</span><span class="nt">&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>Contacts<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"res_model"</span><span class="nt">&gt;</span>res.partner<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"view_mode"</span><span class="nt">&gt;</span>tree,form<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">        <span class="nt">&lt;/record&gt;</span>
</span><span class="hll">        <span class="nt">&lt;menuitem</span> <span class="na">id=</span><span class="s">"configuration_menu"</span> <span class="na">name=</span><span class="s">"Configuration"</span>
</span><span class="hll">                  <span class="na">parent=</span><span class="s">"main_openacademy_menu"</span><span class="nt">/&gt;</span>
</span><span class="hll">        <span class="nt">&lt;menuitem</span> <span class="na">id=</span><span class="s">"contact_menu"</span> <span class="na">name=</span><span class="s">"Contacts"</span>
</span><span class="hll">                  <span class="na">parent=</span><span class="s">"configuration_menu"</span>
</span><span class="hll">                  <span class="na">action=</span><span class="s">"contact_list_action"</span><span class="nt">/&gt;</span>
</span><span class="hll">
</span><span class="hll"><span class="nt">&lt;/odoo&gt;</span>
</span></pre></div>
</div>
</div></div></div></section><section id="domains"><h4 class="o_has_permalink_marker">Domains<i class="mdi-content-link"></i></h4><p>In Odoo, <a href="https://www.odoo.com/documentation/master/reference/orm.html#reference-orm-domains" class="reference internal"><span class="std-ref std">Domains</span></a> are values that encode conditions on
records. A domain is a  list of criteria used to select a subset of a model’s
records. Each criteria is a triple with a field name, an operator and a value.</p><p>For instance, when used on the <em>Product</em> model the following domain selects
all <em>services</em> with a unit price over <em>1000</em>:</p><div class="highlight-default"><div class="highlight"><pre><span class="p">[(</span><span class="s1">'product_type'</span><span class="p">,</span> <span class="s1">'='</span><span class="p">,</span> <span class="s1">'service'</span><span class="p">),</span> <span class="p">(</span><span class="s1">'unit_price'</span><span class="p">,</span> <span class="s1">'&gt;'</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)]</span>
</pre></div>
</div>
<p>By default criteria are combined with an implicit AND. The logical operators
<code>&amp;</code> (AND), <code>|</code> (OR) and <code>!</code> (NOT) can be used to explicitly combine
criteria. They are used in prefix position (the operator is inserted before
its arguments rather than between). For instance to select products “which are
services <em>OR</em> have a unit price which is <em>NOT</em> between 1000 and 2000”:</p><div class="highlight-default"><div class="highlight"><pre><span class="p">[</span><span class="s1">'|'</span><span class="p">,</span>
    <span class="p">(</span><span class="s1">'product_type'</span><span class="p">,</span> <span class="s1">'='</span><span class="p">,</span> <span class="s1">'service'</span><span class="p">),</span>
    <span class="s1">'!'</span><span class="p">,</span> <span class="s1">'&amp;'</span><span class="p">,</span>
        <span class="p">(</span><span class="s1">'unit_price'</span><span class="p">,</span> <span class="s1">'&gt;='</span><span class="p">,</span> <span class="mi">1000</span><span class="p">),</span>
        <span class="p">(</span><span class="s1">'unit_price'</span><span class="p">,</span> <span class="s1">'&lt;'</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)]</span>
</pre></div>
</div>
<p>A <code>domain</code> parameter can be added to relational fields to limit valid
records for the relation when trying to select records in the client interface.</p><div role="alert" class="alert alert-exercise"><h3 class="alert-title">Exercise</h3><p>Domains on relational fields</p><p>When selecting the instructor for a <em>Session</em>, only instructors (partners
with <code>instructor</code> set to <code>True</code>) should be visible.</p><div class="pq-patch"><em>openacademy/models.py</em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre>    <span class="n">duration</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Float</span><span class="p">(</span><span class="n">digits</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">help</span><span class="o">=</span><span class="s2">"Duration in days"</span><span class="p">)</span>
    <span class="n">seats</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Integer</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s2">"Number of seats"</span><span class="p">)</span><font></font>
<font></font>
<span class="hll">    <span class="n">instructor_id</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Many2one</span><span class="p">(</span><span class="s1">'res.partner'</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="s2">"Instructor"</span><span class="p">,</span>
</span><span class="hll">        <span class="n">domain</span><span class="o">=</span><span class="p">[(</span><span class="s1">'instructor'</span><span class="p">,</span> <span class="s1">'='</span><span class="p">,</span> <span class="bp">True</span><span class="p">)])</span>
</span>    <span class="n">course_id</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Many2one</span><span class="p">(</span><span class="s1">'openacademy.course'</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s1">'cascade'</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="s2">"Course"</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">attendee_ids</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Many2many</span><span class="p">(</span><span class="s1">'res.partner'</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="s2">"Attendees"</span><span class="p">)</span>
</pre></div>
</div>
</div></div><div role="alert" class="alert alert-info"><h3 class="alert-title">Note</h3><p>A domain declared as a literal list is evaluated server-side and
can’t refer to dynamic values on the right-hand side, a domain
declared as a string is evaluated client-side and allows
field names on the right-hand side</p></div></div><div role="alert" class="alert alert-exercise"><h3 class="alert-title">Exercise</h3><p>More complex domains</p><p>Create new partner categories <em>Teacher / Level 1</em> and <em>Teacher / Level 2</em>.
The instructor for a session can be either an instructor or a teacher
(of any level).</p><ol><li>Modify the <em>Session</em> model’s domain</li><li>Modify <code>openacademy/view/partner.xml</code> to get access to
<em>Partner categories</em>:</li></ol><div class="pq-patch"><em>openacademy/models.py</em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre>    <span class="n">seats</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Integer</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s2">"Number of seats"</span><span class="p">)</span><font></font>
<font></font>
    <span class="n">instructor_id</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Many2one</span><span class="p">(</span><span class="s1">'res.partner'</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="s2">"Instructor"</span><span class="p">,</span>
<span class="hll">        <span class="n">domain</span><span class="o">=</span><span class="p">[</span><span class="s1">'|'</span><span class="p">,</span> <span class="p">(</span><span class="s1">'instructor'</span><span class="p">,</span> <span class="s1">'='</span><span class="p">,</span> <span class="bp">True</span><span class="p">),</span>
</span><span class="hll">                     <span class="p">(</span><span class="s1">'category_id.name'</span><span class="p">,</span> <span class="s1">'ilike'</span><span class="p">,</span> <span class="s2">"Teacher"</span><span class="p">)])</span>
</span>    <span class="n">course_id</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Many2one</span><span class="p">(</span><span class="s1">'openacademy.course'</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s1">'cascade'</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="s2">"Course"</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">attendee_ids</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Many2many</span><span class="p">(</span><span class="s1">'res.partner'</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="s2">"Attendees"</span><span class="p">)</span>
</pre></div>
</div>
</div><em>openacademy/views/partner.xml</em><div class="pq-section"><div class="highlight-xml"><div class="highlight"><pre>                  parent="configuration_menu"<font></font>
                  action="contact_list_action"/&gt;<font></font>
<font></font>
<span class="hll">        <span class="nt">&lt;record</span> <span class="na">model=</span><span class="s">"ir.actions.act_window"</span> <span class="na">id=</span><span class="s">"contact_cat_list_action"</span><span class="nt">&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>Contact Tags<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"res_model"</span><span class="nt">&gt;</span>res.partner.category<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"view_mode"</span><span class="nt">&gt;</span>tree,form<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">        <span class="nt">&lt;/record&gt;</span>
</span><span class="hll">        <span class="nt">&lt;menuitem</span> <span class="na">id=</span><span class="s">"contact_cat_menu"</span> <span class="na">name=</span><span class="s">"Contact Tags"</span>
</span><span class="hll">                  <span class="na">parent=</span><span class="s">"configuration_menu"</span>
</span><span class="hll">                  <span class="na">action=</span><span class="s">"contact_cat_list_action"</span><span class="nt">/&gt;</span>
</span><span class="hll">
</span><span class="hll">        <span class="nt">&lt;record</span> <span class="na">model=</span><span class="s">"res.partner.category"</span> <span class="na">id=</span><span class="s">"teacher1"</span><span class="nt">&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>Teacher / Level 1<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">        <span class="nt">&lt;/record&gt;</span>
</span><span class="hll">        <span class="nt">&lt;record</span> <span class="na">model=</span><span class="s">"res.partner.category"</span> <span class="na">id=</span><span class="s">"teacher2"</span><span class="nt">&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>Teacher / Level 2<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">        <span class="nt">&lt;/record&gt;</span>
</span><span class="hll">
</span><span class="nt">&lt;/odoo&gt;</span>
</pre></div>
</div>
</div></div></div></section><section id="computed-fields-and-default-values"><h2 class="o_has_permalink_marker">Computed fields and default values<i class="mdi-content-link"></i></h2><p>So far fields have been stored directly in and retrieved directly from the
database. Fields can also be <em>computed</em>. In that case, the field’s value is not
retrieved from the database but computed on-the-fly by calling a method of the
model.</p><p>To create a computed field, create a field and set its attribute
<code class="xref py-attr py">compute</code> to the name of a method. The computation
method should simply set the value of the field to compute on every record in
<code>self</code>.</p><div role="alert" class="alert aphorism alert-danger"><h3 class="alert-title">Danger</h3><p><code>self</code> is a collection</p><p>The object <code>self</code> is a <em>recordset</em>, i.e., an ordered collection of
records. It supports the standard Python operations on collections, like
<code>len(self)</code> and <code>iter(self)</code>, plus extra set operations like <code>recs1 +
recs2</code>.</p><p>Iterating over <code>self</code> gives the records one by one, where each record is
itself a collection of size 1. You can access/assign fields on single
records by using the dot notation, like <code>record.name</code>.</p></div><div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">random</span>
<span class="kn">from</span> <span class="nn">odoo</span> <span class="kn">import</span> <span class="n">models</span><span class="p">,</span> <span class="n">fields</span><span class="p">,</span> <span class="n">api</span><font></font>
<font></font>
<span class="k">class</span> <span class="nc">ComputedModel</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">_name</span> <span class="o">=</span> <span class="s1">'test.computed'</span><font></font>
<font></font>
    <span class="n">name</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Char</span><span class="p">(</span><span class="n">compute</span><span class="o">=</span><span class="s1">'_compute_name'</span><span class="p">)</span><font></font>
<font></font>
    <span class="nd">@api.multi</span>
    <span class="k">def</span> <span class="nf">_compute_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
            <span class="n">record</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">1e6</span><span class="p">))</span>
</pre></div>
</div>
</section><section id="dependencies"><h3 class="o_has_permalink_marker">Dependencies<i class="mdi-content-link"></i></h3><p>The value of a computed field usually depends on the values of other fields on
the computed record. The ORM expects the developer to specify those dependencies
on the compute method with the decorator <a href="https://www.odoo.com/documentation/master/reference/orm.html#odoo.api.depends" title="odoo.api.depends" class="reference internal"><code class="xref py-func py">depends()</code></a>.
The given dependencies are used by the ORM to trigger the recomputation of the
field whenever some of its dependencies have been modified:</p><div class="highlight-default"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">odoo</span> <span class="k">import</span> <span class="n">models</span><span class="p">,</span> <span class="n">fields</span><span class="p">,</span> <span class="n">api</span><font></font>
<font></font>
<span class="k">class</span> <span class="nc">ComputedModel</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">_name</span> <span class="o">=</span> <span class="s1">'test.computed'</span><font></font>
<font></font>
    <span class="n">name</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Char</span><span class="p">(</span><span class="n">compute</span><span class="o">=</span><span class="s1">'_compute_name'</span><span class="p">)</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Integer</span><span class="p">()</span><font></font>
<font></font>
    <span class="nd">@api</span><span class="o">.</span><span class="n">depends</span><span class="p">(</span><span class="s1">'value'</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_compute_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
            <span class="n">record</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">"Record with value </span><span class="si">%s</span><span class="s2">"</span> <span class="o">%</span> <span class="n">record</span><span class="o">.</span><span class="n">value</span>
</pre></div>
</div>
<div role="alert" class="alert alert-exercise"><h3 class="alert-title">Exercise</h3><p>Computed fields</p><ul><li>Add the percentage of taken seats to the <em>Session</em> model</li><li>Display that field in the tree and form views</li><li>Display the field as a progress bar</li></ul><ol><li>Add a computed field to <em>Session</em></li><li>Show the field in the <em>Session</em> view:</li></ol><div class="pq-patch"><em>openacademy/models.py</em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre>    <span class="n">course_id</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Many2one</span><span class="p">(</span><span class="s1">'openacademy.course'</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s1">'cascade'</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="s2">"Course"</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">attendee_ids</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Many2many</span><span class="p">(</span><span class="s1">'res.partner'</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="s2">"Attendees"</span><span class="p">)</span>
<span class="hll">
</span><span class="hll">    <span class="n">taken_seats</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Float</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s2">"Taken seats"</span><span class="p">,</span> <span class="n">compute</span><span class="o">=</span><span class="s1">'_taken_seats'</span><span class="p">)</span>
</span><span class="hll">
</span><span class="hll">    <span class="nd">@api.depends</span><span class="p">(</span><span class="s1">'seats'</span><span class="p">,</span> <span class="s1">'attendee_ids'</span><span class="p">)</span>
</span><span class="hll">    <span class="k">def</span> <span class="nf">_taken_seats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class="hll">        <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
</span><span class="hll">            <span class="k">if</span> <span class="ow">not</span> <span class="n">r</span><span class="o">.</span><span class="n">seats</span><span class="p">:</span>
</span><span class="hll">                <span class="n">r</span><span class="o">.</span><span class="n">taken_seats</span> <span class="o">=</span> <span class="mf">0.0</span>
</span><span class="hll">            <span class="k">else</span><span class="p">:</span>
</span><span class="hll">                <span class="n">r</span><span class="o">.</span><span class="n">taken_seats</span> <span class="o">=</span> <span class="mf">100.0</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">attendee_ids</span><span class="p">)</span> <span class="o">/</span> <span class="n">r</span><span class="o">.</span><span class="n">seats</span>
</span></pre></div>
</div>
</div><em>openacademy/views/openacademy.xml</em><div class="pq-section"><div class="highlight-xml"><div class="highlight"><pre>                                <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"start_date"</span><span class="nt">/&gt;</span>
                                <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"duration"</span><span class="nt">/&gt;</span>
                                <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"seats"</span><span class="nt">/&gt;</span>
<span class="hll">                                <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"taken_seats"</span> <span class="na">widget=</span><span class="s">"progressbar"</span><span class="nt">/&gt;</span>
</span>                            <span class="nt">&lt;/group&gt;</span>
                        <span class="nt">&lt;/group&gt;</span>
                        <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"attendee_ids"</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<div class="highlight-xml"><div class="highlight"><pre>                <span class="nt">&lt;tree</span> <span class="na">string=</span><span class="s">"Session Tree"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">/&gt;</span>
                    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"course_id"</span><span class="nt">/&gt;</span>
<span class="hll">                    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"taken_seats"</span> <span class="na">widget=</span><span class="s">"progressbar"</span><span class="nt">/&gt;</span>
</span>                <span class="nt">&lt;/tree&gt;</span>
            <span class="nt">&lt;/field&gt;</span>
        <span class="nt">&lt;/record&gt;</span>
</pre></div>
</div>
</div></div></div></section><section id="default-values"><h3 class="o_has_permalink_marker">Default values<i class="mdi-content-link"></i></h3><p>Any field can be given a default value. In the field definition, add the option
<code>default=X</code> where <code>X</code> is either a Python literal value (boolean, integer,
float, string), or a function taking a recordset and returning a value:</p><div class="highlight-default"><div class="highlight"><pre><span class="n">name</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Char</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="s2">"Unknown"</span><span class="p">)</span>
<span class="n">user_id</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Many2one</span><span class="p">(</span><span class="s1">'res.users'</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>
</pre></div>
</div>
<div role="alert" class="alert alert-info"><h3 class="alert-title">Note</h3><p>The object <code>self.env</code> gives access to request parameters and other useful
things:</p><ul><li><code>self.env.cr</code> or <code>self._cr</code> is the database <em>cursor</em> object; it is
used for querying the database</li><li><code>self.env.uid</code> or <code>self._uid</code> is the current user’s database id</li><li><code>self.env.user</code> is the current user’s record</li><li><code>self.env.context</code> or <code>self._context</code> is the context dictionary</li><li><code>self.env.ref(xml_id)</code> returns the record corresponding to an XML id</li><li><code>self.env[model_name]</code> returns an instance of the given model</li></ul></div><div role="alert" class="alert alert-exercise"><h3 class="alert-title">Exercise</h3><p>Active objects – Default values</p><ul><li>Define the start_date default value as today (see
<a href="https://www.odoo.com/documentation/master/reference/orm.html#odoo.fields.Date" title="odoo.fields.Date" class="reference internal alert-link"><code class="py-class xref py">Date</code></a>).</li><li>Add a field <code>active</code> in the class Session, and set sessions as active by
default.</li></ul><div class="pq-patch"><em>openacademy/models.py</em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre>    <span class="n">_description</span> <span class="o">=</span> <span class="s2">"OpenAcademy Sessions"</span><font></font>
<font></font>
    <span class="n">name</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Char</span><span class="p">(</span><span class="n">required</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="hll">    <span class="n">start_date</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Date</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">fields</span><span class="o">.</span><span class="n">Date</span><span class="o">.</span><span class="n">today</span><span class="p">)</span>
</span>    <span class="n">duration</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Float</span><span class="p">(</span><span class="n">digits</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">help</span><span class="o">=</span><span class="s2">"Duration in days"</span><span class="p">)</span>
    <span class="n">seats</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Integer</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s2">"Number of seats"</span><span class="p">)</span>
<span class="hll">    <span class="n">active</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Boolean</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</span>
    <span class="n">instructor_id</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Many2one</span><span class="p">(</span><span class="s1">'res.partner'</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="s2">"Instructor"</span><span class="p">,</span>
        <span class="n">domain</span><span class="o">=</span><span class="p">[</span><span class="s1">'|'</span><span class="p">,</span> <span class="p">(</span><span class="s1">'instructor'</span><span class="p">,</span> <span class="s1">'='</span><span class="p">,</span> <span class="bp">True</span><span class="p">),</span>
</pre></div>
</div>
</div><em>openacademy/views/openacademy.xml</em><div class="pq-section"><div class="highlight-xml"><div class="highlight"><pre>                                <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"course_id"</span><span class="nt">/&gt;</span>
                                <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">/&gt;</span>
                                <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"instructor_id"</span><span class="nt">/&gt;</span>
<span class="hll">                                <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"active"</span><span class="nt">/&gt;</span>
</span>                            <span class="nt">&lt;/group&gt;</span>
                            <span class="nt">&lt;group</span> <span class="na">string=</span><span class="s">"Schedule"</span><span class="nt">&gt;</span>
                                <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"start_date"</span><span class="nt">/&gt;</span>
</pre></div>
</div>
</div></div><div role="alert" class="alert alert-info"><h3 class="alert-title">Note</h3><p>Odoo has built-in rules making fields with an <code>active</code> field set
to <code>False</code> invisible.</p></div></div></section><section id="onchange"><h2 class="o_has_permalink_marker">Onchange<i class="mdi-content-link"></i></h2><p>The “onchange” mechanism provides a way for the client interface to update a
form whenever the user has filled in a value in a field, without saving anything
to the database.</p><p>For instance, suppose a model has three fields <code>amount</code>, <code>unit_price</code> and
<code>price</code>, and you want to update the price on the form when any of the other
fields is modified. To achieve this, define a method where <code>self</code> represents
the record in the form view, and decorate it with <a href="https://www.odoo.com/documentation/master/reference/orm.html#odoo.api.onchange" title="odoo.api.onchange" class="reference internal"><code class="xref py-func py">onchange()</code></a>
to specify on which field it has to be triggered. Any change you make on
<code>self</code> will be reflected on the form.</p><div class="highlight-xml"><div class="highlight"><pre><span class="c">&lt;!-- content of form view --&gt;</span>
<span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"amount"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"unit_price"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"price"</span> <span class="na">readonly=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="c1"># onchange handler</span>
<span class="nd">@api.onchange</span><span class="p">(</span><span class="s1">'amount'</span><span class="p">,</span> <span class="s1">'unit_price'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_onchange_price</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c1"># set auto-changing field</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">price</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">amount</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">unit_price</span>
    <span class="c1"># Can optionally return a warning and domains</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s1">'warning'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'title'</span><span class="p">:</span> <span class="s2">"Something bad happened"</span><span class="p">,</span>
            <span class="s1">'message'</span><span class="p">:</span> <span class="s2">"It was very bad indeed"</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}</span>
</pre></div>
</div>
<p>For computed fields, valued <code>onchange</code> behavior is built-in as can be seen by
playing with the <em>Session</em> form: change the number of seats or participants, and
the <code>taken_seats</code> progressbar is automatically updated.</p><div role="alert" class="alert alert-exercise"><h3 class="alert-title">Exercise</h3><p>Warning</p><p>Add an explicit onchange to warn about invalid values, like a negative
number of seats, or more participants than seats.</p><div class="pq-patch"><em>openacademy/models.py</em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre>                <span class="n">r</span><span class="o">.</span><span class="n">taken_seats</span> <span class="o">=</span> <span class="mf">0.0</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">r</span><span class="o">.</span><span class="n">taken_seats</span> <span class="o">=</span> <span class="mf">100.0</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">attendee_ids</span><span class="p">)</span> <span class="o">/</span> <span class="n">r</span><span class="o">.</span><span class="n">seats</span>
<span class="hll">
</span><span class="hll">    <span class="nd">@api.onchange</span><span class="p">(</span><span class="s1">'seats'</span><span class="p">,</span> <span class="s1">'attendee_ids'</span><span class="p">)</span>
</span><span class="hll">    <span class="k">def</span> <span class="nf">_verify_valid_seats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class="hll">        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">seats</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span class="hll">            <span class="k">return</span> <span class="p">{</span>
</span><span class="hll">                <span class="s1">'warning'</span><span class="p">:</span> <span class="p">{</span>
</span><span class="hll">                    <span class="s1">'title'</span><span class="p">:</span> <span class="s2">"Incorrect 'seats' value"</span><span class="p">,</span>
</span><span class="hll">                    <span class="s1">'message'</span><span class="p">:</span> <span class="s2">"The number of available seats may not be negative"</span><span class="p">,</span>
</span><span class="hll">                <span class="p">},</span>
</span><span class="hll">            <span class="p">}</span>
</span><span class="hll">        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">seats</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">attendee_ids</span><span class="p">):</span>
</span><span class="hll">            <span class="k">return</span> <span class="p">{</span>
</span><span class="hll">                <span class="s1">'warning'</span><span class="p">:</span> <span class="p">{</span>
</span><span class="hll">                    <span class="s1">'title'</span><span class="p">:</span> <span class="s2">"Too many attendees"</span><span class="p">,</span>
</span><span class="hll">                    <span class="s1">'message'</span><span class="p">:</span> <span class="s2">"Increase seats or remove excess attendees"</span><span class="p">,</span>
</span><span class="hll">                <span class="p">},</span>
</span><span class="hll">            <span class="p">}</span>
</span></pre></div>
</div>
</div></div></div></section><section id="model-constraints"><h2 class="o_has_permalink_marker">Model constraints<i class="mdi-content-link"></i></h2><p>Odoo provides two ways to set up automatically verified invariants:
<a href="https://www.odoo.com/documentation/master/reference/orm.html#odoo.api.constrains" title="odoo.api.constrains" class="reference internal"><code class="xref py-func py">Python constraints</code></a> and
<a href="https://www.odoo.com/documentation/master/reference/orm.html#odoo.models.Model._sql_constraints" title="odoo.models.Model._sql_constraints" class="reference internal"><code class="xref py-attr py">SQL constraints</code></a>.</p><p>A Python constraint is defined as a method decorated with
<a href="https://www.odoo.com/documentation/master/reference/orm.html#odoo.api.constrains" title="odoo.api.constrains" class="reference internal"><code class="xref py-func py">constrains()</code></a>, and invoked on a recordset. The decorator
specifies which fields are involved in the constraint, so that the constraint is
automatically evaluated when one of them is modified. The method is expected to
raise an exception if its invariant is not satisfied:</p><div class="highlight-default"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">odoo.exceptions</span> <span class="k">import</span> <span class="n">ValidationError</span><font></font>
<font></font>
<span class="nd">@api</span><span class="o">.</span><span class="n">constrains</span><span class="p">(</span><span class="s1">'age'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_check_something</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">record</span><span class="o">.</span><span class="n">age</span> <span class="o">&gt;</span> <span class="mi">20</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ValidationError</span><span class="p">(</span><span class="s2">"Your record is too old: </span><span class="si">%s</span><span class="s2">"</span> <span class="o">%</span> <span class="n">record</span><span class="o">.</span><span class="n">age</span><span class="p">)</span>
    <span class="c1"># all records passed the test, don't return anything</span>
</pre></div>
</div>
<div role="alert" class="alert alert-exercise"><h3 class="alert-title">Exercise</h3><p>Add Python constraints</p><p>Add a constraint that checks that the instructor is not present in the
attendees of his/her own session.</p><div class="pq-patch"><em>openacademy/models.py</em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre><span class="c1"># -*- coding: utf-8 -*-</span><font></font>
<font></font>
<span class="hll"><span class="kn">from</span> <span class="nn">odoo</span> <span class="kn">import</span> <span class="n">models</span><span class="p">,</span> <span class="n">fields</span><span class="p">,</span> <span class="n">api</span><span class="p">,</span> <span class="n">exceptions</span>
</span>
<span class="k">class</span> <span class="nc">Course</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">_name</span> <span class="o">=</span> <span class="s1">'openacademy.course'</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>                    <span class="s1">'message'</span><span class="p">:</span> <span class="s2">"Increase seats or remove excess attendees"</span><span class="p">,</span>
                <span class="p">},</span>
            <span class="p">}</span>
<span class="hll">
</span><span class="hll">    <span class="nd">@api.constrains</span><span class="p">(</span><span class="s1">'instructor_id'</span><span class="p">,</span> <span class="s1">'attendee_ids'</span><span class="p">)</span>
</span><span class="hll">    <span class="k">def</span> <span class="nf">_check_instructor_not_in_attendees</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class="hll">        <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
</span><span class="hll">            <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">instructor_id</span> <span class="ow">and</span> <span class="n">r</span><span class="o">.</span><span class="n">instructor_id</span> <span class="ow">in</span> <span class="n">r</span><span class="o">.</span><span class="n">attendee_ids</span><span class="p">:</span>
</span><span class="hll">                <span class="k">raise</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s2">"A session's instructor can't be an attendee"</span><span class="p">)</span>
</span></pre></div>
</div>
</div></div></div><p>SQL constraints are defined through the model attribute
<a href="https://www.odoo.com/documentation/master/reference/orm.html#odoo.models.Model._sql_constraints" title="odoo.models.Model._sql_constraints" class="reference internal"><code class="xref py-attr py">_sql_constraints</code></a>. The latter is assigned to a list
of triples of strings <code>(name, sql_definition, message)</code>, where <code>name</code> is a
valid SQL constraint name, <code>sql_definition</code> is a <a href="http://www.postgresql.org/docs/9.3/static/ddl-constraints.html" class="reference external">table_constraint</a> expression,
and <code>message</code> is the error message.</p><div role="alert" class="alert alert-exercise"><h3 class="alert-title">Exercise</h3><p>Add SQL constraints</p><p>With the help of <a href="http://www.postgresql.org/docs/9.3/static/ddl-constraints.html" class="reference external alert-link">PostgreSQL’s documentation</a> , add the following
constraints:</p><ol><li>CHECK that the course description and the course title are different</li><li>Make the Course’s name UNIQUE</li></ol><div class="pq-patch"><em>openacademy/models.py</em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre>    <span class="n">session_ids</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">One2many</span><span class="p">(</span>
        <span class="s1">'openacademy.session'</span><span class="p">,</span> <span class="s1">'course_id'</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="s2">"Sessions"</span><span class="p">)</span><font></font>
<font></font>
<span class="hll">    <span class="n">_sql_constraints</span> <span class="o">=</span> <span class="p">[</span>
</span><span class="hll">        <span class="p">(</span><span class="s1">'name_description_check'</span><span class="p">,</span>
</span><span class="hll">         <span class="s1">'CHECK(name != description)'</span><span class="p">,</span>
</span><span class="hll">         <span class="s2">"The title of the course should not be the description"</span><span class="p">),</span>
</span><span class="hll">
</span><span class="hll">        <span class="p">(</span><span class="s1">'name_unique'</span><span class="p">,</span>
</span><span class="hll">         <span class="s1">'UNIQUE(name)'</span><span class="p">,</span>
</span><span class="hll">         <span class="s2">"The course title must be unique"</span><span class="p">),</span>
</span><span class="hll">    <span class="p">]</span>
</span><span class="hll">
</span>
<span class="k">class</span> <span class="nc">Session</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">_name</span> <span class="o">=</span> <span class="s1">'openacademy.session'</span>
</pre></div>
</div>
</div></div></div><div role="alert" class="alert alert-exercise"><h3 class="alert-title">Exercise</h3><p>Exercise 6 - Add a duplicate option</p><p>Since we added a constraint for the Course name uniqueness, it is not
possible to use the “duplicate” function anymore (<span class="menuselection">Form ‣
Duplicate</span>).</p><p>Re-implement your own “copy” method which allows to duplicate the Course
object, changing the original name into “Copy of [original name]”.</p><div class="pq-patch"><em>openacademy/models.py</em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre>    <span class="n">session_ids</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">One2many</span><span class="p">(</span>
        <span class="s1">'openacademy.session'</span><span class="p">,</span> <span class="s1">'course_id'</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="s2">"Sessions"</span><span class="p">)</span><font></font>
<font></font>
<span class="hll">    <span class="nd">@api.multi</span>
</span><span class="hll">    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
</span><span class="hll">        <span class="n">default</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">default</span> <span class="ow">or</span> <span class="p">{})</span>
</span><span class="hll">
</span><span class="hll">        <span class="n">copied_count</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">search_count</span><span class="p">(</span>
</span><span class="hll">            <span class="p">[(</span><span class="s1">'name'</span><span class="p">,</span> <span class="s1">'=like'</span><span class="p">,</span> <span class="s2">u"Copy of {}%"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">))])</span>
</span><span class="hll">        <span class="k">if</span> <span class="ow">not</span> <span class="n">copied_count</span><span class="p">:</span>
</span><span class="hll">            <span class="n">new_name</span> <span class="o">=</span> <span class="s2">u"Copy of {}"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</span><span class="hll">        <span class="k">else</span><span class="p">:</span>
</span><span class="hll">            <span class="n">new_name</span> <span class="o">=</span> <span class="s2">u"Copy of {} ({})"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">copied_count</span><span class="p">)</span>
</span><span class="hll">
</span><span class="hll">        <span class="n">default</span><span class="p">[</span><span class="s1">'name'</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_name</span>
</span><span class="hll">        <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">Course</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">default</span><span class="p">)</span>
</span><span class="hll">
</span>    <span class="n">_sql_constraints</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="s1">'name_description_check'</span><span class="p">,</span>
         <span class="s1">'CHECK(name != description)'</span><span class="p">,</span>
</pre></div>
</div>
</div></div></div></section><section id="advanced-views"><h2 class="o_has_permalink_marker">Advanced Views<i class="mdi-content-link"></i></h2></section><section id="id3"><h3 class="o_has_permalink_marker">Tree views<i class="mdi-content-link"></i></h3><p>Tree views can take supplementary attributes to further customize their
behavior:</p><dl><dt><code>decoration-{$name}</code></dt><dd><p>allow changing the style of a row’s text based on the corresponding
record’s attributes.</p><p>Values are Python expressions. For each record, the expression is evaluated
with the record’s attributes as context values and if <code>true</code>, the
corresponding style is applied to the row. Other context values are
<code>uid</code> (the id of the current user) and <code>current_date</code> (the current date
as a string of the form <code>yyyy-MM-dd</code>).</p><p><code>{$name}</code> can be <code>bf</code> (<code>font-weight: bold</code>), <code>it</code>
(<code>font-style: italic</code>), or any <a href="https://getbootstrap.com/docs/3.3/components/#available-variations" class="reference external">bootstrap contextual color</a> (<code>danger</code>,
<code>info</code>, <code>muted</code>, <code>primary</code>, <code>success</code> or <code>warning</code>).</p><div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;tree</span> <span class="na">string=</span><span class="s">"Idea Categories"</span> <span class="na">decoration-info=</span><span class="s">"state=='draft'"</span>
    <span class="na">decoration-danger=</span><span class="s">"state=='trashed'"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"state"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/tree&gt;</span>
</pre></div>
</div>
</dd><dt><code>editable</code></dt><dd>Either <code>"top"</code> or <code>"bottom"</code>. Makes the tree view editable in-place
(rather than having to go through the form view), the value is the
position where new rows appear.</dd></dl><div role="alert" class="alert alert-exercise"><h3 class="alert-title">Exercise</h3><p>List coloring</p><p>Modify the Session tree view in such a way that sessions lasting less than
5 days are colored blue, and the ones lasting more than 15 days are
colored red.</p><p>Modify the session tree view:</p><div class="pq-patch"><em>openacademy/views/openacademy.xml</em><div class="pq-section"><div class="highlight-xml"><div class="highlight"><pre>            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>session.tree<span class="nt">&lt;/field&gt;</span>
            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"model"</span><span class="nt">&gt;</span>openacademy.session<span class="nt">&lt;/field&gt;</span>
            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"arch"</span> <span class="na">type=</span><span class="s">"xml"</span><span class="nt">&gt;</span>
<span class="hll">                <span class="nt">&lt;tree</span> <span class="na">string=</span><span class="s">"Session Tree"</span> <span class="na">decoration-info=</span><span class="s">"duration&amp;lt;5"</span> <span class="na">decoration-danger=</span><span class="s">"duration&amp;gt;15"</span><span class="nt">&gt;</span>
</span>                    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">/&gt;</span>
                    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"course_id"</span><span class="nt">/&gt;</span>
<span class="hll">                    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"duration"</span> <span class="na">invisible=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
</span>                    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"taken_seats"</span> <span class="na">widget=</span><span class="s">"progressbar"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/tree&gt;</span>
            <span class="nt">&lt;/field&gt;</span>
</pre></div>
</div>
</div></div></div></section><section id="calendars"><h3 class="o_has_permalink_marker">Calendars<i class="mdi-content-link"></i></h3><p>Displays records as calendar events. Their root element is <code>&lt;calendar&gt;</code> and
their most common attributes are:</p><dl><dt><code>color</code></dt><dd>The name of the field used for <em>color segmentation</em>. Colors are
automatically distributed to events, but events in the same color segment
(records which have the same value for their <code>@color</code> field) will be
given the same color.</dd><dt><code>date_start</code></dt><dd>record’s field holding the start date/time for the event</dd><dt><code>date_stop</code> (optional)</dt><dd>record’s field holding the end date/time for the event</dd><dt><code>string</code></dt><dd>record’s field to define the label for each calendar event</dd></dl><div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;calendar</span> <span class="na">string=</span><span class="s">"Ideas"</span> <span class="na">date_start=</span><span class="s">"invent_date"</span> <span class="na">color=</span><span class="s">"inventor_id"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/calendar&gt;</span>
</pre></div>
</div>
<div role="alert" class="alert alert-exercise"><h3 class="alert-title">Exercise</h3><p>Calendar view</p><p>Add a Calendar view to the <em>Session</em> model enabling the user to view the
events associated to the Open Academy.</p><ol><li><p>Add an <code>end_date</code> field computed from <code>start_date</code> and
<code>duration</code></p><div role="alert" class="alert alert-info"><h3 class="alert-title">Tip</h3><p>the inverse function makes the field writable, and allows
moving the sessions (via drag and drop) in the calendar view</p></div></li><li>Add a calendar view to the <em>Session</em> model</li><li>And add the calendar view to the <em>Session</em> model’s actions</li></ol><div class="pq-patch"><em>openacademy/models.py</em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre><span class="c1"># -*- coding: utf-8 -*-</span><font></font>
<font></font>
<span class="hll"><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">timedelta</span>
</span><span class="kn">from</span> <span class="nn">odoo</span> <span class="kn">import</span> <span class="n">models</span><span class="p">,</span> <span class="n">fields</span><span class="p">,</span> <span class="n">api</span><span class="p">,</span> <span class="n">exceptions</span><font></font>
<font></font>
<span class="k">class</span> <span class="nc">Course</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>    <span class="n">attendee_ids</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Many2many</span><span class="p">(</span><span class="s1">'res.partner'</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="s2">"Attendees"</span><span class="p">)</span><font></font>
<font></font>
    <span class="n">taken_seats</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Float</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s2">"Taken seats"</span><span class="p">,</span> <span class="n">compute</span><span class="o">=</span><span class="s1">'_taken_seats'</span><span class="p">)</span>
<span class="hll">    <span class="n">end_date</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Date</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s2">"End Date"</span><span class="p">,</span> <span class="n">store</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
</span><span class="hll">        <span class="n">compute</span><span class="o">=</span><span class="s1">'_get_end_date'</span><span class="p">,</span> <span class="n">inverse</span><span class="o">=</span><span class="s1">'_set_end_date'</span><span class="p">)</span>
</span>
    <span class="nd">@api.depends</span><span class="p">(</span><span class="s1">'seats'</span><span class="p">,</span> <span class="s1">'attendee_ids'</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_taken_seats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>                <span class="p">},</span>
            <span class="p">}</span><font></font>
<font></font>
<span class="hll">    <span class="nd">@api.depends</span><span class="p">(</span><span class="s1">'start_date'</span><span class="p">,</span> <span class="s1">'duration'</span><span class="p">)</span>
</span><span class="hll">    <span class="k">def</span> <span class="nf">_get_end_date</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class="hll">        <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
</span><span class="hll">            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">start_date</span> <span class="ow">and</span> <span class="n">r</span><span class="o">.</span><span class="n">duration</span><span class="p">):</span>
</span><span class="hll">                <span class="n">r</span><span class="o">.</span><span class="n">end_date</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">start_date</span>
</span><span class="hll">                <span class="k">continue</span>
</span><span class="hll">
</span><span class="hll">            <span class="c1"># Add duration to start_date, but: Monday + 5 days = Saturday, so</span>
</span><span class="hll">            <span class="c1"># subtract one second to get on Friday instead</span>
</span><span class="hll">            <span class="n">duration</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">r</span><span class="o">.</span><span class="n">duration</span><span class="p">,</span> <span class="n">seconds</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
</span><span class="hll">            <span class="n">r</span><span class="o">.</span><span class="n">end_date</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">start_date</span> <span class="o">+</span> <span class="n">duration</span>
</span><span class="hll">
</span><span class="hll">    <span class="k">def</span> <span class="nf">_set_end_date</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class="hll">        <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
</span><span class="hll">            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">start_date</span> <span class="ow">and</span> <span class="n">r</span><span class="o">.</span><span class="n">end_date</span><span class="p">):</span>
</span><span class="hll">                <span class="k">continue</span>
</span><span class="hll">
</span><span class="hll">            <span class="c1"># Compute the difference between dates, but: Friday - Monday = 4 days,</span>
</span><span class="hll">            <span class="c1"># so add one day to get 5 days instead</span>
</span><span class="hll">            <span class="n">r</span><span class="o">.</span><span class="n">duration</span> <span class="o">=</span> <span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">end_date</span> <span class="o">-</span> <span class="n">r</span><span class="o">.</span><span class="n">start_date</span><span class="p">)</span><span class="o">.</span><span class="n">days</span> <span class="o">+</span> <span class="mi">1</span>
</span><span class="hll">
</span>    <span class="nd">@api.constrains</span><span class="p">(</span><span class="s1">'instructor_id'</span><span class="p">,</span> <span class="s1">'attendee_ids'</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_check_instructor_not_in_attendees</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
</pre></div>
</div>
</div><em>openacademy/views/openacademy.xml</em><div class="pq-section"><div class="highlight-xml"><div class="highlight"><pre>            <span class="nt">&lt;/field&gt;</span>
        <span class="nt">&lt;/record&gt;</span><font></font>
<font></font>
<span class="hll">        <span class="c">&lt;!-- calendar view --&gt;</span>
</span><span class="hll">        <span class="nt">&lt;record</span> <span class="na">model=</span><span class="s">"ir.ui.view"</span> <span class="na">id=</span><span class="s">"session_calendar_view"</span><span class="nt">&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>session.calendar<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"model"</span><span class="nt">&gt;</span>openacademy.session<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"arch"</span> <span class="na">type=</span><span class="s">"xml"</span><span class="nt">&gt;</span>
</span><span class="hll">                <span class="nt">&lt;calendar</span> <span class="na">string=</span><span class="s">"Session Calendar"</span> <span class="na">date_start=</span><span class="s">"start_date"</span> <span class="na">date_stop=</span><span class="s">"end_date"</span> <span class="na">color=</span><span class="s">"instructor_id"</span><span class="nt">&gt;</span>
</span><span class="hll">                    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">/&gt;</span>
</span><span class="hll">                <span class="nt">&lt;/calendar&gt;</span>
</span><span class="hll">            <span class="nt">&lt;/field&gt;</span>
</span><span class="hll">        <span class="nt">&lt;/record&gt;</span>
</span><span class="hll">
</span>        <span class="nt">&lt;record</span> <span class="na">model=</span><span class="s">"ir.actions.act_window"</span> <span class="na">id=</span><span class="s">"session_list_action"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>Sessions<span class="nt">&lt;/field&gt;</span>
            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"res_model"</span><span class="nt">&gt;</span>openacademy.session<span class="nt">&lt;/field&gt;</span>
            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"view_type"</span><span class="nt">&gt;</span>form<span class="nt">&lt;/field&gt;</span>
<span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"view_mode"</span><span class="nt">&gt;</span>tree,form,calendar<span class="nt">&lt;/field&gt;</span>
</span>        <span class="nt">&lt;/record&gt;</span><font></font>
<font></font>
        <span class="nt">&lt;menuitem</span> <span class="na">id=</span><span class="s">"session_menu"</span> <span class="na">name=</span><span class="s">"Sessions"</span>
</pre></div>
</div>
</div></div></div></section><section id="id4"><h3 class="o_has_permalink_marker">Search views<i class="mdi-content-link"></i></h3><p>Search view <code>&lt;field&gt;</code> elements can have a <code>@filter_domain</code> that overrides
the domain generated for searching on the given field. In the given domain,
<code>self</code> represents the value entered by the user. In the example below, it is
used to search on both fields <code>name</code> and <code>description</code>.</p><p>Search views can also contain <code>&lt;filter&gt;</code> elements, which act as toggles for
predefined searches. Filters must have one of the following attributes:</p><dl><dt><code>domain</code></dt><dd>add the given domain to the current search</dd><dt><code>context</code></dt><dd>add some context to the current search; use the key <code>group_by</code> to group
results on the given field name</dd></dl><div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;search</span> <span class="na">string=</span><span class="s">"Ideas"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"description"</span> <span class="na">string=</span><span class="s">"Name and description"</span>
           <span class="na">filter_domain=</span><span class="s">"['|', ('name', 'ilike', self), ('description', 'ilike', self)]"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"inventor_id"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"country_id"</span> <span class="na">widget=</span><span class="s">"selection"</span><span class="nt">/&gt;</span><font></font>
<font></font>
    <span class="nt">&lt;filter</span> <span class="na">name=</span><span class="s">"my_ideas"</span> <span class="na">string=</span><span class="s">"My Ideas"</span>
            <span class="na">domain=</span><span class="s">"[('inventor_id', '=', uid)]"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;group</span> <span class="na">string=</span><span class="s">"Group By"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;filter</span> <span class="na">name=</span><span class="s">"group_by_inventor"</span> <span class="na">string=</span><span class="s">"Inventor"</span>
                <span class="na">context=</span><span class="s">"{'group_by': 'inventor_id'}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/group&gt;</span>
<span class="nt">&lt;/search&gt;</span>
</pre></div>
</div>
<p>To use a non-default search view in an action, it should be linked using the
<code>search_view_id</code> field of the action record.</p><p>The action can also set default values for search fields through its
<code>context</code> field: context keys of the form
<code class="samp">search_default_<em>field_name</em></code> will initialize <em>field_name</em> with the
provided value. Search filters must have an optional <code>@name</code> to have a
default and behave as booleans (they can only be enabled by default).</p><div role="alert" class="alert alert-exercise"><h3 class="alert-title">Exercise</h3><p>Search views</p><ol><li>Add a button to filter the courses for which the current user is the
responsible in the course search view. Make it selected by default.</li><li>Add a button to group courses by responsible user.</li></ol><div class="pq-patch"><em>openacademy/views/openacademy.xml</em><div class="pq-section"><div class="highlight-xml"><div class="highlight"><pre>                <span class="nt">&lt;search&gt;</span>
                    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">/&gt;</span>
                    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"description"</span><span class="nt">/&gt;</span>
<span class="hll">                    <span class="nt">&lt;filter</span> <span class="na">name=</span><span class="s">"my_courses"</span> <span class="na">string=</span><span class="s">"My Courses"</span>
</span><span class="hll">                            <span class="na">domain=</span><span class="s">"[('responsible_id', '=', uid)]"</span><span class="nt">/&gt;</span>
</span><span class="hll">                    <span class="nt">&lt;group</span> <span class="na">string=</span><span class="s">"Group By"</span><span class="nt">&gt;</span>
</span><span class="hll">                        <span class="nt">&lt;filter</span> <span class="na">name=</span><span class="s">"by_responsible"</span> <span class="na">string=</span><span class="s">"Responsible"</span>
</span><span class="hll">                                <span class="na">context=</span><span class="s">"{'group_by': 'responsible_id'}"</span><span class="nt">/&gt;</span>
</span><span class="hll">                    <span class="nt">&lt;/group&gt;</span>
</span>                <span class="nt">&lt;/search&gt;</span>
            <span class="nt">&lt;/field&gt;</span>
        <span class="nt">&lt;/record&gt;</span>
</pre></div>
</div>
<div class="highlight-xml"><div class="highlight"><pre>            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"res_model"</span><span class="nt">&gt;</span>openacademy.course<span class="nt">&lt;/field&gt;</span>
            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"view_type"</span><span class="nt">&gt;</span>form<span class="nt">&lt;/field&gt;</span>
            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"view_mode"</span><span class="nt">&gt;</span>tree,form<span class="nt">&lt;/field&gt;</span>
<span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"context"</span> <span class="na">eval=</span><span class="s">"{'search_default_my_courses': 1}"</span><span class="nt">/&gt;</span>
</span>            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"help"</span> <span class="na">type=</span><span class="s">"html"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"oe_view_nocontent_smiling_face"</span><span class="nt">&gt;</span>Create the first course
                <span class="nt">&lt;/p&gt;</span>
</pre></div>
</div>
</div></div></div></section><section id="gantt"><h3 class="o_has_permalink_marker">Gantt<i class="mdi-content-link"></i></h3><div role="alert" class="alert alert-warning"><h3 class="alert-title">Warning</h3><p>The gantt view requires the web_gantt module which is present in
<a href="https://www.odoo.com/documentation/master/setup/install.html#setup-install-editions" class="reference internal alert-link"><span class="std-ref std">the enterprise edition</span></a> version.</p></div><p>Horizontal bar charts typically used to show project planning and advancement,
their root element is <code>&lt;gantt&gt;</code>.</p><div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;gantt</span> <span class="na">string=</span><span class="s">"Ideas"</span>
       <span class="na">date_start=</span><span class="s">"invent_date"</span>
       <span class="na">date_stop=</span><span class="s">"date_finished"</span>
       <span class="na">progress=</span><span class="s">"progress"</span>
       <span class="na">default_group_by=</span><span class="s">"inventor_id"</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
<div role="alert" class="alert alert-exercise"><h3 class="alert-title">Exercise</h3><p>Gantt charts</p><p>Add a Gantt Chart enabling the user to view the sessions scheduling linked
to the Open Academy module. The sessions should be grouped by instructor.</p><ol><li>Create a computed field expressing the session’s duration in hours</li><li>Add the gantt view’s definition, and add the gantt view to the
<em>Session</em> model’s action</li></ol><div class="pq-patch"><em>openacademy/models.py</em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre>    <span class="n">end_date</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Date</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s2">"End Date"</span><span class="p">,</span> <span class="n">store</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">compute</span><span class="o">=</span><span class="s1">'_get_end_date'</span><span class="p">,</span> <span class="n">inverse</span><span class="o">=</span><span class="s1">'_set_end_date'</span><span class="p">)</span><font></font>
<font></font>
<span class="hll">    <span class="n">hours</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Float</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s2">"Duration in hours"</span><span class="p">,</span>
</span><span class="hll">                         <span class="n">compute</span><span class="o">=</span><span class="s1">'_get_hours'</span><span class="p">,</span> <span class="n">inverse</span><span class="o">=</span><span class="s1">'_set_hours'</span><span class="p">)</span>
</span><span class="hll">
</span>    <span class="nd">@api.depends</span><span class="p">(</span><span class="s1">'seats'</span><span class="p">,</span> <span class="s1">'attendee_ids'</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_taken_seats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>            <span class="c1"># so add one day to get 5 days instead</span>
            <span class="n">r</span><span class="o">.</span><span class="n">duration</span> <span class="o">=</span> <span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">end_date</span> <span class="o">-</span> <span class="n">r</span><span class="o">.</span><span class="n">start_date</span><span class="p">)</span><span class="o">.</span><span class="n">days</span> <span class="o">+</span> <span class="mi">1</span><font></font>
<font></font>
<span class="hll">    <span class="nd">@api.depends</span><span class="p">(</span><span class="s1">'duration'</span><span class="p">)</span>
</span><span class="hll">    <span class="k">def</span> <span class="nf">_get_hours</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class="hll">        <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
</span><span class="hll">            <span class="n">r</span><span class="o">.</span><span class="n">hours</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">duration</span> <span class="o">*</span> <span class="mi">24</span>
</span><span class="hll">
</span><span class="hll">    <span class="k">def</span> <span class="nf">_set_hours</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class="hll">        <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
</span><span class="hll">            <span class="n">r</span><span class="o">.</span><span class="n">duration</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">hours</span> <span class="o">/</span> <span class="mi">24</span>
</span><span class="hll">
</span>    <span class="nd">@api.constrains</span><span class="p">(</span><span class="s1">'instructor_id'</span><span class="p">,</span> <span class="s1">'attendee_ids'</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_check_instructor_not_in_attendees</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
</pre></div>
</div>
</div><em>openacademy/views/openacademy.xml</em><div class="pq-section"><div class="highlight-xml"><div class="highlight"><pre>            <span class="nt">&lt;/field&gt;</span>
        <span class="nt">&lt;/record&gt;</span><font></font>
<font></font>
<span class="hll">        <span class="nt">&lt;record</span> <span class="na">model=</span><span class="s">"ir.ui.view"</span> <span class="na">id=</span><span class="s">"session_gantt_view"</span><span class="nt">&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>session.gantt<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"model"</span><span class="nt">&gt;</span>openacademy.session<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"arch"</span> <span class="na">type=</span><span class="s">"xml"</span><span class="nt">&gt;</span>
</span><span class="hll">                <span class="nt">&lt;gantt</span> <span class="na">string=</span><span class="s">"Session Gantt"</span>
</span><span class="hll">                       <span class="na">date_start=</span><span class="s">"start_date"</span> <span class="na">date_delay=</span><span class="s">"hours"</span>
</span><span class="hll">                       <span class="na">default_group_by=</span><span class="s">'instructor_id'</span><span class="nt">&gt;</span>
</span><span class="hll">                    <span class="c">&lt;!-- &lt;field name="name"/&gt; this is not required after Odoo 10.0 --&gt;</span>
</span><span class="hll">                <span class="nt">&lt;/gantt&gt;</span>
</span><span class="hll">            <span class="nt">&lt;/field&gt;</span>
</span><span class="hll">        <span class="nt">&lt;/record&gt;</span>
</span><span class="hll">
</span>        <span class="nt">&lt;record</span> <span class="na">model=</span><span class="s">"ir.actions.act_window"</span> <span class="na">id=</span><span class="s">"session_list_action"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>Sessions<span class="nt">&lt;/field&gt;</span>
            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"res_model"</span><span class="nt">&gt;</span>openacademy.session<span class="nt">&lt;/field&gt;</span>
            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"view_type"</span><span class="nt">&gt;</span>form<span class="nt">&lt;/field&gt;</span>
<span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"view_mode"</span><span class="nt">&gt;</span>tree,form,calendar,gantt<span class="nt">&lt;/field&gt;</span>
</span>        <span class="nt">&lt;/record&gt;</span><font></font>
<font></font>
        <span class="nt">&lt;menuitem</span> <span class="na">id=</span><span class="s">"session_menu"</span> <span class="na">name=</span><span class="s">"Sessions"</span>
</pre></div>
</div>
</div></div></div></section><section id="graph-views"><h3 class="o_has_permalink_marker">Graph views<i class="mdi-content-link"></i></h3><p>Graph views allow aggregated overview and analysis of models, their root
element is <code>&lt;graph&gt;</code>.</p><div role="alert" class="alert alert-info"><h3 class="alert-title">Note</h3><p>Pivot views (element <code>&lt;pivot&gt;</code>) a multidimensional table, allows the
selection of filers and dimensions to get the right aggregated dataset
before moving to a more graphical overview. The pivot view shares the same
content definition as graph views.</p></div><p>Graph views have 4 display modes, the default mode is selected using the
<code>@type</code> attribute.</p><dl><dt>Bar (default)</dt><dd><p>a bar chart, the first dimension is used to define groups on the
horizontal axis, other dimensions define aggregated bars within each group.</p><p>By default bars are side-by-side, they can be stacked by using
<code>@stacked="True"</code> on the <code>&lt;graph&gt;</code></p></dd><dt>Line</dt><dd>2-dimensional line chart</dd><dt>Pie</dt><dd>2-dimensional pie</dd></dl><p>Graph views contain <code>&lt;field&gt;</code> with a mandatory <code>@type</code> attribute taking
the values:</p><dl><dt><code>row</code> (default)</dt><dd>the field should be aggregated by default</dd><dt><code>measure</code></dt><dd>the field should be aggregated rather than grouped on</dd></dl><div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;graph</span> <span class="na">string=</span><span class="s">"Total idea score by Inventor"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"inventor_id"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"score"</span> <span class="na">type=</span><span class="s">"measure"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/graph&gt;</span>
</pre></div>
</div>
<div role="alert" class="alert alert-warning"><h3 class="alert-title">Warning</h3><p>Graph views perform aggregations on database values, they do not work
with non-stored computed fields.</p></div><div role="alert" class="alert alert-exercise"><h3 class="alert-title">Exercise</h3><p>Graph view</p><p>Add a Graph view in the Session object that displays, for each course, the
number of attendees under the form of a bar chart.</p><ol><li>Add the number of attendees as a stored computed field</li><li>Then add the relevant view</li></ol><div class="pq-patch"><em>openacademy/models.py</em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre>    <span class="n">hours</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Float</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s2">"Duration in hours"</span><span class="p">,</span>
                         <span class="n">compute</span><span class="o">=</span><span class="s1">'_get_hours'</span><span class="p">,</span> <span class="n">inverse</span><span class="o">=</span><span class="s1">'_set_hours'</span><span class="p">)</span><font></font>
<font></font>
<span class="hll">    <span class="n">attendees_count</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Integer</span><span class="p">(</span>
</span><span class="hll">        <span class="n">string</span><span class="o">=</span><span class="s2">"Attendees count"</span><span class="p">,</span> <span class="n">compute</span><span class="o">=</span><span class="s1">'_get_attendees_count'</span><span class="p">,</span> <span class="n">store</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</span><span class="hll">
</span>    <span class="nd">@api.depends</span><span class="p">(</span><span class="s1">'seats'</span><span class="p">,</span> <span class="s1">'attendee_ids'</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_taken_seats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>        <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
            <span class="n">r</span><span class="o">.</span><span class="n">duration</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">hours</span> <span class="o">/</span> <span class="mi">24</span><font></font>
<font></font>
<span class="hll">    <span class="nd">@api.depends</span><span class="p">(</span><span class="s1">'attendee_ids'</span><span class="p">)</span>
</span><span class="hll">    <span class="k">def</span> <span class="nf">_get_attendees_count</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class="hll">        <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
</span><span class="hll">            <span class="n">r</span><span class="o">.</span><span class="n">attendees_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">attendee_ids</span><span class="p">)</span>
</span><span class="hll">
</span>    <span class="nd">@api.constrains</span><span class="p">(</span><span class="s1">'instructor_id'</span><span class="p">,</span> <span class="s1">'attendee_ids'</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_check_instructor_not_in_attendees</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
</pre></div>
</div>
</div><em>openacademy/views/openacademy.xml</em><div class="pq-section"><div class="highlight-xml"><div class="highlight"><pre>            <span class="nt">&lt;/field&gt;</span>
        <span class="nt">&lt;/record&gt;</span><font></font>
<font></font>
<span class="hll">        <span class="nt">&lt;record</span> <span class="na">model=</span><span class="s">"ir.ui.view"</span> <span class="na">id=</span><span class="s">"openacademy_session_graph_view"</span><span class="nt">&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>openacademy.session.graph<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"model"</span><span class="nt">&gt;</span>openacademy.session<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"arch"</span> <span class="na">type=</span><span class="s">"xml"</span><span class="nt">&gt;</span>
</span><span class="hll">                <span class="nt">&lt;graph</span> <span class="na">string=</span><span class="s">"Participations by Courses"</span><span class="nt">&gt;</span>
</span><span class="hll">                    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"course_id"</span><span class="nt">/&gt;</span>
</span><span class="hll">                    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"attendees_count"</span> <span class="na">type=</span><span class="s">"measure"</span><span class="nt">/&gt;</span>
</span><span class="hll">                <span class="nt">&lt;/graph&gt;</span>
</span><span class="hll">            <span class="nt">&lt;/field&gt;</span>
</span><span class="hll">        <span class="nt">&lt;/record&gt;</span>
</span><span class="hll">
</span>        <span class="nt">&lt;record</span> <span class="na">model=</span><span class="s">"ir.actions.act_window"</span> <span class="na">id=</span><span class="s">"session_list_action"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>Sessions<span class="nt">&lt;/field&gt;</span>
            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"res_model"</span><span class="nt">&gt;</span>openacademy.session<span class="nt">&lt;/field&gt;</span>
            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"view_type"</span><span class="nt">&gt;</span>form<span class="nt">&lt;/field&gt;</span>
<span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"view_mode"</span><span class="nt">&gt;</span>tree,form,calendar,gantt,graph<span class="nt">&lt;/field&gt;</span>
</span>        <span class="nt">&lt;/record&gt;</span><font></font>
<font></font>
        <span class="nt">&lt;menuitem</span> <span class="na">id=</span><span class="s">"session_menu"</span> <span class="na">name=</span><span class="s">"Sessions"</span>
</pre></div>
</div>
</div></div></div></section><section id="kanban"><h3 class="o_has_permalink_marker">Kanban<i class="mdi-content-link"></i></h3><p>Used to organize tasks, production processes, etc… their root element is
<code>&lt;kanban&gt;</code>.</p><p>A kanban view shows a set of cards possibly grouped in columns. Each card
represents a record, and each column the values of an aggregation field.</p><p>For instance, project tasks may be organized by stage (each column is a
stage), or by responsible (each column is a user), and so on.</p><p>Kanban views define the structure of each card as a mix of form elements
(including basic HTML) and <a href="https://www.odoo.com/documentation/master/reference/qweb.html#reference-qweb" class="reference internal"><span class="std-ref std">QWeb</span></a>.</p><div role="alert" class="alert alert-exercise"><h3 class="alert-title">Exercise</h3><p>Kanban view</p><p>Add a Kanban view that displays sessions grouped by course (columns are
thus courses).</p><ol><li>Add an integer <code>color</code> field to the <em>Session</em> model</li><li>Add the kanban view and update the action</li></ol><div class="pq-patch"><em>openacademy/models.py</em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre>    <span class="n">duration</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Float</span><span class="p">(</span><span class="n">digits</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">help</span><span class="o">=</span><span class="s2">"Duration in days"</span><span class="p">)</span>
    <span class="n">seats</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Integer</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s2">"Number of seats"</span><span class="p">)</span>
    <span class="n">active</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Boolean</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="hll">    <span class="n">color</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Integer</span><span class="p">()</span>
</span>
    <span class="n">instructor_id</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Many2one</span><span class="p">(</span><span class="s1">'res.partner'</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="s2">"Instructor"</span><span class="p">,</span>
        <span class="n">domain</span><span class="o">=</span><span class="p">[</span><span class="s1">'|'</span><span class="p">,</span> <span class="p">(</span><span class="s1">'instructor'</span><span class="p">,</span> <span class="s1">'='</span><span class="p">,</span> <span class="bp">True</span><span class="p">),</span>
</pre></div>
</div>
</div><em>openacademy/views/openacademy.xml</em><div class="pq-section"><div class="highlight-xml+django"><div class="highlight"><pre>            &lt;/field&gt;<font></font>
        &lt;/record&gt;<font></font>
<font></font>
<span class="hll">        &lt;record model="ir.ui.view" id="view_openacad_session_kanban"&gt;
</span><span class="hll">            &lt;field name="name"&gt;openacad.session.kanban&lt;/field&gt;
</span><span class="hll">            &lt;field name="model"&gt;openacademy.session&lt;/field&gt;
</span><span class="hll">            &lt;field name="arch" type="xml"&gt;
</span><span class="hll">                &lt;kanban default_group_by="course_id"&gt;
</span><span class="hll">                    &lt;field name="color"/&gt;
</span><span class="hll">                    &lt;templates&gt;
</span><span class="hll">                        &lt;t t-name="kanban-box"&gt;
</span><span class="hll">                            &lt;div
</span><span class="hll">                                    t-attf-class="oe_kanban_color_{{kanban_getcolor(record.color.raw_value)}}
</span><span class="hll">                                                  oe_kanban_global_click_edit oe_semantic_html_override
</span><span class="hll">                                                  oe_kanban_card {{record.group_fancy==1 ? 'oe_kanban_card_fancy' : ''}}"&gt;
</span><span class="hll">                                &lt;div class="oe_dropdown_kanban"&gt;
</span><span class="hll">                                    &lt;!-- dropdown menu --&gt;
</span><span class="hll">                                    &lt;div class="oe_dropdown_toggle"&gt;
</span><span class="hll">                                        &lt;i class="fa fa-bars fa-lg" title="Manage" aria-label="Manage"/&gt;
</span><span class="hll">                                        &lt;ul class="oe_dropdown_menu"&gt;
</span><span class="hll">                                            &lt;li&gt;
</span><span class="hll">                                                &lt;a type="delete"&gt;Delete&lt;/a&gt;
</span><span class="hll">                                            &lt;/li&gt;
</span><span class="hll">                                            &lt;li&gt;
</span><span class="hll">                                                &lt;ul class="oe_kanban_colorpicker"
</span><span class="hll">                                                    data-field="color"/&gt;
</span><span class="hll">                                            &lt;/li&gt;
</span><span class="hll">                                        &lt;/ul&gt;
</span><span class="hll">                                    &lt;/div&gt;
</span><span class="hll">                                    &lt;div class="oe_clear"&gt;&lt;/div&gt;
</span><span class="hll">                                &lt;/div&gt;
</span><span class="hll">                                &lt;div t-attf-class="oe_kanban_content"&gt;
</span><span class="hll">                                    &lt;!-- title --&gt;
</span><span class="hll">                                    Session name:
</span><span class="hll">                                    &lt;field name="name"/&gt;
</span><span class="hll">                                    &lt;br/&gt;
</span><span class="hll">                                    Start date:
</span><span class="hll">                                    &lt;field name="start_date"/&gt;
</span><span class="hll">                                    &lt;br/&gt;
</span><span class="hll">                                    duration:
</span><span class="hll">                                    &lt;field name="duration"/&gt;
</span><span class="hll">                                &lt;/div&gt;
</span><span class="hll">                            &lt;/div&gt;
</span><span class="hll">                        &lt;/t&gt;
</span><span class="hll">                    &lt;/templates&gt;
</span><span class="hll">                &lt;/kanban&gt;
</span><span class="hll">            &lt;/field&gt;
</span><span class="hll">        &lt;/record&gt;
</span><span class="hll">
</span>        &lt;record model="ir.actions.act_window" id="session_list_action"&gt;<font></font>
            &lt;field name="name"&gt;Sessions&lt;/field&gt;<font></font>
            &lt;field name="res_model"&gt;openacademy.session&lt;/field&gt;<font></font>
            &lt;field name="view_type"&gt;form&lt;/field&gt;<font></font>
<span class="hll">            &lt;field name="view_mode"&gt;tree,form,calendar,gantt,graph,kanban&lt;/field&gt;
</span>        &lt;/record&gt;<font></font>
<font></font>
        &lt;menuitem id="session_menu" name="Sessions"<font></font>
</pre></div>
</div>
</div></div></div></section><section id="security"><h2 class="o_has_permalink_marker">Security<i class="mdi-content-link"></i></h2><p>Access control mechanisms must be configured to achieve a coherent security
policy.</p></section><section id="group-based-access-control-mechanisms"><h3 class="o_has_permalink_marker">Group-based access control mechanisms<i class="mdi-content-link"></i></h3><p>Groups are created as normal records on the model <code>res.groups</code>, and granted
menu access via menu definitions. However even without a menu, objects may
still be accessible indirectly, so actual object-level permissions (read,
write, create, unlink) must be defined for groups. They are usually inserted
via CSV files inside modules. It is also possible to restrict access to
specific fields on a view or object using the field’s groups attribute.</p></section><section id="access-rights"><h3 class="o_has_permalink_marker">Access rights<i class="mdi-content-link"></i></h3><p>Access rights are defined as records of the model <code>ir.model.access</code>. Each
access right is associated to a model, a group (or no group for global
access), and a set of permissions: read, write, create, unlink. Such access
rights are usually created by a CSV file named after its model:
<code>ir.model.access.csv</code>.</p><div class="highlight-text"><div class="highlight"><pre>id,name,model_id/id,group_id/id,perm_read,perm_write,perm_create,perm_unlink<font></font>
access_idea_idea,idea.idea,model_idea_idea,base.group_user,1,1,1,0<font></font>
access_idea_vote,idea.vote,model_idea_vote,base.group_user,1,1,1,0<font></font>
</pre></div>
</div>
<div role="alert" class="alert alert-exercise"><h3 class="alert-title">Exercise</h3><p>Add access control through the Odoo interface</p><p>Create a new user “John Smith”. Then create a group
“OpenAcademy / Session Read” with read access to the <em>Session</em> model.</p><ol><li>Create a new user <em>John Smith</em> through
<span class="menuselection">Settings ‣ Users ‣ Users</span></li><li>Create a new group <code>session_read</code> through
<span class="menuselection">Settings ‣ Users ‣ Groups</span>, it should have
read access on the <em>Session</em> model</li><li>Edit <em>John Smith</em> to make them a member of <code>session_read</code></li><li>Log in as <em>John Smith</em> to check the access rights are correct</li></ol></div><div role="alert" class="alert alert-exercise"><h3 class="alert-title">Exercise</h3><p>Add access control through data files in your module</p><p>Using data files,</p><ul><li>Create a group <em>OpenAcademy / Manager</em> with full access to all
OpenAcademy models</li><li>Make <em>Session</em> and <em>Course</em> readable by all users</li></ul><ol><li>Create a new file <code>openacademy/security/security.xml</code> to
hold the OpenAcademy Manager group</li><li>Edit the file <code>openacademy/security/ir.model.access.csv</code> with
the access rights to the models</li><li>Finally update <code>openacademy/__manifest__.py</code> to add the new data
files to it</li></ol><div class="pq-patch"><em>openacademy/__manifest__.py</em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre>    <span class="c1"># always loaded</span>
<span class="hll">    <span class="s1">'data'</span><span class="p">:</span> <span class="p">[</span>
</span><span class="hll">        <span class="s1">'security/security.xml'</span><span class="p">,</span>
</span>        <span class="s1">'security/ir.model.access.csv'</span><span class="p">,</span>
        <span class="s1">'templates.xml'</span><span class="p">,</span>
        <span class="s1">'views/openacademy.xml'</span><span class="p">,</span>
        <span class="s1">'views/partner.xml'</span><span class="p">,</span>
</pre></div>
</div>
</div><em>openacademy/security/ir.model.access.csv</em><div class="pq-section"><div class="highlight-guess"><div class="highlight"><pre>id,name,model_id/id,group_id/id,perm_read,perm_write,perm_create,perm_unlink
<span class="hll">course_manager,course manager,model_openacademy_course,group_manager,1,1,1,1
</span><span class="hll">session_manager,session manager,model_openacademy_session,group_manager,1,1,1,1
</span><span class="hll">course_read_all,course all,model_openacademy_course,,1,0,0,0
</span><span class="hll">session_read_all,session all,model_openacademy_session,,1,0,0,0
</span></pre></div>
</div>
</div><em>openacademy/security/security.xml</em><div class="pq-section"><div class="highlight-xml"><div class="highlight"><pre><span class="hll"><span class="nt">&lt;odoo&gt;</span>
</span><span class="hll">
</span><span class="hll">        <span class="nt">&lt;record</span> <span class="na">id=</span><span class="s">"group_manager"</span> <span class="na">model=</span><span class="s">"res.groups"</span><span class="nt">&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>OpenAcademy / Manager<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">        <span class="nt">&lt;/record&gt;</span>
</span><span class="hll">
</span><span class="hll"><span class="nt">&lt;/odoo&gt;</span>
</span></pre></div>
</div>
</div></div></div></section><section id="record-rules"><h3 class="o_has_permalink_marker">Record rules<i class="mdi-content-link"></i></h3><p>A record rule restricts the access rights to a subset of records of the given
model. A rule is a record of the model <code>ir.rule</code>, and is associated to a
model, a number of groups (many2many field), permissions to which the
restriction applies, and a domain. The domain specifies to which records the
access rights are limited.</p><p>Here is an example of a rule that prevents the deletion of leads that are not
in state <code>cancel</code>. Notice that the value of the field <code>groups</code> must follow
the same convention as the method <a href="https://www.odoo.com/documentation/master/reference/orm.html#odoo.models.Model.write" title="odoo.models.Model.write" class="reference internal"><code class="xref py-meth py">write()</code></a> of the ORM.</p><div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;record</span> <span class="na">id=</span><span class="s">"delete_cancelled_only"</span> <span class="na">model=</span><span class="s">"ir.rule"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>Only cancelled leads may be deleted<span class="nt">&lt;/field&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"model_id"</span> <span class="na">ref=</span><span class="s">"crm.model_crm_lead"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"groups"</span> <span class="na">eval=</span><span class="s">"[(4, ref('sales_team.group_sale_manager'))]"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"perm_read"</span> <span class="na">eval=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"perm_write"</span> <span class="na">eval=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"perm_create"</span> <span class="na">eval=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"perm_unlink"</span> <span class="na">eval=</span><span class="s">"1"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"domain_force"</span><span class="nt">&gt;</span>[('state','=','cancel')]<span class="nt">&lt;/field&gt;</span>
<span class="nt">&lt;/record&gt;</span>
</pre></div>
</div>
<div role="alert" class="alert alert-exercise"><h3 class="alert-title">Exercise</h3><p>Record rule</p><p>Add a record rule for the model Course and the group
“OpenAcademy / Manager”, that restricts <code>write</code> and <code>unlink</code> accesses
to the responsible of a course. If a course has no responsible, all users
of the group must be able to modify it.</p><p>Create a new rule in <code>openacademy/security/security.xml</code>:</p><div class="pq-patch"><em>openacademy/security/security.xml</em><div class="pq-section"><div class="highlight-xml"><div class="highlight"><pre>        <span class="nt">&lt;record</span> <span class="na">id=</span><span class="s">"group_manager"</span> <span class="na">model=</span><span class="s">"res.groups"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>OpenAcademy / Manager<span class="nt">&lt;/field&gt;</span>
        <span class="nt">&lt;/record&gt;</span>
<span class="hll">    
</span><span class="hll">        <span class="nt">&lt;record</span> <span class="na">id=</span><span class="s">"only_responsible_can_modify"</span> <span class="na">model=</span><span class="s">"ir.rule"</span><span class="nt">&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>Only Responsible can modify Course<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"model_id"</span> <span class="na">ref=</span><span class="s">"model_openacademy_course"</span><span class="nt">/&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"groups"</span> <span class="na">eval=</span><span class="s">"[(4, ref('openacademy.group_manager'))]"</span><span class="nt">/&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"perm_read"</span> <span class="na">eval=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"perm_write"</span> <span class="na">eval=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"perm_create"</span> <span class="na">eval=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"perm_unlink"</span> <span class="na">eval=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"domain_force"</span><span class="nt">&gt;</span>
</span><span class="hll">                ['|', ('responsible_id','=',False),
</span><span class="hll">                      ('responsible_id','=',user.id)]
</span><span class="hll">            <span class="nt">&lt;/field&gt;</span>
</span><span class="hll">        <span class="nt">&lt;/record&gt;</span>
</span>
<span class="nt">&lt;/odoo&gt;</span>
</pre></div>
</div>
</div></div></div></section><section id="wizards"><h2 class="o_has_permalink_marker">Wizards<i class="mdi-content-link"></i></h2><p>Wizards describe interactive sessions with the user (or dialog boxes) through
dynamic forms. A wizard is simply a model that extends the class
<code class="py-class xref py">TransientModel</code> instead of
<a href="https://www.odoo.com/documentation/master/reference/orm.html#odoo.models.Model" title="odoo.models.Model" class="reference internal"><code class="py-class xref py">Model</code></a>. The class
<code class="py-class xref py">TransientModel</code> extends <a href="https://www.odoo.com/documentation/master/reference/orm.html#odoo.models.Model" title="odoo.models.Model" class="reference internal"><code class="py-class xref py">Model</code></a>
and reuse all its existing mechanisms, with the following particularities:</p><ul><li>Wizard records are not meant to be persistent; they are automatically deleted
from the database after a certain time. This is why they are called
<em>transient</em>.</li><li>Wizard models do not require explicit access rights: users have all
permissions on wizard records.</li><li>Wizard records may refer to regular records or wizard records through many2one
fields, but regular records <em>cannot</em> refer to wizard records through a
many2one field.</li></ul><p>We want to create a wizard that allow users to create attendees for a particular
session, or for a list of sessions at once.</p><div role="alert" class="alert alert-exercise"><h3 class="alert-title">Exercise</h3><p>Define the wizard</p><p>Create a wizard model with a many2one relationship with the <em>Session</em>
model and a many2many relationship with the <em>Partner</em> model.</p><p>Add a new file <code>openacademy/wizard.py</code>:</p><div class="pq-patch"><em>openacademy/__init__.py</em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">controllers</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">models</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">partner</span>
<span class="hll"><span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">wizard</span>
</span></pre></div>
</div>
</div><em>openacademy/wizard.py</em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre><span class="hll"><span class="c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＃ - * -编码：UTF-8 - * - </font></font></span>
</span><font style="vertical-align: inherit;"><span class="hll"><span class="kn"><font style="vertical-align: inherit;">从</font></span></span><span class="hll"><span class="nn"><font style="vertical-align: inherit;">odoo </font></span></span><span class="hll"><span class="kn"><font style="vertical-align: inherit;">进口</font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">车型</font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">，</font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">领域</font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">，</font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">API </font></span></span><span class="hll"><span class="k"><font style="vertical-align: inherit;">类</font></span></span><span class="hll"><span class="nc"><font style="vertical-align: inherit;">向导</font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">（</font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">车型</font></span></span><span class="hll"><span class="o"><font style="vertical-align: inherit;">。</font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">TransientModel </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">）：</font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">_name </font></span></span><span class="hll"><span class="o"><font style="vertical-align: inherit;">= </font></span></span><span class="hll"><span class="s1"><font style="vertical-align: inherit;">'openacademy.wizard' </font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">_description </font></span></span><span class="hll"><span class="o"><font style="vertical-align: inherit;">= </font></span></span><span class="hll"><span class="s2"><font style="vertical-align: inherit;">“向导：与会者对会议的快速注册” </font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">SESSION_ID </font></span></span><span class="hll"><span class="o"><font style="vertical-align: inherit;">= </font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">领域</font></span></span><span class="hll"><span class="o"><font style="vertical-align: inherit;">。</font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">Many2one </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">（</font></span></span><span class="hll"><span class="s1"><font style="vertical-align: inherit;">'openacademy.session' </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">，</font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">string </font></span></span><span class="hll"><span class="o"><font style="vertical-align: inherit;">= </font></span></span><span class="hll"><span class="s2"><font style="vertical-align: inherit;">“Session” </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">，</font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">required </font></span></span><span class="hll"><span class="o"><font style="vertical-align: inherit;">= </font></span></span><span class="hll"><span class="bp"><font style="vertical-align: inherit;">True </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">）</font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">attendee_ids </font></span></span><span class="hll"><span class="o"><font style="vertical-align: inherit;">= </font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">fields </font></span></span><span class="hll"><span class="o"><font style="vertical-align: inherit;">。</font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">Many2many</font></span></span></font><span class="hll">
</span><span class="hll"><span class="kn"><font style="vertical-align: inherit;"></font></span> <span class="nn"><font style="vertical-align: inherit;"></font></span> <span class="kn"><font style="vertical-align: inherit;"></font></span> <span class="n"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span> <span class="n"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span> <span class="n"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">
</span><span class="hll"><span class="k"><font style="vertical-align: inherit;"></font></span> <span class="nc"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span><span class="n"><font style="vertical-align: inherit;"></font></span><span class="o"><font style="vertical-align: inherit;"></font></span><span class="n"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">    <span class="n"><font style="vertical-align: inherit;"></font></span> <span class="o"><font style="vertical-align: inherit;"></font></span> <span class="s1"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">    <span class="n"><font style="vertical-align: inherit;"></font></span> <span class="o"><font style="vertical-align: inherit;"></font></span> <span class="s2"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">
</span><span class="hll">    <span class="n"><font style="vertical-align: inherit;"></font></span> <span class="o"><font style="vertical-align: inherit;"></font></span> <span class="n"><font style="vertical-align: inherit;"></font></span><span class="o"><font style="vertical-align: inherit;"></font></span><span class="n"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span><span class="s1"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="n"><font style="vertical-align: inherit;"></font></span><span class="o"><font style="vertical-align: inherit;"></font></span><span class="s2"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span> <span class="n"><font style="vertical-align: inherit;"></font></span><span class="o"><font style="vertical-align: inherit;"></font></span><span class="bp"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">    <span class="n"><font style="vertical-align: inherit;"></font></span> <span class="o"><font style="vertical-align: inherit;"></font></span> <span class="n"><font style="vertical-align: inherit;"></font></span><span class="o"><font style="vertical-align: inherit;"></font></span><span class="n"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'res.partner' </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">string </font></font></span><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><span class="s2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“与会者” </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span>
</span></pre></div>
</div>
</div></div></div></section><section id="launching-wizards"><h3 class="o_has_permalink_marker"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动向导</font></font><i class="mdi-content-link"></i></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">向导由</font></font><code>ir.actions.act_window</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">记录</font><font style="vertical-align: inherit;">启动</font><font style="vertical-align: inherit;">，字段
 </font></font><code>target</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置为值</font></font><code>new</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">后者将向导视图打开到弹出窗口中。</font><font style="vertical-align: inherit;">该动作可以由菜单项触发。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还有另一种启动向导的方法：使用</font></font><code>ir.actions.act_window</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上面</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">记录，但是有一个额外的字段</font></font><code>src_model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，用于指定操作可用的模型的上下文。</font><font style="vertical-align: inherit;">该向导将出现在主视图上方的模型的上下文操作中。</font><font style="vertical-align: inherit;">由于ORM中有一些内部挂钩，因此使用标记在XML中声明此类操作</font></font><code>act_window</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><div class="code xml highlight-default"><div class="highlight"><pre><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt; </font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">act_window </font></font></span> <span class="nb"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">id </font></font></span><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><span class="s2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“launch_the_wizard” </font></font></span>
            <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name </font></font></span><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><span class="s2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“启动向导” </font></font></span>
            <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">src_model </font></font></span><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><span class="s2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“context.model.name” </font></font></span>
            <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">res_model </font></font></span><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><span class="s2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“wizard.model.name” </font></font></span>
            <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">view_mode </font></font></span><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><span class="s2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“form” </font></font></span>
            <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">target </font></font></span><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><span class="s2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“new” </font></font></span>
            <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">key2 </font></font></span><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><span class="s2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“client_action_multi” </font></font></span><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/&gt;</font></font></span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">向导使用常规视图，其按钮可以使用该属性
 </font></font><code>special="cancel"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关闭向导窗口而不保存。</font></font></p><div role="alert" class="alert alert-exercise"><h3 class="alert-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行使</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动向导</font></font></p><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">定义向导的表单视图。</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加操作以在</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会话</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模型</font><font style="vertical-align: inherit;">的上下文中启动它</font><font style="vertical-align: inherit;">。</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在向导中定义会话字段的默认值; </font><font style="vertical-align: inherit;">使用context参数</font></font><code>self._context</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检索当前会话。</font></font></li></ol><div class="pq-patch"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">openacademy / wizard.py</font></font></em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre>    <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_name </font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“openacademy.wizard” </font></font></span>
    <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_description </font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="s2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“向导：与会者到会议的快速注册”</font></font></span><font></font>
<font></font>
<span class="hll">    <span class="k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">def </font></font></span> <span class="nf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_default_session </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="bp"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">self </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：</font></font></span>
</span><font style="vertical-align: inherit;"><span class="hll"><span class="k"><font style="vertical-align: inherit;">回归</font></span></span><span class="hll"><span class="bp"><font style="vertical-align: inherit;">自我</font></span></span><span class="hll"><span class="o"><font style="vertical-align: inherit;">。</font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">env </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">[ </font></span></span><span class="hll"><span class="s1"><font style="vertical-align: inherit;">'openacademy.session' </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">] </font></span></span><span class="hll"><span class="o"><font style="vertical-align: inherit;">。</font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">浏览</font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">（</font></span></span><span class="hll"><span class="bp"><font style="vertical-align: inherit;">自我</font></span></span><span class="hll"><span class="o"><font style="vertical-align: inherit;">。</font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">_context </font></span></span><span class="hll"><span class="o"><font style="vertical-align: inherit;">。</font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">获得</font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">（</font></span></span><span class="hll"><span class="s1"><font style="vertical-align: inherit;">'active_id' </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">））</font></span></span><span class="n"><font style="vertical-align: inherit;">的session_id </font></span><span class="o"><font style="vertical-align: inherit;">= </font></span><span class="n"><font style="vertical-align: inherit;">领域</font></span><span class="o"><font style="vertical-align: inherit;">。</font></span><span class="n"><font style="vertical-align: inherit;">Many2one </font></span><span class="p"><font style="vertical-align: inherit;">（</font></span><span class="s1"><font style="vertical-align: inherit;">'openacademy.session' </font></span><span class="p"><font style="vertical-align: inherit;">，</font></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">string </font></span></span><span class="hll"><span class="o"><font style="vertical-align: inherit;">= </font></span></span><span class="hll"><span class="s2"><font style="vertical-align: inherit;">“Session” </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">，</font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">required </font></span></span><span class="hll"><span class="o"><font style="vertical-align: inherit;">= </font></span></span><span class="hll"><span class="bp"><font style="vertical-align: inherit;">True </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">，</font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">default </font></span></span><span class="hll"><span class="o"><font style="vertical-align: inherit;">= </font></span></span><span class="hll"><span class="n"><font style="vertical-align: inherit;">_default_session </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">）</font></span></span><span class="n"><font style="vertical-align: inherit;"> attendee_ids </font></span><span class="o"><font style="vertical-align: inherit;">= </font></span><span class="n"><font style="vertical-align: inherit;">fields </font></span><span class="o"><font style="vertical-align: inherit;">。</font></span><span class="n"><font style="vertical-align: inherit;">Many2many</font></span></font><span class="hll">        <span class="k"><font style="vertical-align: inherit;"></font></span> <span class="bp"><font style="vertical-align: inherit;"></font></span><span class="o"><font style="vertical-align: inherit;"></font></span><span class="n"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span><span class="s1"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span><span class="o"><font style="vertical-align: inherit;"></font></span><span class="n"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span><span class="bp"><font style="vertical-align: inherit;"></font></span><span class="o"><font style="vertical-align: inherit;"></font></span><span class="n"><font style="vertical-align: inherit;"></font></span><span class="o"><font style="vertical-align: inherit;"></font></span><span class="n"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span><span class="s1"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">
</span>    <span class="n"><font style="vertical-align: inherit;"></font></span> <span class="o"><font style="vertical-align: inherit;"></font></span> <span class="n"><font style="vertical-align: inherit;"></font></span><span class="o"><font style="vertical-align: inherit;"></font></span><span class="n"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span><span class="s1"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span>
<span class="hll">        <span class="n"><font style="vertical-align: inherit;"></font></span><span class="o"><font style="vertical-align: inherit;"></font></span><span class="s2"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span> <span class="n"><font style="vertical-align: inherit;"></font></span><span class="o"><font style="vertical-align: inherit;"></font></span><span class="bp"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span> <span class="n"><font style="vertical-align: inherit;"></font></span><span class="o"><font style="vertical-align: inherit;"></font></span><span class="n"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span>
</span>    <span class="n"><font style="vertical-align: inherit;"></font></span> <span class="o"><font style="vertical-align: inherit;"></font></span> <span class="n"><font style="vertical-align: inherit;"></font></span><span class="o"><font style="vertical-align: inherit;"></font></span><span class="n"><font style="vertical-align: inherit;"></font></span><span class="p">(</span><span class="s1">'res.partner'</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="s2">"Attendees"</span><span class="p">)</span>
</pre></div>
</div>
</div><em>openacademy/views/openacademy.xml</em><div class="pq-section"><div class="highlight-xml+django"><div class="highlight"><pre>                  parent="openacademy_menu"<font></font>
                  action="session_list_action"/&gt;<font></font>
<font></font>
<span class="hll">        <span class="nt">&lt;record</span> <span class="na">model=</span><span class="s">"ir.ui.view"</span> <span class="na">id=</span><span class="s">"wizard_form_view"</span><span class="nt">&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>wizard.form<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"model"</span><span class="nt">&gt;</span>openacademy.wizard<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"arch"</span> <span class="na">type=</span><span class="s">"xml"</span><span class="nt">&gt;</span>
</span><span class="hll">                <span class="nt">&lt;form</span> <span class="na">string=</span><span class="s">"Add Attendees"</span><span class="nt">&gt;</span>
</span><span class="hll">                    <span class="nt">&lt;group&gt;</span>
</span><span class="hll">                        <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"session_id"</span><span class="nt">/&gt;</span>
</span><span class="hll">                        <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"attendee_ids"</span><span class="nt">/&gt;</span>
</span><span class="hll">                    <span class="nt">&lt;/group&gt;</span>
</span><span class="hll">                <span class="nt">&lt;/form&gt;</span>
</span><span class="hll">            <span class="nt">&lt;/field&gt;</span>
</span><span class="hll">        <span class="nt">&lt;/record&gt;</span>
</span><span class="hll">
</span><span class="hll">        <span class="nt">&lt;act_window</span> <span class="na">id=</span><span class="s">"launch_session_wizard"</span>
</span><span class="hll">                    <span class="na">name=</span><span class="s">"Add Attendees"</span>
</span><span class="hll">                    <span class="na">src_model=</span><span class="s">"openacademy.session"</span>
</span><span class="hll">                    <span class="na">res_model=</span><span class="s">"openacademy.wizard"</span>
</span><span class="hll">                    <span class="na">view_mode=</span><span class="s">"form"</span>
</span><span class="hll">                    <span class="na">target=</span><span class="s">"new"</span>
</span><span class="hll">                    <span class="na">key2=</span><span class="s">"client_action_multi"</span><span class="nt">/&gt;</span>
</span><span class="hll">
</span><span class="nt">&lt;/odoo&gt;</span>
</pre></div>
</div>
</div></div></div><div role="alert" class="alert alert-exercise"><h3 class="alert-title">Exercise</h3><p>Register attendees</p><p>Add buttons to the wizard, and implement the corresponding method for adding
the attendees to the given session.</p><div class="pq-patch"><em>openacademy/views/openacademy.xml</em><div class="pq-section"><div class="highlight-xml+django"><div class="highlight"><pre>                        <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"session_id"</span><span class="nt">/&gt;</span>
                        <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"attendee_ids"</span><span class="nt">/&gt;</span>
                    <span class="nt">&lt;/group&gt;</span>
<span class="hll">                    <span class="nt">&lt;footer&gt;</span>
</span><span class="hll">                        <span class="nt">&lt;button</span> <span class="na">name=</span><span class="s">"subscribe"</span> <span class="na">type=</span><span class="s">"object"</span>
</span><span class="hll">                                <span class="na">string=</span><span class="s">"Subscribe"</span> <span class="na">class=</span><span class="s">"oe_highlight"</span><span class="nt">/&gt;</span>
</span><span class="hll">                        or
</span><span class="hll">                        <span class="nt">&lt;button</span> <span class="na">special=</span><span class="s">"cancel"</span> <span class="na">string=</span><span class="s">"Cancel"</span><span class="nt">/&gt;</span>
</span><span class="hll">                    <span class="nt">&lt;/footer&gt;</span>
</span>                <span class="nt">&lt;/form&gt;</span>
            <span class="nt">&lt;/field&gt;</span>
        <span class="nt">&lt;/record&gt;</span>
</pre></div>
</div>
</div><em>openacademy/wizard.py</em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre>    <span class="n">session_id</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Many2one</span><span class="p">(</span><span class="s1">'openacademy.session'</span><span class="p">,</span>
        <span class="n">string</span><span class="o">=</span><span class="s2">"Session"</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">_default_session</span><span class="p">)</span>
    <span class="n">attendee_ids</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Many2many</span><span class="p">(</span><span class="s1">'res.partner'</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="s2">"Attendees"</span><span class="p">)</span>
<span class="hll">
</span><span class="hll">    <span class="nd">@api.multi</span>
</span><span class="hll">    <span class="k">def</span> <span class="nf">subscribe</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class="hll">        <span class="bp">self</span><span class="o">.</span><span class="n">session_id</span><span class="o">.</span><span class="n">attendee_ids</span> <span class="o">|=</span> <span class="bp">self</span><span class="o">.</span><span class="n">attendee_ids</span>
</span><span class="hll">        <span class="k">return</span> <span class="p">{}</span>
</span></pre></div>
</div>
</div></div></div><div role="alert" class="alert alert-exercise"><h3 class="alert-title">Exercise</h3><p>Register attendees to multiple sessions</p><p>Modify the wizard model so that attendees can be registered to multiple
sessions.</p><div class="pq-patch"><em>openacademy/views/openacademy.xml</em><div class="pq-section"><div class="highlight-xml+django"><div class="highlight"><pre>            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"arch"</span> <span class="na">type=</span><span class="s">"xml"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;form</span> <span class="na">string=</span><span class="s">"Add Attendees"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;group&gt;</span>
<span class="hll">                        <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"session_ids"</span><span class="nt">/&gt;</span>
</span>                        <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"attendee_ids"</span><span class="nt">/&gt;</span>
                    <span class="nt">&lt;/group&gt;</span>
                    <span class="nt">&lt;footer&gt;</span>
</pre></div>
</div>
</div><em>openacademy/wizard.py</em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre>    <span class="n">_name</span> <span class="o">=</span> <span class="s1">'openacademy.wizard'</span>
    <span class="n">_description</span> <span class="o">=</span> <span class="s2">"Wizard: Quick Registration of Attendees to Sessions"</span><font></font>
<font></font>
<span class="hll">    <span class="k">def</span> <span class="nf">_default_sessions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class="hll">        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="p">[</span><span class="s1">'openacademy.session'</span><span class="p">]</span><span class="o">.</span><span class="n">browse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_context</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'active_ids'</span><span class="p">))</span>
</span>
<span class="hll">    <span class="n">session_ids</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Many2many</span><span class="p">(</span><span class="s1">'openacademy.session'</span><span class="p">,</span>
</span><span class="hll">        <span class="n">string</span><span class="o">=</span><span class="s2">"Sessions"</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">_default_sessions</span><span class="p">)</span>
</span>    <span class="n">attendee_ids</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Many2many</span><span class="p">(</span><span class="s1">'res.partner'</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="s2">"Attendees"</span><span class="p">)</span><font></font>
<font></font>
    <span class="nd">@api.multi</span>
    <span class="k">def</span> <span class="nf">subscribe</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="hll">        <span class="k">for</span> <span class="n">session</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">session_ids</span><span class="p">:</span>
</span><span class="hll">            <span class="n">session</span><span class="o">.</span><span class="n">attendee_ids</span> <span class="o">|=</span> <span class="bp">self</span><span class="o">.</span><span class="n">attendee_ids</span>
</span>        <span class="k">return</span> <span class="p">{}</span>
</pre></div>
</div>
</div></div></div></section><section id="internationalization"><h2 class="o_has_permalink_marker">Internationalization<i class="mdi-content-link"></i></h2><p>Each module can provide its own translations within the i18n directory, by
having files named LANG.po where LANG is the locale code for the language, or
the language and country combination when they differ (e.g. pt.po or
pt_BR.po). Translations will be loaded automatically by Odoo for all
enabled languages. Developers always use English when creating a module, then
export the module terms using Odoo’s gettext POT export feature
(<span class="menuselection">Settings ‣ Translations ‣ Import/Export ‣ Export
Translation</span> without specifying a language), to create the module template POT
file, and then derive the translated PO files. Many IDE’s have plugins or modes
for editing and merging PO/POT files.</p><div role="alert" class="alert alert-info"><h3 class="alert-title">Tip</h3><p>The Portable Object files generated by Odoo are published on
<a href="https://www.transifex.com/odoo/public/" class="reference external alert-link">Transifex</a>, making it
easy to translate the software.</p></div><div class="highlight-text"><div class="highlight"><pre>|- idea/ # The module directory<font></font>
   |- i18n/ # Translation files<font></font>
      | - idea.pot # Translation Template (exported from Odoo)<font></font>
      | - fr.po # French translation<font></font>
      | - pt_BR.po # Brazilian Portuguese translation<font></font>
      | (...)<font></font>
</pre></div>
</div>
<div role="alert" class="alert alert-info"><h3 class="alert-title">Tip</h3><p>By default Odoo’s POT export only extracts labels inside XML files or
inside field definitions in Python code, but any Python string can be
translated this way by surrounding it with the function <code class="xref py-func py">odoo._()</code>
(e.g. <code>_("Label")</code>)</p></div><div role="alert" class="alert alert-exercise"><h3 class="alert-title">Exercise</h3><p>Translate a module</p><p>Choose a second language for your Odoo installation. Translate your
module using the facilities provided by Odoo.</p><ol><li>Create a directory <code>openacademy/i18n/</code></li><li>Install whichever language you want (
<span class="menuselection">Administration ‣ Translations ‣ Load an
Official Translation</span>)</li><li>Synchronize translatable terms (<span class="menuselection">Administration ‣
Translations ‣ Application Terms ‣ Synchronize Translations</span>)</li><li>Create a template translation file by exporting (
<span class="menuselection">Administration ‣ Translations -&gt; Import/Export
‣ Export Translation</span>) without specifying a language, save in
<code>openacademy/i18n/</code></li><li>Create a translation file by exporting (
<span class="menuselection">Administration ‣ Translations ‣ Import/Export
‣ Export Translation</span>) and specifying a language. Save it in
<code>openacademy/i18n/</code></li><li>Open the exported translation file (with a basic text editor or a
dedicated PO-file editor e.g. <a href="http://poedit.net/" class="reference external alert-link">POEdit</a> and translate the missing
terms</li><li>In <code>models.py</code>, add an import statement for the function
<code>odoo._</code> and mark missing strings as translatable</li><li>Repeat steps 3-6</li></ol><div class="pq-patch"><em>openacademy/models.py</em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre><span class="c1"># -*- coding: utf-8 -*-</span><font></font>
<font></font>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">timedelta</span>
<span class="hll"><span class="kn">from</span> <span class="nn">odoo</span> <span class="kn">import</span> <span class="n">models</span><span class="p">,</span> <span class="n">fields</span><span class="p">,</span> <span class="n">api</span><span class="p">,</span> <span class="n">exceptions</span><span class="p">,</span> <span class="n">_</span>
</span>
<span class="k">class</span> <span class="nc">Course</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">_name</span> <span class="o">=</span> <span class="s1">'openacademy.course'</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>        <span class="n">default</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">default</span> <span class="ow">or</span> <span class="p">{})</span><font></font>
<font></font>
        <span class="n">copied_count</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">search_count</span><span class="p">(</span>
<span class="hll">            <span class="p">[(</span><span class="s1">'name'</span><span class="p">,</span> <span class="s1">'=like'</span><span class="p">,</span> <span class="n">_</span><span class="p">(</span><span class="s2">u"Copy of {}%"</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">))])</span>
</span>        <span class="k">if</span> <span class="ow">not</span> <span class="n">copied_count</span><span class="p">:</span>
<span class="hll">            <span class="n">new_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">u"Copy of {}"</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</span>        <span class="k">else</span><span class="p">:</span>
<span class="hll">            <span class="n">new_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">u"Copy of {} ({})"</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">copied_count</span><span class="p">)</span>
</span>
        <span class="n">default</span><span class="p">[</span><span class="s1">'name'</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_name</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">Course</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">default</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">seats</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s1">'warning'</span><span class="p">:</span> <span class="p">{</span>
<span class="hll">                    <span class="s1">'title'</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">"Incorrect 'seats' value"</span><span class="p">),</span>
</span><span class="hll">                    <span class="s1">'message'</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">"The number of available seats may not be negative"</span><span class="p">),</span>
</span>                <span class="p">},</span>
            <span class="p">}</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">seats</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">attendee_ids</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s1">'warning'</span><span class="p">:</span> <span class="p">{</span>
<span class="hll">                    <span class="s1">'title'</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">"Too many attendees"</span><span class="p">),</span>
</span><span class="hll">                    <span class="s1">'message'</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">"Increase seats or remove excess attendees"</span><span class="p">),</span>
</span>                <span class="p">},</span>
            <span class="p">}</span><font></font>
<font></font>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_check_instructor_not_in_attendees</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">instructor_id</span> <span class="ow">and</span> <span class="n">r</span><span class="o">.</span><span class="n">instructor_id</span> <span class="ow">in</span> <span class="n">r</span><span class="o">.</span><span class="n">attendee_ids</span><span class="p">:</span>
<span class="hll">                <span class="k">raise</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">"A session's instructor can't be an attendee"</span><span class="p">))</span>
</span></pre></div>
</div>
</div></div></div></section><section id="reporting"><h2 class="o_has_permalink_marker">Reporting<i class="mdi-content-link"></i></h2></section><section id="printed-reports"><h3 class="o_has_permalink_marker">Printed reports<i class="mdi-content-link"></i></h3><p>Odoo uses a report engine based on <a href="https://www.odoo.com/documentation/master/reference/qweb.html#reference-qweb" class="reference internal"><span class="std-ref std">QWeb</span></a>,
<a href="http://getbootstrap.com/" class="reference external">Twitter Bootstrap</a> and <a href="http://wkhtmltopdf.org/" class="reference external">Wkhtmltopdf</a>.</p><p>A report is a combination two elements:</p><ul><li><p>an <code>ir.actions.report</code>, for which a <code>&lt;report&gt;</code> shortcut element is
provided, it sets up various basic parameters for the report (default
type, whether the report should be saved to the database after generation,…)</p><div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;report</span>
    <span class="na">id=</span><span class="s">"account_invoices"</span>
    <span class="na">model=</span><span class="s">"account.invoice"</span>
    <span class="na">string=</span><span class="s">"Invoices"</span>
    <span class="na">report_type=</span><span class="s">"qweb-pdf"</span>
    <span class="na">name=</span><span class="s">"account.report_invoice"</span>
    <span class="na">file=</span><span class="s">"account.report_invoice"</span>
    <span class="na">attachment_use=</span><span class="s">"True"</span>
    <span class="na">attachment=</span><span class="s">"(object.state in ('open','paid')) and</span>
<span class="s">        ('INV'+(object.number or '').replace('/','')+'.pdf')"</span>
<span class="nt">/&gt;</span>
</pre></div>
</div>
</li><li><p>A standard <a href="https://www.odoo.com/documentation/master/reference/views.html#reference-views-qweb" class="reference internal"><span class="std-ref std">QWeb view</span></a> for the actual report:</p><div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;t</span> <span class="na">t-call=</span><span class="s">"web.html_container"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;t</span> <span class="na">t-foreach=</span><span class="s">"docs"</span> <span class="na">t-as=</span><span class="s">"o"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;t</span> <span class="na">t-call=</span><span class="s">"web.external_layout"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"page"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;h2&gt;</span>Report title<span class="nt">&lt;/h2&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/t&gt;</span>
    <span class="nt">&lt;/t&gt;</span>
<span class="nt">&lt;/t&gt;</span><font></font>
<font></font>
the standard rendering context provides a number of elements, the most<font></font>
important being:<font></font>
<font></font>
``docs``<font></font>
    the records for which the report is printed<font></font>
``user``<font></font>
    the user printing the report<font></font>
</pre></div>
</div>
</li></ul><p>Because reports are standard web pages, they are available through a URL and
output parameters can be manipulated through this URL, for instance the HTML
version of the <em>Invoice</em> report is available through
<a href="http://localhost:8069/report/html/account.report_invoice/1" class="reference external">http://localhost:8069/report/html/account.report_invoice/1</a> (if <code>account</code> is
installed) and the PDF version through
<a href="http://localhost:8069/report/pdf/account.report_invoice/1" class="reference external">http://localhost:8069/report/pdf/account.report_invoice/1</a>.</p><div id="reference-backend-reporting-printed-reports-pdf-without-styles" role="alert" class="alert alert-danger"><h3 class="alert-title">Danger</h3><p>If it appears that your PDF report is missing the styles (i.e. the text
appears but the style/layout is different from the html version), probably
your <a href="http://wkhtmltopdf.org/" class="reference external alert-link">wkhtmltopdf</a> process cannot reach your web server to download them.</p><p>If you check your server logs and see that the CSS styles are not being
downloaded when generating a PDF report, most surely this is the problem.</p><p>The <a href="http://wkhtmltopdf.org/" class="reference external alert-link">wkhtmltopdf</a> process will use the <code>web.base.url</code> system parameter as
the <em>root path</em> to all linked files, but this parameter is automatically
updated each time the Administrator is logged in. If your server resides
behind some kind of proxy, that could not be reachable. You can fix this by
adding one of these system parameters:</p><ul><li><code>report.url</code>, pointing to an URL reachable from your server
(probably <code>http://localhost:8069</code> or something similar). It will be
used for this particular purpose only.</li><li><code>web.base.url.freeze</code>, when set to <code>True</code>, will stop the
automatic updates to <code>web.base.url</code>.</li></ul></div><div role="alert" class="alert alert-exercise"><h3 class="alert-title">Exercise</h3><p>Create a report for the Session model</p><p>For each session, it should display session’s name, its start and end,
and list the session’s attendees.</p><div class="pq-patch"><em>openacademy/__manifest__.py</em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre>        <span class="s1">'templates.xml'</span><span class="p">,</span>
        <span class="s1">'views/openacademy.xml'</span><span class="p">,</span>
        <span class="s1">'views/partner.xml'</span><span class="p">,</span>
<span class="hll">        <span class="s1">'reports.xml'</span><span class="p">,</span>
</span>    <span class="p">],</span>
    <span class="c1"># only loaded in demonstration mode</span>
    <span class="s1">'demo'</span><span class="p">:</span> <span class="p">[</span>
</pre></div>
</div>
</div><em>openacademy/reports.xml</em><div class="pq-section"><div class="highlight-xml"><div class="highlight"><pre><span class="hll"><span class="nt">&lt;odoo&gt;</span>
</span><span class="hll">
</span><span class="hll">    <span class="nt">&lt;report</span>
</span><span class="hll">        <span class="na">id=</span><span class="s">"report_session"</span>
</span><span class="hll">        <span class="na">model=</span><span class="s">"openacademy.session"</span>
</span><span class="hll">        <span class="na">string=</span><span class="s">"Session Report"</span>
</span><span class="hll">        <span class="na">name=</span><span class="s">"openacademy.report_session_view"</span>
</span><span class="hll">        <span class="na">file=</span><span class="s">"openacademy.report_session"</span>
</span><span class="hll">        <span class="na">report_type=</span><span class="s">"qweb-pdf"</span> <span class="nt">/&gt;</span>
</span><span class="hll">
</span><span class="hll">    <span class="nt">&lt;template</span> <span class="na">id=</span><span class="s">"report_session_view"</span><span class="nt">&gt;</span>
</span><span class="hll">        <span class="nt">&lt;t</span> <span class="na">t-call=</span><span class="s">"web.html_container"</span><span class="nt">&gt;</span>
</span><span class="hll">            <span class="nt">&lt;t</span> <span class="na">t-foreach=</span><span class="s">"docs"</span> <span class="na">t-as=</span><span class="s">"doc"</span><span class="nt">&gt;</span>
</span><span class="hll">                <span class="nt">&lt;t</span> <span class="na">t-call=</span><span class="s">"web.external_layout"</span><span class="nt">&gt;</span>
</span><span class="hll">                    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"page"</span><span class="nt">&gt;</span>
</span><span class="hll">                        <span class="nt">&lt;h2</span> <span class="na">t-field=</span><span class="s">"doc.name"</span><span class="nt">/&gt;</span>
</span><span class="hll">                        <span class="nt">&lt;p&gt;</span>From <span class="nt">&lt;span</span> <span class="na">t-field=</span><span class="s">"doc.start_date"</span><span class="nt">/&gt;</span> to <span class="nt">&lt;span</span> <span class="na">t-field=</span><span class="s">"doc.end_date"</span><span class="nt">/&gt;&lt;/p&gt;</span>
</span><span class="hll">                        <span class="nt">&lt;h3&gt;</span>Attendees:<span class="nt">&lt;/h3&gt;</span>
</span><span class="hll">                        <span class="nt">&lt;ul&gt;</span>
</span><span class="hll">                            <span class="nt">&lt;t</span> <span class="na">t-foreach=</span><span class="s">"doc.attendee_ids"</span> <span class="na">t-as=</span><span class="s">"attendee"</span><span class="nt">&gt;</span>
</span><span class="hll">                                <span class="nt">&lt;li&gt;&lt;span</span> <span class="na">t-field=</span><span class="s">"attendee.name"</span><span class="nt">/&gt;&lt;/li&gt;</span>
</span><span class="hll">                            <span class="nt">&lt;/t&gt;</span>
</span><span class="hll">                        <span class="nt">&lt;/ul&gt;</span>
</span><span class="hll">                    <span class="nt">&lt;/div&gt;</span>
</span><span class="hll">                <span class="nt">&lt;/t&gt;</span>
</span><span class="hll">            <span class="nt">&lt;/t&gt;</span>
</span><span class="hll">        <span class="nt">&lt;/t&gt;</span>
</span><span class="hll">    <span class="nt">&lt;/template&gt;</span>
</span><span class="hll">
</span><span class="hll"><span class="nt">&lt;/odoo&gt;</span>
</span></pre></div>
</div>
</div></div></div></section><section id="dashboards"><h3 class="o_has_permalink_marker">Dashboards<i class="mdi-content-link"></i></h3><div role="alert" class="alert alert-exercise"><h3 class="alert-title">Exercise</h3><p>Define a Dashboard</p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">定义一个仪表板，其中包含您创建的图表视图，会话日历视图和课程列表视图（可切换到表单视图）。</font><font style="vertical-align: inherit;">此仪表板应通过菜单中的menuitem提供，并在选择OpenAcademy主菜单时自动显示在Web客户端中。</font></font></p><ol><li><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建一个文件</font></font><code>openacademy/views/session_board.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">它应包含电路板视图，该视图中引用的操作，打开仪表板的操作以及主菜单项的重新定义以添加仪​​表板操作</font></font></p><div role="alert" class="alert alert-info"><h3 class="alert-title">Note</h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可用仪表盘样式是</font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>1-1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>1-2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
 </font></font><code>2-1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>1-1-1</code></p></div></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更新</font></font><code>openacademy/__manifest__.py</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以引用新数据文件</font></font></li></ol><div class="pq-patch"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">openacademy / __ manifest__.py</font></font></em><div class="pq-section"><div class="highlight-python"><div class="highlight"><pre>    <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'版本' </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></span> <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'0.1' </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span><font></font>
<font></font>
    <span class="c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＃这个正常工作所需的任何模块</font></font></span>
<font style="vertical-align: inherit;"><span class="hll"><span class="s1"><font style="vertical-align: inherit;">'取决于' </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">：</font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">[ </font></span></span><span class="hll"><span class="s1"><font style="vertical-align: inherit;">'base' </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">，</font></span></span><span class="hll"><span class="s1"><font style="vertical-align: inherit;">'board' </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">]，</font></span></span><span class="c1"><font style="vertical-align: inherit;">＃always loaded'data </font></span><span class="s1"><font style="vertical-align: inherit;">' </font></span><span class="p"><font style="vertical-align: inherit;">：</font></span><span class="p"><font style="vertical-align: inherit;">[</font></span></font><span class="hll">    <span class="s1"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span> <span class="p"><font style="vertical-align: inherit;"></font></span><span class="s1"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span> <span class="s1"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span>
</span>
    <span class="c1"><font style="vertical-align: inherit;"></font></span>
    <span class="s1"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span> <span class="p"><font style="vertical-align: inherit;"></font></span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>        <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'templates.xml' </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span>
        <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'视图/ openacademy.xml' </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span>
        <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'视图/ partner.xml' </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span>
<font style="vertical-align: inherit;"><span class="hll"><span class="s1"><font style="vertical-align: inherit;">'视图/ session_board.xml' </font></span></span><span class="hll"><span class="p"><font style="vertical-align: inherit;">，</font></span></span><span class="s1"><font style="vertical-align: inherit;"> 'reports.xml' </font></span><span class="p"><font style="vertical-align: inherit;">，</font></span><span class="p"><font style="vertical-align: inherit;">]， </font></span><span class="c1"><font style="vertical-align: inherit;">＃</font></span><span class="c1"><font style="vertical-align: inherit;">只装载在演示模式下</font></span></font><span class="hll">        <span class="s1"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span>
</span>        <span class="s1"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span>
    <span class="p"><font style="vertical-align: inherit;"></font></span>
    <span class="c1"><font style="vertical-align: inherit;"></font></span>
</pre></div>
</div>
</div><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">openacademy /视图/ session_board.xml</font></font></em><div class="pq-section"><div class="highlight-xml"><div class="highlight"><pre><span class="hll"><span class="cp"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;？xml version =“1.0”？&gt; </font></font></span>
</span><span class="hll"><span class="nt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;odoo&gt; </font></font></span>
</span><font style="vertical-align: inherit;"><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;record </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">model = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“ir.actions.act_window” </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">id = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“act_session_graph” </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;field </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">name = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“name” </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&gt;</font></span></span><span class="hll"><font style="vertical-align: inherit;">参加者当然</font></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ field&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;field </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">name = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“ res_model“ </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&gt;</font></span></span><span class="hll"><font style="vertical-align: inherit;"> openacademy.session </font></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ field&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;field </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">name = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">”view_type“ </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&gt;</font></span></span><span class="hll"><font style="vertical-align: inherit;"> form </font></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ field&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;field </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">name = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">”view_mode“ </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&gt;</font></span></span><span class="hll"><font style="vertical-align: inherit;"> graph </font></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ field&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;field </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">name = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">”view_id“</font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">ref = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“openacademy.openacademy_session_graph_view” </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">/&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ record&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;记录</font></span></span></font><span class="hll">
</span><span class="hll">        <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">            <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">            <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">            <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">            <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">            <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">                   <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">model = </font></font></span><span class="s"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ir.actions.act_window” </font></font></span> <span class="na"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">id = </font></font></span><span class="s"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“act_session_calendar” </font></font></span><span class="nt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt; </font></font></span>
</span><font style="vertical-align: inherit;"><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;field </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">name = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“name” </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&gt;</font></span></span><span class="hll"><font style="vertical-align: inherit;"> Sessions </font></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ field&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;field </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">name = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“res_model” </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&gt;</font></span></span><span class="hll"><font style="vertical-align: inherit;"> openacademy.session </font></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ field&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;field </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">name = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“view_type” </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&gt;</font></span></span><span class="hll"><font style="vertical-align: inherit;"> form </font></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ field&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;field </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">name = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“view_mode” </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&gt;</font></span></span><span class="hll"><font style="vertical-align: inherit;"> calendar </font></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ field&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;field </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">name = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“view_id” </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">ref = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“openacademy.session_calendar_view” </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">/&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ record&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;record </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">model = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“ir.actions.act_window” </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">id =</font></span></span></font><span class="hll">            <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">            <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">            <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">            <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">            <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s">"act_course_list"</span><span class="nt">&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>Courses<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"res_model"</span><span class="nt">&gt;</span>openacademy.course<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"view_type"</span><span class="nt">&gt;</span>form<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"view_mode"</span><span class="nt">&gt;</span>tree,form<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">        <span class="nt">&lt;/record&gt;</span>
</span><span class="hll">        <span class="nt">&lt;record</span> <span class="na">model=</span><span class="s">"ir.ui.view"</span> <span class="na">id=</span><span class="s">"board_session_form"</span><span class="nt">&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>Session Dashboard Form<span class="nt">&lt;/field&gt;</span>
</span><span class="hll">            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"model"</span><span class="nt">&gt;</span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">board.board </font></font><span class="nt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;/ field&gt; </font></font></span>
</span><font style="vertical-align: inherit;"><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;field </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">name = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“type” </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&gt;</font></span></span><span class="hll"><font style="vertical-align: inherit;"> form </font></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ field&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;field </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">name = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“arch” </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">type = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“xml” </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;form </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">string = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“Session Dashboard” </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;board </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">style = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“2-1 “ </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;column&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;action </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">string = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">”参加者当然是“ </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">name = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">”％（act_session_graph）d“ </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">height = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">”150“ </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">width = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">”510“ </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">/&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;action </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">string = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">”Sessions“ </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">name = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">”％（act_session_calendar）d“ </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">/&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ column&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;column&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;action</font></span></span></font><span class="hll">            <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">            <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">                <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">                    <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">                        <span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">                            <span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">                                <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">                                <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">                                <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">                                <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">                            <span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">                                <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">                                <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">                        <span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">                        <span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">                            <span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">                                <span class="na"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">string = </font></font></span><span class="s"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Courses” </font></font></span>
</span><font style="vertical-align: inherit;"><span class="hll"><span class="na"><font style="vertical-align: inherit;">name = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“％（act_course_list）d” </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">/&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ column&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ board&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ form&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ field&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ record&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;record </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">model = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“ir.actions.act_window” </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">id = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“ open_board_session“ </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;field </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">name = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">”name“ </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&gt;</font></span></span><span class="hll"><font style="vertical-align: inherit;">会话仪表板</font></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ field&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;field </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">name = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">”res_model“ </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&gt;</font></span></span><span class="hll"><font style="vertical-align: inherit;"> board.board </font></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ field&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;field </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">name = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">”view_type“ </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&gt;</font></span></span><span class="hll"><font style="vertical-align: inherit;">表格</font></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ field&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;field </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">name = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">”view_mode“ </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&gt;</font></span></span><span class="hll"><font style="vertical-align: inherit;">表单</font></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ field&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;field </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">name =</font></span></span></font><span class="hll">                                <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">                        <span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">                    <span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">                <span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">            <span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">          <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">          <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">          <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">          <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span><font style="vertical-align: inherit;"></font><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">          <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“usage” </font></font></span><span class="nt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt;</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> menu </font></font><span class="nt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;/ field&gt; </font></font></span>
</span><font style="vertical-align: inherit;"><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;field </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">name = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“view_id” </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">ref = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“board_session_form” </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">/&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ record&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;menuitem </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">name = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“Session Dashboard” </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">parent = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“base.menu_reporting_dashboard” </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">action = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“open_board_session” </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">sequence = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">“ 1“ </font></span></span><span class="hll"><span class="na"><font style="vertical-align: inherit;">id = </font></span></span><span class="hll"><span class="s"><font style="vertical-align: inherit;">”menu_board_session“ </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">/&gt; </font></span></span><span class="hll"><span class="nt"><font style="vertical-align: inherit;">&lt;/ odoo&gt;</font></span></span></font><span class="hll">          <span class="nt"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">        <span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">
</span><span class="hll">        <span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">            <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span> <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">            <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">            <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">            <span class="na"><font style="vertical-align: inherit;"></font></span><span class="s"><font style="vertical-align: inherit;"></font></span><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span><span class="hll">
</span><span class="hll"><span class="nt"><font style="vertical-align: inherit;"></font></span>
</span></pre></div>
</div>
</div></div></div></section><section id="webservices"><h2 class="o_has_permalink_marker"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网页服务</font></font><i class="mdi-content-link"></i></h2><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Web服务模块为所有Web服务提供通用接口：</font></font></p><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XML-RPC</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JSON-RPC</font></font></li></ul><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还可以通过分布式对象机制访问业务对象。</font><font style="vertical-align: inherit;">它们都可以通过具有上下文视图的客户端界面进行修改。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Odoo可通过XML-RPC / JSON-RPC接口访问，其中库以多种语言存在。</font></font></p></section><section id="xml-rpc-library"><h3 class="o_has_permalink_marker"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XML-RPC库</font></font><i class="mdi-content-link"></i></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下示例是一个Python 3程序，它与Odoo服务器与库交互</font></font><code>xmlrpc.client</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p><div class="highlight-default"><div class="highlight"><pre><span class="kn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">import </font></font></span> <span class="nn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xmlrpc.client</font></font></span><font></font>
<font></font>
<span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">root </font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'http：// </font></font></span><span class="si"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">％s </font></font></span><span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></span><span class="si"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">％d </font></font></span><span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ xmlrpc /' </font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">％</font></font></span> <span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HOST </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PORT </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><font></font>
<font></font>
<span class="n">uid</span> <span class="o">=</span> <span class="n">xmlrpc</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">ServerProxy</span><span class="p">(</span><span class="n">root</span> <span class="o">+</span> <span class="s1">'common'</span><span class="p">)</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">DB</span><span class="p">,</span> <span class="n">USER</span><span class="p">,</span> <span class="n">PASS</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Logged in as </span><span class="si">%s</span><span class="s2"> (uid: </span><span class="si">%d</span><span class="s2">)"</span> <span class="o">%</span> <span class="p">(</span><span class="n">USER</span><span class="p">,</span> <span class="n">uid</span><span class="p">))</span><font></font>
<font></font>
<span class="c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＃创建一个新的音符</font></font></span>
<span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sock </font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xmlrpc </font></font></span><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户</font></font></span><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ServerProxy </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">root </font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ </font></font></span> <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'object' </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span>
<span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">args </font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{ </font></font></span>
    <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'color' </font></font></span> <span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></span> <span class="mi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8 </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span>
    <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'memo' </font></font></span> <span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></span> <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'这是一个音符' </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span>
    <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'create_uid' </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uid </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span>
<span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">} </font></font></span>
<span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">note_id </font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sock </font></font></span><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行</font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DB </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uid </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PASS </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'note.note' </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'create' </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">args </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span>
</pre></div>
</div>
<div role="alert" class="alert alert-exercise"><h3 class="alert-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行使</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">向客户端添加新服务</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编写一个Python程序，能够将XML-RPC请求发送到运行Odoo的PC（您或您的教师）。</font><font style="vertical-align: inherit;">该程序应显示所有会话及其相应的席位数。</font><font style="vertical-align: inherit;">它还应该为其中一个课程创建一个新会话。</font></font></p><div class="highlight-python"><div class="highlight"><pre><span class="kn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进口</font></font></span> <span class="nn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">functools </font></font></span>
<span class="kn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">导入</font></font></span> <span class="nn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xmlrpc.client </font></font></span>
<span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HOST </font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'本地主机' </font></font></span>
<span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PORT </font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="mi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8069 </font></font></span>
<span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DB </font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'openacademy' </font></font></span>
<span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">USER </font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'管理员' </font></font></span>
<span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PASS </font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'管理员' </font></font></span>
<span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ROOT </font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的'http：// </font></font></span><span class="si"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">％S </font></font></span><span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></span><span class="si"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">％d </font></font></span><span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ XMLRPC /' ％</font></font></span> <font style="vertical-align: inherit;"><span class="p"><font style="vertical-align: inherit;">（</font></span></font><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> </font></font></span> <font style="vertical-align: inherit;"><span class="n"><font style="vertical-align: inherit;">HOST </font></span><span class="p"><font style="vertical-align: inherit;">，</font></span><span class="n"><font style="vertical-align: inherit;">PORT </font></span><span class="p"><font style="vertical-align: inherit;">）</font></span></font><span class="p"><font style="vertical-align: inherit;"></font></span><span class="n"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span><span class="n"><font style="vertical-align: inherit;"></font></span><span class="p"><font style="vertical-align: inherit;"></font></span><font></font>
<font></font>
<span class="c1"># 1. Login</span>
<span class="n">uid</span> <span class="o">=</span> <span class="n">xmlrpc</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">ServerProxy</span><span class="p">(</span><span class="n">ROOT</span> <span class="o">+</span> <span class="s1">'common'</span><span class="p">)</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">DB</span><span class="p">,</span><span class="n">USER</span><span class="p">,</span><span class="n">PASS</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s2">"Logged in as </span><span class="si">%s</span><span class="s2"> (uid:</span><span class="si">%d</span><span class="s2">)"</span> <span class="o">%</span> <span class="p">(</span><span class="n">USER</span><span class="p">,</span><span class="n">uid</span><span class="p">))</span><font></font>
<font></font>
<span class="n">call</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span>
    <span class="n">xmlrpc</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">ServerProxy</span><span class="p">(</span><span class="n">ROOT</span> <span class="o">+</span> <span class="s1">'object'</span><span class="p">)</span><span class="o">.</span><span class="n">execute</span><span class="p">,</span>
    <span class="n">DB</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">PASS</span><span class="p">)</span><font></font>
<font></font>
<span class="c1"># 2. Read the sessions</span>
<span class="n">sessions</span> <span class="o">=</span> <span class="n">call</span><span class="p">(</span><span class="s1">'openacademy.session'</span><span class="p">,</span><span class="s1">'search_read'</span><span class="p">,</span> <span class="p">[],</span> <span class="p">[</span><span class="s1">'name'</span><span class="p">,</span><span class="s1">'seats'</span><span class="p">])</span>
<span class="k">for</span> <span class="n">session</span> <span class="ow">in</span> <span class="n">sessions</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"Session </span><span class="si">%s</span><span class="s2"> (</span><span class="si">%s</span><span class="s2"> seats)"</span> <span class="o">%</span> <span class="p">(</span><span class="n">session</span><span class="p">[</span><span class="s1">'name'</span><span class="p">],</span> <span class="n">session</span><span class="p">[</span><span class="s1">'seats'</span><span class="p">]))</span>
<span class="c1"># 3.create a new session</span>
<span class="n">session_id</span> <span class="o">=</span> <span class="n">call</span><span class="p">(</span><span class="s1">'openacademy.session'</span><span class="p">,</span> <span class="s1">'create'</span><span class="p">,</span> <span class="p">{</span>
    <span class="s1">'name'</span> <span class="p">:</span> <span class="s1">'My session'</span><span class="p">,</span>
    <span class="s1">'course_id'</span> <span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">})</span>
</pre></div>
</div>
<p>Instead of using a hard-coded course id, the code can look up a course
by name:</p><div class="highlight-default"><div class="highlight"><pre><span class="c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＃3。为“功能”课程创建一个新课程</font></font></span>
<span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">course_id </font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">call </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'openacademy.course' </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'search' </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[（</font></font></span><span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'name' </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span><span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'ilike' </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span><span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'Functional' </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）]）[ </font></font></span><span class="mi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">] </font></font></span>
<span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">session_id </font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">call </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'openacademy.session' </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'create' </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{ </font></font></span>
    <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'name' </font></font></span> <span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></span> <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'我的会话' </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span>
    <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'course_id' </font></font></span> <span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">course_id </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span>
<span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}）</font></font></span>
</pre></div>
</div>
</div></section><section id="json-rpc-library"><h3 class="o_has_permalink_marker"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JSON-RPC库</font></font><i class="mdi-content-link"></i></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下示例是一个Python 3程序，它与标准Python库</font></font><code>urllib.request</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">Odoo服务器进行交互</font></font><code>json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">此示例假定</font><font style="vertical-align: inherit;">已安装</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Productivity</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> app（</font></font><code>note</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：</font></font></p><div class="highlight-default"><div class="highlight"><pre><span class="kn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">import </font></font></span> <span class="nn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">json </font></font></span>
<span class="kn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">import </font></font></span> <span class="nn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">random </font></font></span>
<span class="kn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">import </font></font></span> <span class="nn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">urllib.request</font></font></span><font></font>
<font></font>
<span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HOST </font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'localhost'的</font></font></span>
<span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PORT </font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="mi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8069 </font></font></span>
<span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DB </font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'openacademy' </font></font></span>
<span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">USER </font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'管理员' </font></font></span>
<span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PASS </font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'管理员'</font></font></span><font></font>
<font></font>
<span class="k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">def </font></font></span> <span class="nf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">json_rpc </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">url </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">method </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">params </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：</font></font></span>
    <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">data </font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{ </font></font></span>
        <span class="s2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“jsonrpc” </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></span> <span class="s2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“2.0” </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span>
        <span class="s2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“method” </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">method </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span>
        <span class="s2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“params” </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">params </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span>
        <span class="s2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“id” </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">random </font></font></span><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">randint </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="mi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="mi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10亿</font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），</font></font></span>
    <span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">} </font></font></span>
    <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">REQ </font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">urllib的</font></font></span><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要求</font></font></span><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请求</font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">URL </font></font></span><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">URL </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据</font></font></span><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JSON </font></font></span><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转储</font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据</font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">encode </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（），</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">headers </font></font></span><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{ </font></font></span>
        <span class="s2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Content-Type” </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></span><span class="s2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“application / json” </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span>
    <span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}）</font></font></span>
    <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reply </font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">json </font></font></span><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">负载</font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的urllib </font></font></span><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请求</font></font></span><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的urlopen </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">REQ </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">读</font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（） </font></font></span><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解码</font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'UTF-8' </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">））</font></font></span>
    <span class="k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">答复</font></font></span><span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">get </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="s2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“error” </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：</font></font></span>
        <span class="k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">raise </font></font></span> <span class="ne"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exception </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reply </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span class="s2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“error” </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]）</font></font></span>
    <span class="k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">return </font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reply</font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span class="s2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“结果” </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]</font></font></span><font></font>
<font></font>
<span class="k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">def </font></font></span> <span class="nf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用</font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">url </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">service </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">method </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* </font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">args </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：</font></font></span>
    <span class="k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">return </font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">json_rpc </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">url </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="s2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“call” </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{ </font></font></span><span class="s2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“service” </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">service </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="s2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“method” </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">method </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="s2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“args” </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">args </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}）</font></font></span><font></font>
<font></font>
<span class="c1"><font style="vertical-align: inherit;"></font></span>
<font style="vertical-align: inherit;"><span class="s2"><font style="vertical-align: inherit;">#log </font></span><span class="c1"><font style="vertical-align: inherit;">在给定的数据库中</font></span></font><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">url </font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="s2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“http：// </font></font></span><span class="si"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">％s </font></font></span><span class="s2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></span><span class="si"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">％s </font></font></span><span class="s2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ jsonrpc” </font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">％</font></font></span> <span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HOST </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PORT </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span>
<span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uid </font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">call </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">url </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="s2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“common” </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="s2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“login” </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DB </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">USER </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PASS </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><font></font>
<font></font>
<span class="c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＃创建一个新笔记</font></font></span>
<span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">args </font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{ </font></font></span>
    <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'color' </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></span> <span class="mi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8 </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span>
    <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'memo' </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></span> <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'这是另一个笔记' </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span>
    <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'create_uid' </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uid </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span>
<span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">} </font></font></span>
<span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">note_id </font></font></span> <span class="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">call </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">url </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="s2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“object” </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="s2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“execute” </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DB </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uid </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过</font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'note.note' </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'创造' </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span> <span class="n"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">args </font></font></span><span class="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span>
</pre></div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以轻松地将示例从XML-RPC改为JSON-RPC。</font></font></p><div role="alert" class="alert alert-info"><h3 class="alert-title">Note</h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有许多不同语言的高级API可以访问Odoo系统而无需</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显式地</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过XML-RPC或JSON-RPC，例如：</font></font></p><ul><li><a href="https://github.com/akretion/ooor" class="reference external alert-link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/akretion/ooor</font></font></a></li><li><a href="https://github.com/OCA/odoorpc" class="reference external alert-link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/OCA/odoorpc</font></font></a></li><li><a href="https://github.com/nicolas-van/openerp-client-lib" class="reference external alert-link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/nicolas-van/openerp-client-lib</font></font></a></li><li><a href="http://pythonhosted.org/OdooRPC" class="reference external alert-link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://pythonhosted.org/OdooRPC</font></font></a></li><li><a href="https://github.com/abhishek-jaiswal/php-openerp-lib" class="reference external alert-link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/abhishek-jaiswal/php-openerp-lib</font></font></a></li></ul></div><div id="autofields" class="footnote"><span class="footnote-label"><a class="footnote-backref" href="https://www.odoo.com/documentation/master/howtos/backend.html#id2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[1]</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有可能</font></font><a href="https://www.odoo.com/documentation/master/reference/orm.html#odoo.models.Model._log_access" title="odoo.models.Model._log_access" class="reference internal"><code class="xref py-attr py">disable the automatic creation of some
fields</code></a></div><div id="rawsql" class="footnote"><span class="footnote-label"><a class="footnote-backref" href="https://www.odoo.com/documentation/master/howtos/backend.html#id1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[2]</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编写原始SQL查询是可能的，但需要小心，因为它绕过所有Odoo身份验证和安全机制。</font></font></div></section>

          </article>
        </div>
        
        <div id="mask"></div>
      </main>
  </div>

  <div class="floating_action_container">
    <a id="floating_action" class="ripple" href="https://www.odoo.com/documentation/master/howtos/backend.html#" style="position: relative; overflow: hidden;">
      <i class="mdi-action-explore"></i>
    </a>
    <div id="floating_action_menu">
      <span class="bubble"></span>
      <ul class="list-group content"><li class="list-group-item ripple" style="position: relative; overflow: hidden;"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#start-stop-the-odoo-server" class="reference internal">Start/Stop the Odoo server</a></li><li class="list-group-item ripple" style="position: relative; overflow: hidden;"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#build-an-odoo-module" class="reference internal">Build an Odoo module</a></li><li class="list-group-item ripple" style="position: relative; overflow: hidden;"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#basic-views" class="reference internal">Basic views</a></li><li class="list-group-item ripple" style="position: relative; overflow: hidden;"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#relations-between-models" class="reference internal">Relations between models</a></li><li class="list-group-item ripple" style="position: relative; overflow: hidden;"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#inheritance" class="reference internal">Inheritance</a></li><li class="list-group-item ripple" style="position: relative; overflow: hidden;"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#computed-fields-and-default-values" class="reference internal">Computed fields and default values</a></li><li class="list-group-item ripple" style="position: relative; overflow: hidden;"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#onchange" class="reference internal">Onchange</a></li><li class="list-group-item ripple" style="position: relative; overflow: hidden;"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#model-constraints" class="reference internal">Model constraints</a></li><li class="list-group-item ripple" style="position: relative; overflow: hidden;"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#advanced-views" class="reference internal">Advanced Views</a></li><li class="list-group-item ripple" style="position: relative; overflow: hidden;"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#security" class="reference internal">Security</a></li><li class="list-group-item ripple" style="position: relative; overflow: hidden;"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#wizards" class="reference internal">Wizards</a></li><li class="list-group-item ripple" style="position: relative; overflow: hidden;"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#internationalization" class="reference internal">Internationalization</a></li><li class="list-group-item ripple" style="position: relative; overflow: hidden;"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#reporting" class="reference internal">Reporting</a></li><li class="list-group-item ripple" style="position: relative; overflow: hidden;"><a href="https://www.odoo.com/documentation/master/howtos/backend.html#webservices" class="reference internal">WebServices</a></li></ul>
    </div>
  </div>
  <footer class="o_footer_effect">
    <div id="footer" class="container">
      <span class="o_logo o_logo_inverse center-block o_footer_logo"></span>
      <div class="row">
        <div class="col-sm-7 col-md-7 col-lg-6">
          <div class="row">
            <div class="col-xs-6 col-sm-4">
              <span class="menu_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">社区</font></font></span>
              <ul>
                <li><a href="https://github.com/odoo/odoo"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github上</font></font></a></li>
                <li><a href="http://www.odoo.com/page/download"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载</font></font></a></li>
                <li class="divider"></li>
                <li><a href="http://runbot.odoo.com/runbot/repo/git-github-com-odoo-enterprise-7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Runbot</font></font></a></li>
                <li><a href="https://github.com/odoo/odoo/wiki/Translations"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">翻译</font></font></a></li>
                <li class="divider"></li>
                <li><a href="http://www.odoo.com/page/odoo-community"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">邮件列表</font></font></a></li>
                <li><a href="http://www.odoo.com/forum/help-1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">论坛</font></font></a></li>
              </ul>
            </div>
            <div class="col-xs-6 col-sm-4">
              <span class="menu_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务</font></font></span>
              <ul>
                <li><a href="https://www.odoo.sh/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Odoo云平台</font></font></a></li>
                <li class="divider"></li>
                <li><a href="http://www.odoo.com/help"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持</font></font></a></li>
                <li><a href="https://upgrade.odoo.com/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">升级</font></font></a></li>
                <li class="divider"></li>
                <li><a href="http://www.odoo.com/partners"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">寻找合作伙伴</font></font></a></li>
                <li><a href="http://www.odoo.com/page/become-a-partner"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">成为一个合伙人（参与者</font></font></a></li>
                <li class="divider"></li>
                <li><a href="http://training.odoo.com/courses/odoo-functional"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">培训中心</font></font></a></li>
                <li><a href="http://www.odoo.com/page/education-program"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">教育</font></font></a></li>
                <li class="divider"></li>
                <li><a href="http://www.odoo.com/page/security"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安全</font></font></a></li>
              </ul>
            </div>
            <div class="col-xs-12 col-sm-4 mb64">
              <span class="menu_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于我们</font></font></span>
              <ul>
                <li><a href="http://www.odoo.com/page/about-us"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们公司</font></font></a></li>
                <li><a href="http://www.odoo.com/page/contactus"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">联系</font></font></a></li>
                <li class="divider">
                </li><li><a href="http://www.odoo.com/event"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">活动</font></font></a></li>
                <li><a href="http://www.odoo.com/blog"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">博客</font></font></a></li>
                <li><a href="http://www.odoo.com/blog/6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">顾客</font></font></a></li>
                <li class="divider">
                </li><li><a href="http://www.odoo.com/jobs"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">工作</font></font></a></li>
                <li class="divider">
                </li><li><a href="http://www.odoo.com/page/legal"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">法律</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> | </font></font><a href="http://www.odoo.com/privacy"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">隐私</font></font></a></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="col-sm-5 col-md-4 col-md-offset-1 col-lg-5 col-lg-offset-1">
          <p>
            <small><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              Odoo是一套开源商业应用程序，可满足您公司的所有需求：CRM，电子商务，会计，库存，销售点，项目管理等
               </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              .Odoo独特的价值主张同时也非常易于使用和完全集成。
            </font></font></small>
          </p>
        </div>
      </div>
    </div>
    <div class="o_footer_bottom">
      <div class="container">
        <a class="small" href="http://www.odoo.com/page/website-builder"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网站制作 </font></font><span class="o_logo o_logo_inverse o_logo_15"></span></a>
        <div class="social-links pull-right">
          <a href="http://www.odoo.com/web/about/facebook"><i class="fa fa-facebook"></i></a>
          <a href="http://www.odoo.com/web/about/twitter"><i class="fa fa-twitter"></i></a>
          <a href="http://www.odoo.com/web/about/linkedin"><i class="fa fa-linkedin"></i></a>
          <a href="mailto:info@odoo.com"><i class="fa fa-envelope"></i></a>
        </div>
      </div>
    </div>
  </footer><script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-52174891-1', 'auto');
    ga('send','pageview');
    </script><div id="goog-gt-tt" class="skiptranslate" dir="ltr"><div style="padding: 8px;"><div><div class="logo"><img src="./构建模块 - odoo 12.0文档_files/translate_24dp.png" width="20" height="20" alt="Google 翻译"></div></div></div><div class="top" style="padding: 8px; float: left; width: 100%;"><h1 class="title gray">原文</h1></div><div class="middle" style="padding: 8px;"><div class="original-text"></div></div><div class="bottom" style="padding: 8px;"><div class="activity-links"><span class="activity-link">提供更好的翻译建议</span><span class="activity-link"></span></div><div class="started-activity-container"><hr style="color: #CCC; background-color: #CCC; height: 1px; border: none;"><div class="activity-root"></div></div></div><div class="status-message" style="display: none;"></div></div>
  
<div class="goog-te-spinner-pos"><div class="goog-te-spinner-animation"><svg xmlns="http://www.w3.org/2000/svg" class="goog-te-spinner" width="96px" height="96px" viewBox="0 0 66 66"><circle class="goog-te-spinner-path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle></svg></div></div></body></html>